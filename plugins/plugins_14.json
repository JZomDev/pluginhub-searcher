[{"commit":"0907827d2440b270576713cbd84a749d9cb7e213","repository":"https://github.com/daanbom/Custom-Drop-Sounds.git","internalName":"custom-drop-sounds","files":[{"fileName":"AnimationIDs.java","content":"package org.CustomSounds;\n\npublic enum AnimationIDs\n{\n    BURN_CLAW(11140),\n    DRAGON_CLAW(7514),\n    HORN_HIT(12158),\n    HORN_MISS(12159),\n    ELDER_MAUL(11124),\n    VOIDWAKER(11275),\n    KERIS(9546),\n    BGS(7642),\n    CRYSTAL_HALLY(1203),\n    HOUSE_TABS(4071),\n    CAPES(714),\n    SCROLLS(3864);\n\n\n    public final int Id;\n\n    AnimationIDs(int id)\n    {\n        this.Id \u003d id;\n    }\n}\n\n","filePath":"src\\main\\java\\org\\CustomSounds\\AnimationIDs.java"},{"fileName":"CustomSoundsConfig.java","content":"package org.CustomSounds;\n\nimport net.runelite.client.config.*;\n\n@ConfigGroup(\"CustomDropSounds\")\npublic interface CustomSoundsConfig extends Config\n{\n\n\t@ConfigSection(\n\t\t\tname \u003d \"Value drops\",\n\t\t\tdescription \u003d \"All the settings for drops\",\n\t\t\tposition \u003d 8\n\n\t)\n\tString valueDrops \u003d \"valueDrops\";\n\n\t@ConfigSection(\n\t\t\tname \u003d \"Clue drops\",\n\t\t\tdescription \u003d \"All the settings for drops\",\n\t\t\tposition \u003d 7\n\n\t)\n\tString clueDrops \u003d \"clueDrops\";\n\n\t@ConfigSection(\n\t\t\tname \u003d \"Spec weapon sounds\",\n\t\t\tdescription \u003d \"All the settings for Spec weapons\",\n\t\t\tposition \u003d 9\n\n\t)\n\tString specWeapon \u003d \"specWeapon\";\n\t@Range(max\u003d100)\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"masterVolume\",\n\t\t\tname \u003d \"Master Volume\",\n\t\t\tdescription \u003d \"Sets the master volume of all ground item sounds\",\n\t\t\tposition \u003d 0\n\t)\n\tdefault int masterVolume()\n\t{\n\t\treturn 50;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"highlightSound\",\n\t\t\tname \u003d \"Highlight Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a highlighted (ground item plugin) item appears\",\n\t\t\tposition \u003d 1\n\t)\n\tdefault boolean highlightSound()\n\t{\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"petSound\",\n\t\t\tname \u003d \"Pet Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a pet item appears\",\n\t\t\tposition \u003d 2\n\t)\n\tdefault boolean petSound()\n\t{\n\t\treturn false;\n\t}\n\t\t@ConfigItem(\n\t\t\tkeyName \u003d \"maxHitBoolean\",\n\t\t\tname \u003d \"Maxhit\",\n\t\t\tdescription \u003d \"Enable/Disable Max Hit Sounds\",\n\t\t\tsection \u003d \"hitsplatToggleSection\",\n\t\t\tposition \u003d 3\n\t)\n\tdefault boolean maxHitBoolean() {return false;}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"announceDeath\",\n\t\t\tname \u003d \"Death sound\",\n\t\t\tdescription \u003d \"Enable/Disable Death Sound\",\n\t\t\tposition \u003d 4\n\t)\n\tdefault boolean announceDeath() {\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"announceCollectionLog\",\n\t\t\tname \u003d \"New collection log entry\",\n\t\t\tdescription \u003d \" This one relies on you having chat messages (included with the popup option) enabled in game settings!\",\n\t\t\tposition \u003d 5\n\t)\n\tdefault boolean announceCollectionLog() {\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"teleports\",\n\t\t\tname \u003d \"Teleport Sounds\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom sound for teleports (house tabs, capes, scrolls)\",\n\t\t\tposition \u003d 6\n\t)\n\tdefault boolean teleports() {\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"beginnerClueSound\",\n\t\t\tname \u003d \"Beginner Clue Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a beginner clue item appears\",\n\t\t\tposition \u003d 0,\n\t\t\tsection \u003d clueDrops\n\t)\n\n\tdefault boolean beginnerClueSound()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"easyClueSound\",\n\t\t\tname \u003d \"Easy Clue Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a easy clue item appears\",\n\t\t\tposition \u003d 1,\n\t\t\tsection \u003d clueDrops\n\t)\n\tdefault boolean easyClueSound()\n\t{\n\t\treturn true;\n\t}\n\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"mediumClueSound\",\n\t\t\tname \u003d \"Medium Clue Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a medium clue item appears\",\n\t\t\tposition \u003d 2,\n\t\t\tsection \u003d clueDrops\n\t)\n\tdefault boolean mediumClueSound()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"hardClueSound\",\n\t\t\tname \u003d \"Hard Clue Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a hard clue item appears\",\n\t\t\tposition \u003d 3,\n\t\t\tsection \u003d clueDrops\n\t)\n\tdefault boolean hardClueSound()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"eliteClueSound\",\n\t\t\tname \u003d \"Elite Clue Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a elite clue item appears\",\n\t\t\tposition \u003d 4,\n\t\t\tsection \u003d clueDrops\n\t)\n\tdefault boolean eliteClueSound()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"masterClueSound\",\n\t\t\tname \u003d \"Master Clue Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a master clue item appears\",\n\t\t\tposition \u003d 5,\n\t\t\tsection \u003d clueDrops\n\t)\n\tdefault boolean masterClueSound()\n\t{\n\t\treturn true;\n\t}\n\n\n\n\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"lowestValueSound\",\n\t\t\tname \u003d \"Lowest Value Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a lowest valued item appears\",\n\t\t\tposition \u003d 0,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault boolean lowestValueSound()\n\t{\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"lowestStart\",\n\t\t\tname \u003d \"Lowest Value starting GP\",\n\t\t\tdescription \u003d \"What is the starting gp you want to hear this sound\" ,\n\t\t\tposition \u003d 1,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault int lowestStart() {\n\t\treturn 20000;\n\t}\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"lowestEnd\",\n\t\t\tname \u003d \"Lowest Value ending GP\",\n\t\t\tdescription \u003d \"What is the ending gp you want to hear this sound\" ,\n\t\t\tposition \u003d 2,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault int lowestEnd() {\n\t\treturn 150000;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"lowValueSound\",\n\t\t\tname \u003d \"Low Value Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a low valued item appears\",\n\t\t\tposition \u003d 3,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault boolean lowValueSound()\n\t{\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"lowStart\",\n\t\t\tname \u003d \"Low Value starting GP\",\n\t\t\tdescription \u003d \"What is the starting gp you want to hear this sound\" ,\n\t\t\tposition \u003d 4,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault int lowStart() {\n\t\treturn 150000;\n\t}\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"lowEnd\",\n\t\t\tname \u003d \"Low Value ending GP\",\n\t\t\tdescription \u003d \"What is the ending gp you want to hear this sound\" ,\n\t\t\tposition \u003d 5,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault int lowEnd() {\n\t\treturn 500000;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"mediumValueSound\",\n\t\t\tname \u003d \"Medium Value Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a medium valued item appears\",\n\t\t\tposition \u003d 6,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault boolean mediumValueSound()\n\t{\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"mediumStart\",\n\t\t\tname \u003d \"Medium Value starting GP\",\n\t\t\tdescription \u003d \"What is the starting gp you want to hear this sound\" ,\n\t\t\tposition \u003d 7,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault int mediumStart() {\n\t\treturn 500000;\n\t}\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"mediumEnd\",\n\t\t\tname \u003d \"Medium Value ending GP\",\n\t\t\tdescription \u003d \"What is the ending gp you want to hear this sound\" ,\n\t\t\tposition \u003d 8,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault int mediumEnd() {\n\t\treturn 1000000;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"highValueSound\",\n\t\t\tname \u003d \"High Value Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a high valued item appears\",\n\t\t\tposition \u003d 9,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault boolean highValueSound()\n\t{\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"highStart\",\n\t\t\tname \u003d \"High Value starting GP\",\n\t\t\tdescription \u003d \"What is the starting gp you want to hear this sound\" ,\n\t\t\tposition \u003d 10,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault int highStart() {\n\t\treturn 1000000;\n\t}\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"highEnd\",\n\t\t\tname \u003d \"High Value ending GP\",\n\t\t\tdescription \u003d \"What is the ending gp you want to hear this sound\" ,\n\t\t\tposition \u003d 11,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault int highEnd() {\n\t\treturn 10000000;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"highestValueSound\",\n\t\t\tname \u003d \"Highest Value Sound\",\n\t\t\tdescription \u003d \"Configure whether or not to play a sound when a highest valued item appears\",\n\t\t\tposition \u003d 12,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault boolean highestValueSound()\n\t{\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"highestStart\",\n\t\t\tname \u003d \"Highest Value starting GP\",\n\t\t\tdescription \u003d \"What is the starting gp you want to hear this sound\" ,\n\t\t\tposition \u003d 13,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault int highestStart() {\n\t\treturn 10000000;\n\t}\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"highestEnd\",\n\t\t\tname \u003d \"Highest Value ending GP\",\n\t\t\tdescription \u003d \"What is the ending gp you want to hear this sound\" ,\n\t\t\tposition \u003d 14,\n\t\t\tsection \u003d valueDrops\n\t)\n\tdefault int highestEnd() {\n\t\treturn 1000000000;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"zaryteCrossBow\",\n\t\t\tname \u003d \"Zaryte CrossBow Spec\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom Zaryte CrossBow spec sound\" ,\n\t\t\tposition \u003d 0,\n\t\t\tsection \u003d specWeapon\n\t)\n\tdefault boolean zaryteCrossBow() {\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"elderMaul\",\n\t\t\tname \u003d \"Elder Maul Spec\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom Elder Maul spec sound\" ,\n\t\t\tposition \u003d 1,\n\t\t\tsection \u003d specWeapon\n\t)\n\tdefault boolean elderMaul() {\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"dragonClaws\",\n\t\t\tname \u003d \"Dragon Claw Spec\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom Dragon Claw spec sound\" ,\n\t\t\tposition \u003d 2,\n\t\t\tsection \u003d specWeapon\n\t)\n\tdefault boolean dragonClaws() {\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"burnClaw\",\n\t\t\tname \u003d \"Burn Claw Spec\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom Burn Claw spec sound\",\n\t\t\tposition \u003d 3,\n\t\t\tsection \u003d specWeapon\n\t)\n\tdefault boolean burnClaw() {\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"horn\",\n\t\t\tname \u003d \"Horn Spec\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom Horn spec sound\",\n\t\t\tposition \u003d 4,\n\t\t\tsection \u003d specWeapon\n\t)\n\tdefault boolean horn() {\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"voidwaker\",\n\t\t\tname \u003d \"Voidwaker Spec\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom Voidwaker spec sound\",\n\t\t\tposition \u003d 5,\n\t\t\tsection \u003d specWeapon\n\t)\n\tdefault boolean voidwaker() {\n\t\treturn false;\n\t}\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"blowpipe\",\n\t\t\tname \u003d \"Blowpipe Spec\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom Blowpipe spec sound\",\n\t\t\tposition \u003d 6,\n\t\t\tsection \u003d specWeapon\n\t)\n\tdefault boolean blowpipe() {\n\t\treturn false;\n\t}\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"keris\",\n\t\t\tname \u003d \"Keris Spec\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom Keris spec sound\",\n\t\t\tposition \u003d 7,\n\t\t\tsection \u003d specWeapon\n\t)\n\tdefault boolean keris() {\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"bgs\",\n\t\t\tname \u003d \"BGS Spec\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom BGS spec sound\",\n\t\t\tposition \u003d 8,\n\t\t\tsection \u003d specWeapon\n\t)\n\tdefault boolean bgs() {\n\t\treturn false;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"crystalHally\",\n\t\t\tname \u003d \"Crystal Halberd Spec\",\n\t\t\tdescription \u003d \"Configure whether or not you want to use a custom Crystal Halberd spec sound\",\n\t\t\tposition \u003d 9,\n\t\t\tsection \u003d specWeapon\n\t)\n\tdefault boolean crystalHally() {\n\t\treturn false;\n\t}\n\n\n}\n","filePath":"src\\main\\java\\org\\CustomSounds\\CustomSoundsConfig.java"},{"fileName":"CustomSoundsPlugin.java","content":"package org.CustomSounds;\n\nimport com.google.common.collect.ImmutableList;\nimport com.google.inject.Provides;\nimport lombok.extern.slf4j.Slf4j;\nimport net.runelite.api.*;\nimport net.runelite.api.events.*;\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.audio.AudioPlayer;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.eventbus.Subscribe;\nimport net.runelite.client.events.ConfigChanged;\nimport net.runelite.client.game.ItemManager;\nimport net.runelite.client.game.ItemStack;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDependency;\nimport net.runelite.client.plugins.PluginDescriptor;\nimport net.runelite.client.plugins.grounditems.GroundItemsConfig;\nimport net.runelite.client.plugins.grounditems.GroundItemsPlugin;\nimport net.runelite.client.plugins.loottracker.LootReceived;\nimport net.runelite.client.util.Text;\n\nimport javax.inject.Inject;\nimport javax.sound.sampled.Clip;\nimport javax.sound.sampled.FloatControl;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.UnsupportedAudioFileException;\nimport java.io.*;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.CopyOnWriteArrayList;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\nimport java.util.regex.Pattern;\n\n@Slf4j\n@PluginDescriptor(\n\t\tname \u003d \"Custom Sounds\",\n\t\tdescription \u003d \"Play custom sound effects for item drops, pets, hits and more\",\n\t\ttags \u003d {\"sound\", \"effect\", \"item\", \"drop\", \"hit\", \"combat\"}\n)\n@PluginDependency(GroundItemsPlugin.class)\npublic class CustomSoundsPlugin extends Plugin\n{\n\t@Inject\n\tprivate CustomSoundsConfig config;\n\n\t@Inject\n\tprivate AudioPlayer audioPlayer;\n\n\n\t@Provides\n\tCustomSoundsConfig provideConfig(ConfigManager configManager)\n\t{\n\t\treturn configManager.getConfig(CustomSoundsConfig.class);\n\t}\n\n\t@Inject\n\tprivate GroundItemsConfig groundItemsConfig;\n\n\t@Inject\n\tprivate ScheduledExecutorService executor;\n\n\t@Inject\n\tprivate Client client;\n\t@Inject\n\tprivate ItemManager itemManager;\n\n\tprivate Map\u003cInteger, WeaponSound\u003e allWeapons \u003d new HashMap\u003c\u003e();\n\n\tprivate static final Pattern COLLECTION_LOG_ITEM_REGEX \u003d Pattern.compile(\"New item added to your collection log:.*\");\n\n\n\tprivate static final ImmutableList\u003cString\u003e PET_MESSAGES \u003d ImmutableList.of(\"You have a funny feeling like you\u0027re being followed\",\n\t\t\t\"You feel something weird sneaking into your backpack\",\n\t\t\t\"You have a funny feeling like you would have been followed\");\n\tprivate static final File CUSTOM_SOUNDS_DIR \u003d new File(RuneLite.RUNELITE_DIR.getPath() + File.separator + \"custom-drop-sounds\");\n\n\tprivate static final File HIGHLIGHTED_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"highlighted_sound.wav\");\n\tprivate static final File BEGINNER_CLUE_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"beginner_clue_sound.wav\");\n\tprivate static final File EASY_CLUE_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"easy_clue_sound.wav\");\n\tprivate static final File MEDIUM_CLUE_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"medium_clue_sound.wav\");\n\tprivate static final File HARD_CLUE_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"hard_clue_sound.wav\");\n\tprivate static final File ELITE_CLUE_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"elite_clue_sound.wav\");\n\tprivate static final File MASTER_CLUE_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"master_clue_sound.wav\");\n\tprivate static final File LOW_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"low_sound.wav\");\n\tprivate static final File MEDIUM_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"medium_sound.wav\");\n\n\tprivate static final File PET_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"pet_sound.wav\");\n\tprivate static final File HIGH_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"high_sound.wav\");\n\tprivate static final File HIGHEST_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"highest_sound.wav\");\n\tprivate static final File LOWEST_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"lowest_sound.wav\");\n\tprivate static final File COLLECTIONLOG_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"CollectionLog.wav\");\n\tprivate static final File DIED_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"Died.wav\");\n\n\tprivate static final File MAX_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"Max.wav\");\n\n\tprivate static final File ZARYTE_CROSSBOW_SPEC_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"zaryte_spec.wav\");\n\tprivate static final File ELDER_MAUL_SPEC_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"elder_maul.wav\");\n\tprivate static final File DRAGON_CLAWS_SPEC_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"dragon_claws.wav\");\n\tprivate static final File BURN_CLAW_SPEC_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"burn_claws.wav\");\n\tprivate static final File HORN_SPEC_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"horn_spec.wav\");\n\tprivate static final File VOIDWAKER_SPEC_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"voidwaker.wav\");\n\tprivate static final File BLOWPIPE_SPEC_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"blowpipe.wav\");\n\tprivate static final File KERIS_SPEC_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"keris_spec.wav\");\n\tprivate static final File BGS_SPEC_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"bgs_spec.wav\");\n\tprivate static final File CRYSTAL_HALLY_SPEC_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"crystal_hally_spec.wav\");\n\tprivate static final File TELEPORT_SOUND_FILE \u003d new File(CUSTOM_SOUNDS_DIR, \"teleport.wav\");\n\tprivate static final File[] SOUND_FILES \u003d new File[]{\n\t\t\tHIGHLIGHTED_SOUND_FILE,\n\t\t\tBEGINNER_CLUE_SOUND_FILE,\n\t\t\tEASY_CLUE_SOUND_FILE,\n\t\t\tMEDIUM_CLUE_SOUND_FILE,\n\t\t\tHARD_CLUE_SOUND_FILE,\n\t\t\tELITE_CLUE_SOUND_FILE,\n\t\t\tMASTER_CLUE_SOUND_FILE,\n\t\t\tLOW_SOUND_FILE,\n\t\t\tMEDIUM_SOUND_FILE,\n\t\t\tLOWEST_SOUND_FILE,\n\t\t\tHIGH_SOUND_FILE,\n\t\t\tHIGHEST_SOUND_FILE,\n\t\t\tPET_SOUND_FILE,\n\t\t\tMAX_SOUND_FILE,\n\t\t\tCOLLECTIONLOG_SOUND_FILE,\n\t\t\tDIED_SOUND_FILE,\n\t\t\tZARYTE_CROSSBOW_SPEC_SOUND_FILE,\n\t\t\tELDER_MAUL_SPEC_SOUND_FILE,\n\t\t\tDRAGON_CLAWS_SPEC_SOUND_FILE,\n\t\t\tBURN_CLAW_SPEC_SOUND_FILE,\n\t\t\tHORN_SPEC_SOUND_FILE,\n\t\t\tVOIDWAKER_SPEC_SOUND_FILE,\n\t\t\tBLOWPIPE_SPEC_SOUND_FILE,\n\t\t\tKERIS_SPEC_SOUND_FILE,\n\t\t\tBGS_SPEC_SOUND_FILE,\n\t\t\tCRYSTAL_HALLY_SPEC_SOUND_FILE,\n\t\t\tTELEPORT_SOUND_FILE\n\t};\n\n\n\tprivate List\u003cString\u003e highlightedItemsList \u003d new CopyOnWriteArrayList\u003c\u003e();\n\n\tprivate Clip clip \u003d null;\n\n\t@Override\n\tprotected void startUp()\n\t{\n\t\tinitSoundFiles();\n\t\tupdateHighlightedItemsList();\n\t\tinitAllWeapons();\n\t}\n\n\tprivate void initAllWeapons()\n\t{\n\t\t// Animation-based weapons\n\t\tallWeapons.put(AnimationIDs.ELDER_MAUL.Id,\n\t\t\t\tnew WeaponSound(ELDER_MAUL_SPEC_SOUND_FILE, () -\u003e config.elderMaul(), 2, true));\n\t\tallWeapons.put(AnimationIDs.DRAGON_CLAW.Id,\n\t\t\t\tnew WeaponSound(DRAGON_CLAWS_SPEC_SOUND_FILE, () -\u003e config.dragonClaws(), 1, true));\n\t\tallWeapons.put(AnimationIDs.HORN_HIT.Id,\n\t\t\t\tnew WeaponSound(HORN_SPEC_SOUND_FILE, () -\u003e config.horn(), 0, true));\n\t\tallWeapons.put(AnimationIDs.HORN_MISS.Id,\n\t\t\t\tnew WeaponSound(HORN_SPEC_SOUND_FILE, () -\u003e config.horn(), 0, true));\n\t\tallWeapons.put(AnimationIDs.BURN_CLAW.Id,\n\t\t\t\tnew WeaponSound(BURN_CLAW_SPEC_SOUND_FILE, () -\u003e config.burnClaw(), 0, true));\n\t\tallWeapons.put(AnimationIDs.VOIDWAKER.Id,\n\t\t\t\tnew WeaponSound(VOIDWAKER_SPEC_SOUND_FILE, () -\u003e config.voidwaker(), 1, true));\n\t\tallWeapons.put(AnimationIDs.KERIS.Id,\n\t\t\t\tnew WeaponSound(KERIS_SPEC_SOUND_FILE, () -\u003e config.keris(), 1, true));\n\t\tallWeapons.put(AnimationIDs.BGS.Id,\n\t\t\t\tnew WeaponSound(BGS_SPEC_SOUND_FILE, () -\u003e config.bgs(), 1, true));\n\t\tallWeapons.put(AnimationIDs.CRYSTAL_HALLY.Id,\n\t\t\t\tnew WeaponSound(CRYSTAL_HALLY_SPEC_SOUND_FILE, () -\u003e config.crystalHally(), 1, true));\n\n\t\t// Teleports - all use same sound and config\n\t\tallWeapons.put(AnimationIDs.HOUSE_TABS.Id,\n\t\t\t\tnew WeaponSound(TELEPORT_SOUND_FILE, () -\u003e config.teleports(), 1, true));\n\t\tallWeapons.put(AnimationIDs.CAPES.Id,\n\t\t\t\tnew WeaponSound(TELEPORT_SOUND_FILE, () -\u003e config.teleports(), 1, true));\n\t\tallWeapons.put(AnimationIDs.SCROLLS.Id,\n\t\t\t\tnew WeaponSound(TELEPORT_SOUND_FILE, () -\u003e config.teleports(), 1, true));\n\n\t\t// Sound-based weapons\n\t\tallWeapons.put(SoundIDs.BLOWPIPE.Id,\n\t\t\t\tnew WeaponSound(BLOWPIPE_SPEC_SOUND_FILE, () -\u003e config.blowpipe(), 1, false));\n\t\tallWeapons.put(SoundIDs.RUBY_BOLT.Id,\n\t\t\t\tnew WeaponSound(ZARYTE_CROSSBOW_SPEC_SOUND_FILE, () -\u003e config.zaryteCrossBow(), 1, false));\n\t}\n\n\n\t@Override\n\tprotected void shutDown()\n\t{\n\t\thighlightedItemsList \u003d null;\n\t}\n\n\t@Subscribe\n\tpublic void onConfigChanged(ConfigChanged configChanged)\n\t{\n\n\t\tif (configChanged.getGroup().equals(\"grounditems\") \u0026\u0026 configChanged.getKey().equals(\"highlightedItems\"))\n\t\t{\n\t\t\tupdateHighlightedItemsList();\n\t\t}\n\t}\n\n\t@Subscribe\n\tpublic void onLootReceived(LootReceived lootReceived) {\n\t\tfor (ItemStack stack : lootReceived.getItems()) {\n\t\t\thandleItem(stack.getId(), stack.getQuantity());\n\t\t}\n\t}\n\n\t@Subscribe\n\tpublic void onHitsplatApplied(HitsplatApplied event)\n\t{\n\t\tActor actor \u003d event.getActor();\n\t\t// Skip if actor is null\n\t\tif (actor \u003d\u003d null)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (config.maxHitBoolean() \u0026\u0026 event.getHitsplat().getHitsplatType()\u003d\u003dHitsplatID.DAMAGE_MAX_ME){\n\t\t\tplaySound(MAX_SOUND_FILE);\n\t\t}\n\n\t}\n\n\t@Subscribe\n\tpublic void onAnimationChanged(AnimationChanged event)\n\t{\n\t\tActor actor \u003d event.getActor();\n\n\t\tif (actor !\u003d client.getLocalPlayer())\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tint currentAnimationId \u003d actor.getAnimation();\n\n\t\tWeaponSound weapon \u003d allWeapons.get(currentAnimationId);\n\t\tif (weapon !\u003d null \u0026\u0026 weapon.isAnimationBased \u0026\u0026 weapon.configCheck.get())\n\t\t{\n\t\t\t// Schedule sound to play after specified delay\n\t\t\tscheduleDelayedSound(weapon.soundFile, weapon.delay);\n\t\t}\n\t}\n\n\t@Subscribe\n\tpublic void onSoundEffectPlayed(SoundEffectPlayed event)\n\t{\n\t\tint soundId \u003d event.getSoundId();\n\n\t\tPlayer localPlayer \u003d client.getLocalPlayer();\n\t\tif (localPlayer \u003d\u003d null)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tint currentAnimation \u003d localPlayer.getAnimation();\n\n\t\t// Check if this sound should be blocked (animation-based weapons)\n\t\tWeaponSound animationWeapon \u003d allWeapons.get(currentAnimation);\n\t\tif (animationWeapon !\u003d null \u0026\u0026 animationWeapon.isAnimationBased \u0026\u0026 animationWeapon.configCheck.get())\n\t\t{\n\t\t\tevent.consume(); // Block original sound\n\t\t\treturn;\n\t\t}\n\t\t// Check if this is a sound-based weapon\n\t\tWeaponSound soundWeapon \u003d allWeapons.get(soundId);\n\t\tif (soundWeapon !\u003d null \u0026\u0026 !soundWeapon.isAnimationBased \u0026\u0026 soundWeapon.configCheck.get())\n\t\t{\n\t\t\tevent.consume();\n\n\t\t\tif (soundWeapon.delay \u003e 0)\n\t\t\t{\n\t\t\t\tscheduleDelayedSound(soundWeapon.soundFile, soundWeapon.delay);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tplaySound(soundWeapon.soundFile);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate void handleItem(int id, int quantity) {\n\t\tfinal ItemComposition itemComposition \u003d itemManager.getItemComposition(id);\n\t\tfinal String name \u003d itemComposition.getName().toLowerCase();\n\n\t\tif (config.highlightSound() \u0026\u0026 highlightedItemsList.contains(name))\n\t\t{\n\t\t\tplaySound(HIGHLIGHTED_SOUND_FILE);\n\t\t\treturn;\n\t\t}\n\n\t\tfinal int gePrice \u003d itemManager.getItemPrice(id) * quantity;\n\t\tfinal int haPrice \u003d itemComposition.getHaPrice() * quantity;\n\t\tfinal int value \u003d getValueByMode(gePrice, haPrice);\n\n\t\tif (config.beginnerClueSound() \u0026\u0026 name.contains(\"clue scroll (beginner)\")){\n\t\t\tplaySound(BEGINNER_CLUE_SOUND_FILE);\n\t\t}\n\t\tif (config.easyClueSound() \u0026\u0026 name.contains(\"clue scroll (easy)\")){\n\t\t\tplaySound(EASY_CLUE_SOUND_FILE);\n\t\t}\n\t\tif (config.mediumClueSound() \u0026\u0026 name.contains(\"clue scroll (medium)\")){\n\t\t\tplaySound(MEDIUM_CLUE_SOUND_FILE);\n\t\t}\n\t\tif (config.hardClueSound() \u0026\u0026 name.contains(\"clue scroll (hard)\")){\n\t\t\tplaySound(HARD_CLUE_SOUND_FILE);\n\t\t}\n\n\t\tif (config.eliteClueSound() \u0026\u0026 name.contains(\"clue scroll (elite)\")){\n\t\t\tplaySound(ELITE_CLUE_SOUND_FILE);\n\t\t}\n\t\tif (config.masterClueSound() \u0026\u0026 name.contains(\"clue scroll (master)\")){\n\t\t\tplaySound(MASTER_CLUE_SOUND_FILE);\n\t\t}\n\n\n\n\t\tif (config.lowestValueSound() \u0026\u0026 value \u003e\u003d config.lowestStart() \u0026\u0026 value \u003c config.lowestEnd())\n\t\t{\n\t\t\tplaySound(LOWEST_SOUND_FILE);\n\t\t}\n\t\tif (config.lowValueSound() \u0026\u0026 value \u003e\u003d config.lowStart() \u0026\u0026 value \u003c config.lowEnd())\n\t\t{\n\t\t\tplaySound(LOW_SOUND_FILE);\n\t\t}\n\t\tif (config.mediumValueSound() \u0026\u0026 value \u003e\u003d config.mediumStart() \u0026\u0026 value \u003c config.mediumEnd())\n\t\t{\n\t\t\tplaySound(MEDIUM_SOUND_FILE);\n\t\t}\n\t\tif (config.highValueSound() \u0026\u0026 value \u003e\u003d config.highStart() \u0026\u0026 value \u003c config.highEnd())\n\t\t{\n\t\t\tplaySound(HIGH_SOUND_FILE);\n\t\t}\n\t\tif (config.highestValueSound() \u0026\u0026 value \u003e\u003d config.highestStart() \u0026\u0026 value \u003c config.highestEnd())\n\t\t{\n\t\t\tplaySound(HIGHEST_SOUND_FILE);\n\t\t}\n\t}\n\n\tprivate void playSound(File f)\n\t{\n\t\tif (!f.exists()) {\n\t\t\tlog.warn(\"Sound file does not exist: {}\", f.getPath());\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\t// Convert percentage (0-100) to gain in dB\n\t\t\tfloat gainInDecibels \u003d convertToDecibels(config.masterVolume());\n\n\t\t\t// Call the instance method\n\t\t\taudioPlayer.play(f, gainInDecibels);\n\t\t} catch (IOException | UnsupportedAudioFileException | LineUnavailableException e) {\n\t\t\tlog.warn(\"Error playing sound {}: {}\", f.getName(), e.getMessage());\n\t\t}\n\n\t}\n\tprivate void scheduleDelayedSound(File soundFile, int delayTicks)\n\t{\n\t\t// Convert ticks to milliseconds (1 tick \u003d 600ms)\n\t\tint delayMs \u003d delayTicks * 600;\n\n\t\texecutor.schedule(() -\u003e {\n\t\t\tplaySound(soundFile); // Use your existing playSound method\n\t\t}, delayMs, TimeUnit.MILLISECONDS);\n\t}\n\n\n\n\tprivate float convertToDecibels(int volumePercentage) {\n\t\t// Avoid log(0)\n\t\tif (volumePercentage \u003c\u003d 0) {\n\t\t\treturn -80.0f; // Very quiet\n\t\t}\n\n\t\t// Convert percentage to a ratio (0.0 to 1.0)\n\t\tfloat ratio \u003d volumePercentage / 100.0f;\n\n\t\t// Convert ratio to decibels\n\t\treturn 20f * (float) Math.log10(ratio);\n\t}\n\n\t// sets volume using dB to linear conversion\n\tprivate void setVolume(int volume)\n\t{\n\t\tfloat vol \u003d volume/100.0f;\n\t\tvol *\u003d config.masterVolume()/100.0f;\n\t\tFloatControl gainControl \u003d (FloatControl)clip.getControl(FloatControl.Type.MASTER_GAIN);\n\t\tgainControl.setValue(20.0f * (float) Math.log10(vol));\n\t}\n\n\t// initialize sound files if they haven\u0027t been created yet\n\tprivate void initSoundFiles()\n\t{\n\t\tif (!CUSTOM_SOUNDS_DIR.exists())\n\t\t{\n\t\t\tCUSTOM_SOUNDS_DIR.mkdirs();\n\t\t}\n\n\t\tfor (File f : SOUND_FILES)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tif (f.exists()) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tInputStream stream \u003d CustomSoundsPlugin.class.getClassLoader().getResourceAsStream(f.getName());\n\t\t\t\tOutputStream out \u003d new FileOutputStream(f);\n\t\t\t\tbyte[] buffer \u003d new byte[8 * 1024];\n\t\t\t\tint bytesRead;\n\t\t\t\twhile ((bytesRead \u003d stream.read(buffer)) !\u003d -1) {\n\t\t\t\t\tout.write(buffer, 0, bytesRead);\n\t\t\t\t}\n\t\t\t\tout.close();\n\t\t\t\tstream.close();\n\t\t\t}  catch (Exception e) {\n\t\t\t\tlog.debug(e + \": \" + f);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tprivate int getValueByMode(int gePrice, int haPrice)\n\t{\n\t\tswitch (groundItemsConfig.valueCalculationMode())\n\t\t{\n\t\t\tcase GE:\n\t\t\t\treturn gePrice;\n\t\t\tcase HA:\n\t\t\t\treturn haPrice;\n\t\t\tdefault: // Highest\n\t\t\t\treturn Math.max(gePrice, haPrice);\n\t\t}\n\t}\n\n\t@Subscribe\n\tpublic void onActorDeath(ActorDeath actorDeath) {\n\t\tif (actorDeath.getActor() !\u003d client.getLocalPlayer()){\n\t\t\treturn;\n\t\t}\n\t\tif (config.announceDeath()) {\n\t\t\tplaySound(DIED_SOUND_FILE);\n\t\t}\n\t}\n\n\n\n\tprivate void updateHighlightedItemsList()\n\t{\n\t\tif (!groundItemsConfig.getHighlightItems().isEmpty())\n\t\t{\n\t\t\thighlightedItemsList \u003d Text.fromCSV(groundItemsConfig.getHighlightItems().toLowerCase());\n\t\t}\n\t}\n\t@Subscribe\n\tpublic void onChatMessage(ChatMessage event) {\n\t\tString chatMessage \u003d event.getMessage();\n\t\tif (event.getType() !\u003d ChatMessageType.GAMEMESSAGE\n\t\t\t\t\u0026\u0026 event.getType() !\u003d ChatMessageType.SPAM\n\t\t\t\t\u0026\u0026 event.getType() !\u003d ChatMessageType.TRADE\n\t\t\t\t\u0026\u0026 event.getType() !\u003d ChatMessageType.FRIENDSCHATNOTIFICATION)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (config.announceCollectionLog() \u0026\u0026 COLLECTION_LOG_ITEM_REGEX.matcher(event.getMessage()).matches()){\n\t\t\tplaySound(COLLECTIONLOG_SOUND_FILE);\n\t\t}\n\t\telse if (config.petSound() \u0026\u0026 PET_MESSAGES.stream().anyMatch(chatMessage::contains))\n\t\t{\n\t\t\tplaySound(PET_SOUND_FILE);\n\t\t}\n\n\t}\n\n}\n\n","filePath":"src\\main\\java\\org\\CustomSounds\\CustomSoundsPlugin.java"},{"fileName":"SoundIDs.java","content":"package org.CustomSounds;\n\npublic enum SoundIDs\n{\n    BLOWPIPE(800),\n    RUBY_BOLT(2911);\n\n    public final int Id;\n\n    SoundIDs(int id)\n    {\n        this.Id \u003d id;\n    }\n}\n","filePath":"src\\main\\java\\org\\CustomSounds\\SoundIDs.java"},{"fileName":"SoundManager.java","content":"package org.CustomSounds;\n\nimport lombok.extern.slf4j.Slf4j;\n\nimport javax.sound.sampled.*;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Slf4j\npublic class SoundManager {\n    private final ExecutorService audioExecutor \u003d Executors.newSingleThreadExecutor();\n    private final Map\u003cFile, Clip\u003e clipCache \u003d new HashMap\u003c\u003e();\n    private final CustomSoundsConfig config;\n\n    public SoundManager(CustomSoundsConfig config) {\n        this.config \u003d config;\n    }\n\n    public void playSound(File soundFile) {\n        if (!soundFile.exists()) {\n            log.warn(\"Sound file does not exist: {}\", soundFile.getPath());\n            return;\n        }\n\n        audioExecutor.submit(() -\u003e {\n            try {\n                Clip audioClip \u003d getClip(soundFile);\n                if (audioClip.isRunning()) {\n                    audioClip.stop();\n                }\n                audioClip.setFramePosition(0);\n                setVolume(audioClip, config.masterVolume());\n                audioClip.start();\n            } catch (Exception e) {\n                log.warn(\"Error playing sound {}: {}\", soundFile.getName(), e.getMessage());\n            }\n        });\n    }\n\n    private Clip getClip(File soundFile) throws IOException, UnsupportedAudioFileException, LineUnavailableException {\n        // Check if we have a cached clip\n        if (clipCache.containsKey(soundFile)) {\n            return clipCache.get(soundFile);\n        }\n\n        // Create a new clip\n        try (AudioInputStream audioInputStream \u003d AudioSystem.getAudioInputStream(soundFile)) {\n            AudioFormat format \u003d audioInputStream.getFormat();\n            DataLine.Info info \u003d new DataLine.Info(Clip.class, format);\n            Clip clip \u003d (Clip) AudioSystem.getLine(info);\n            clip.open(audioInputStream);\n\n            // Cache the clip for future use\n            clipCache.put(soundFile, clip);\n\n            return clip;\n        }\n    }\n\n    private void setVolume(Clip clip, int volume) {\n        float vol \u003d volume / 100.0f;\n        if (clip.isControlSupported(FloatControl.Type.MASTER_GAIN)) {\n            FloatControl gainControl \u003d (FloatControl) clip.getControl(FloatControl.Type.MASTER_GAIN);\n            gainControl.setValue(20.0f * (float) Math.log10(vol));\n        }\n    }\n\n    public void shutdown() {\n        audioExecutor.shutdown();\n        // Clean up all cached clips\n        for (Clip clip : clipCache.values()) {\n            if (clip.isOpen()) {\n                clip.close();\n            }\n        }\n        clipCache.clear();\n    }\n}","filePath":"src\\main\\java\\org\\CustomSounds\\SoundManager.java"},{"fileName":"WeaponSound.java","content":"package org.CustomSounds;\n\nimport java.io.File;\nimport java.util.function.Supplier;\n\npublic class WeaponSound {\n    public final File soundFile;\n    public final Supplier\u003cBoolean\u003e configCheck;\n    public final int delay;\n    public final boolean isAnimationBased;\n\n    public WeaponSound(File soundFile, Supplier\u003cBoolean\u003e configCheck, int delay, boolean isAnimationBased) {\n        this.soundFile \u003d soundFile;\n        this.configCheck \u003d configCheck;\n        this.delay \u003d delay;\n        this.isAnimationBased \u003d isAnimationBased;\n    }\n}","filePath":"src\\main\\java\\org\\CustomSounds\\WeaponSound.java"},{"fileName":"PluginLauncher.java","content":"package org.CustomSounds;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class PluginLauncher\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tExternalPluginManager.loadBuiltin(CustomSoundsPlugin.class);\n\t\tRuneLite.main(args);\n\t}\n}","filePath":"src\\test\\java\\org\\CustomSounds\\PluginLauncher.java"}]},{"commit":"b4cd32e9dbffe4e9e989c3d4d46bbc25c741608d","repository":"https://github.com/kulcris/WOMSyncAPITrigger.git","internalName":"womsynctriggerscript","files":[{"fileName":"womsheetsbridgeconfig.java","content":"package com.womsheetsbridge;\n\nimport net.runelite.client.config.Config;\nimport net.runelite.client.config.ConfigGroup;\nimport net.runelite.client.config.ConfigItem;\n\n@ConfigGroup(\"womsheetsbridge\")\npublic interface womsheetsbridgeconfig extends Config\n{\n    @ConfigItem(\n            keyName \u003d \"webAppUrl\",\n            name \u003d \"Apps Script Web App URL\",\n            description \u003d \"The Apps Script Web App deployment URL (the /exec link).\",\n            warning \u003d \"This plugin submits your IP address to a 3rd party website not controlled or verified by the RuneLite Developers.\"\n    )\n    default String webAppUrl()\n    {\n        return \"\";\n    }\n\n    @ConfigItem(\n            keyName \u003d \"enabled\",\n            name \u003d \"Enable bridge\",\n            description \u003d \"If disabled, no requests are sent.\"\n    )\n    default boolean enabled()\n    {\n        return true;\n    }\n    @ConfigItem(\n            keyName \u003d \"debug\",\n            name \u003d \"Debug logging\",\n            description \u003d \"Logs chat lines during pending WOM sync window and HTTP responses.\"\n    )\n    default boolean debug()\n    {\n        return false;\n    }\n}\n","filePath":"src\\main\\java\\com\\womsheetsbridge\\womsheetsbridgeconfig.java"},{"fileName":"womsheetsbridgeplugin.java","content":"package com.womsheetsbridge;\n\nimport com.google.inject.Provides;\nimport javax.inject.Inject;\n\nimport lombok.extern.slf4j.Slf4j;\n\nimport net.runelite.api.ChatMessageType;\nimport net.runelite.api.events.ChatMessage;\nimport net.runelite.api.events.MenuOptionClicked;\nimport net.runelite.client.Notifier;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.eventbus.Subscribe;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDescriptor;\nimport net.runelite.client.util.Text;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.MediaType;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.RequestBody;\nimport okhttp3.Response;\n\nimport java.io.IOException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Slf4j\n@PluginDescriptor(\n        name \u003d \"WOM → Sheets Bridge\",\n        description \u003d \"Triggers a Google Sheets Apps Script after the Wise Old Man \u0027Sync WOM Group\u0027 completes.\",\n        tags \u003d {\"wom\", \"wise old man\", \"google sheets\", \"apps script\"}\n)\npublic class womsheetsbridgeplugin extends Plugin\n{\n    private static final String SYNC_OPTION_TEXT \u003d \"Sync WOM Group\";\n    private static final long PENDING_WINDOW_MS \u003d 120_000; // 2 minutes\n    private static final long DEBOUNCE_MS \u003d 10_000;\n\n    private static final MediaType JSON \u003d MediaType.parse(\"application/json; charset\u003dutf-8\");\n\n    @Inject private womsheetsbridgeconfig config;\n    @Inject private Notifier notifier;\n\n    // Injected by RuneLite; do not construct your own OkHttpClient/Builder\n    @Inject private OkHttpClient okHttpClient;\n\n    // Kept, but no longer used for HTTP (enqueue is async). Safe to remove later if you want.\n    private final ExecutorService executor \u003d Executors.newSingleThreadExecutor();\n\n    private volatile boolean syncPending \u003d false;\n    private volatile long syncPendingUntilMs \u003d 0L;\n    private volatile long lastTriggerAtMs \u003d 0L;\n\n    @Provides\n    womsheetsbridgeconfig provideConfig(ConfigManager configManager)\n    {\n        return configManager.getConfig(womsheetsbridgeconfig.class);\n    }\n\n    @Override\n    protected void shutDown()\n    {\n        executor.shutdownNow();\n        syncPending \u003d false;\n        syncPendingUntilMs \u003d 0L;\n    }\n\n    @Subscribe\n    public void onMenuOptionClicked(MenuOptionClicked event)\n    {\n        if (!config.enabled())\n        {\n            return;\n        }\n\n        final String option \u003d event.getMenuOption();\n        if (option \u003d\u003d null || !option.contains(SYNC_OPTION_TEXT))\n        {\n            return;\n        }\n\n        syncPending \u003d true;\n        syncPendingUntilMs \u003d System.currentTimeMillis() + PENDING_WINDOW_MS;\n\n        if (config.debug())\n        {\n            log.info(\"[WOMSheetsBridge] Armed pending window for {}ms\", PENDING_WINDOW_MS);\n        }\n    }\n\n    @Subscribe\n    public void onChatMessage(ChatMessage event)\n    {\n        if (!config.enabled() || !syncPending)\n        {\n            return;\n        }\n\n        final long now \u003d System.currentTimeMillis();\n        if (now \u003e syncPendingUntilMs)\n        {\n            syncPending \u003d false;\n            syncPendingUntilMs \u003d 0L;\n\n            if (config.debug())\n            {\n                log.info(\"[WOMSheetsBridge] Pending window expired; disarmed\");\n            }\n            return;\n        }\n\n        final ChatMessageType type \u003d event.getType();\n        if (type !\u003d ChatMessageType.GAMEMESSAGE\n                \u0026\u0026 type !\u003d ChatMessageType.CONSOLE\n                \u0026\u0026 type !\u003d ChatMessageType.ENGINE\n                \u0026\u0026 type !\u003d ChatMessageType.MESBOX)\n        {\n            return;\n        }\n\n        final String raw \u003d event.getMessage();\n        final String msg \u003d raw \u003d\u003d null ? \"\" : Text.removeTags(raw).trim();\n        if (msg.isEmpty())\n        {\n            return;\n        }\n\n        if (config.debug() \u0026\u0026 msg.toLowerCase().startsWith(\"wom:\"))\n        {\n            log.info(\"[WOMSheetsBridge] pending chat: type\u003d{} msg\u003d{}\", type, msg);\n        }\n\n        // Check success match explicitly and log it\n        final boolean success \u003d looksLikeWomSyncSuccess(msg);\n        final boolean failure \u003d looksLikeWomSyncFailure(msg);\n\n        if (config.debug() \u0026\u0026 msg.toLowerCase().startsWith(\"wom:\"))\n        {\n            log.info(\"[WOMSheetsBridge] match check: success\u003d{} failure\u003d{}\", success, failure);\n        }\n\n        if (failure)\n        {\n            syncPending \u003d false;\n            syncPendingUntilMs \u003d 0L;\n\n            if (config.debug())\n            {\n                log.info(\"[WOMSheetsBridge] Detected WOM failure; disarmed. msg\u003d{}\", msg);\n            }\n            return;\n        }\n\n        if (!success)\n        {\n            return;\n        }\n\n        // Debounce\n        if (now - lastTriggerAtMs \u003c DEBOUNCE_MS)\n        {\n            if (config.debug())\n            {\n                log.info(\"[WOMSheetsBridge] Debounced success message ({}ms since last trigger)\", now - lastTriggerAtMs);\n            }\n            return;\n        }\n\n        final String webAppUrl \u003d config.webAppUrl();\n        if (webAppUrl \u003d\u003d null || webAppUrl.isBlank())\n        {\n            notifier.notify(\"WOM → Sheets Bridge: Configure Web App URL.\");\n            syncPending \u003d false;\n            syncPendingUntilMs \u003d 0L;\n            return;\n        }\n\n        syncPending \u003d false;\n        syncPendingUntilMs \u003d 0L;\n        lastTriggerAtMs \u003d now;\n\n        // enqueue() is async already; no executor needed here.\n        triggerAppsScript(webAppUrl);\n    }\n\n    private static boolean looksLikeWomSyncSuccess(String message)\n    {\n        // Example completion line:\n        // \"WOM: Synced 494 clan members. 0 added, 0 removed, 0 ranks changed, 0 ranks ignored.\"\n        final String lower \u003d message.trim().toLowerCase();\n        return lower.startsWith(\"wom:\")\n                \u0026\u0026 lower.contains(\"synced\")\n                \u0026\u0026 lower.contains(\"clan members\");\n    }\n\n    private static boolean looksLikeWomSyncFailure(String message)\n    {\n        final String lower \u003d message.trim().toLowerCase();\n        return lower.startsWith(\"wom:\")\n                \u0026\u0026 (lower.contains(\"failed\") || lower.contains(\"error\"));\n    }\n\n    private void triggerAppsScript(String webAppUrl)\n    {\n        // no secret, minimal payload\n        final String payload \u003d \"{}\";\n\n        try\n        {\n            // OkHttp 4+ prefers (String, MediaType). If your OkHttp is older, swap arg order.\n            final RequestBody body \u003d RequestBody.create(JSON, payload);\n\n            final Request request \u003d new Request.Builder()\n                    .url(webAppUrl)\n                    .post(body)\n                    .build();\n\n            if (config.debug())\n            {\n                log.info(\"[WOMSheetsBridge] HTTP POST (enqueue) -\u003e {}\", webAppUrl);\n            }\n\n            okHttpClient.newCall(request).enqueue(new Callback()\n            {\n                @Override\n                public void onFailure(Call call, IOException e)\n                {\n                    log.warn(\"[WOMSheetsBridge] Error calling Sheets endpoint\", e);\n                    notifier.notify(\"WOM → Sheets Bridge: Error calling Sheets endpoint.\");\n                }\n\n                @Override\n                public void onResponse(Call call, Response response) throws IOException\n                {\n                    try (Response r \u003d response)\n                    {\n                        final int code \u003d r.code();\n                        final String responseBody \u003d r.body() !\u003d null ? r.body().string() : \"\";\n\n                        if (config.debug())\n                        {\n                            log.info(\"[WOMSheetsBridge] HTTP \u003c- {} body\u003d{}\", code, responseBody);\n                        }\n\n                        if (code \u003c 200 || code \u003e\u003d 300)\n                        {\n                            notifier.notify(\"WOM → Sheets Bridge: Trigger failed (HTTP \" + code + \")\");\n                            return;\n                        }\n\n                        notifier.notify(\"WOM → Sheets Bridge: Sheets script triggered.\");\n                    }\n                }\n            });\n        }\n        catch (Exception e)\n        {\n            log.warn(\"[WOMSheetsBridge] Error building/requesting Sheets endpoint\", e);\n            notifier.notify(\"WOM → Sheets Bridge: Error calling Sheets endpoint.\");\n        }\n    }\n\n    // Unused currently, but kept since it was in your file\n    private static String escapeJson(String s)\n    {\n        return s.replace(\"\\\\\", \"\\\\\\\\\").replace(\"\\\"\", \"\\\\\\\"\");\n    }\n}\n","filePath":"src\\main\\java\\com\\womsheetsbridge\\womsheetsbridgeplugin.java"},{"fileName":"womsheetsbridgeplugintest.java","content":"package com.womsheetsbridge;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class womsheetsbridgeplugintest\n{\n    public static void main(String[] args) throws Exception\n    {\n        ExternalPluginManager.loadBuiltin(womsheetsbridgeplugin.class);\n        RuneLite.main(args);\n    }\n}","filePath":"src\\test\\java\\com\\womsheetsbridge\\womsheetsbridgeplugintest.java"}]},{"commit":"b9d65c7472e59224895ff13b05bd459c81661a32","repository":"https://github.com/Boredska/bank-item-stats-toggle.git","internalName":"item-stats-banking","files":[{"fileName":"BankItemStatsToggleConfig.java","content":"package com.toggleitemstats.banking;\n\nimport net.runelite.client.config.Config;\nimport net.runelite.client.config.ConfigGroup;\nimport net.runelite.client.config.ConfigItem;\n\n@ConfigGroup(\"bankitemstatstoggle\")\npublic interface BankItemStatsToggleConfig extends Config\n{\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"consumableStats\",\n\t\t\tname \u003d \"Toggle consumable stats\",\n\t\t\tdescription \u003d \"Toggles tooltips for consumable items (food, boosts)\"\n\t)\n\tdefault boolean consumableStats()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"equipmentStats\",\n\t\t\tname \u003d \"Toggle equipment stats\",\n\t\t\tdescription \u003d \"Toggles tooltips for equipment items (combat bonuses, weight, prayer bonuses)\"\n\t)\n\tdefault boolean equipmentStats()\n\t{\n\t\treturn true;\n\t}\n}\n","filePath":"src\\main\\java\\com\\toggleitemstats\\banking\\BankItemStatsToggleConfig.java"},{"fileName":"BankItemStatsTogglePlugin.java","content":"package com.toggleitemstats.banking;\n\nimport com.google.inject.Provides;\nimport javax.inject.Inject;\nimport lombok.extern.slf4j.Slf4j;\nimport net.runelite.api.ChatMessageType;\nimport net.runelite.api.Client;\nimport net.runelite.api.GameState;\nimport net.runelite.api.events.GameStateChanged;\nimport net.runelite.api.events.WidgetClosed;\nimport net.runelite.api.events.WidgetLoaded;\nimport net.runelite.api.widgets.WidgetID;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.eventbus.Subscribe;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDescriptor;\n\n@Slf4j\n@PluginDescriptor(\n\tname \u003d \"Bank Item Stats Toggle\"\n)\npublic class BankItemStatsTogglePlugin extends Plugin\n{\n\t@Inject\n\tprivate Client client;\n\n\t@Inject\n\tprivate BankItemStatsToggleConfig config;\n\n\t@Inject\n\tprivate ConfigManager configManager;\n\n\t@Override\n\tprotected void startUp() throws Exception\n\t{\n\t\tlog.info(\"Bank Item Stats Toggle started!\");\n\t}\n\n\t@Override\n\tprotected void shutDown() throws Exception\n\t{\n\t\tlog.info(\"Bank Item Stats Toggle stopped!\");\n\t}\n\n\t@Subscribe void onWidgetLoaded(WidgetLoaded event){\n\t\tif (event.getGroupId() \u003d\u003d WidgetID.BANK_GROUP_ID)\n\t\t{\n\t\t\tif (config.equipmentStats())\n\t\t\t{\n\t\t\t\tconfigManager.setConfiguration(\"itemstat\",\"equipmentStats\",true);\n\t\t\t}\n\n\t\t\tif (config.consumableStats())\n\t\t\t{\n\t\t\t\tconfigManager.setConfiguration(\"itemstat\",\"consumableStats\",true);\n\t\t\t}\n\t\t}\n\t}\n\n\t@Subscribe void onWidgetClosed(WidgetClosed event){\n\t\tif(event.getGroupId() \u003d\u003d WidgetID.BANK_GROUP_ID){\n\t\t\tif (config.equipmentStats())\n\t\t\t{\n\t\t\t\tconfigManager.setConfiguration(\"itemstat\",\"equipmentStats\",false);\n\t\t\t}\n\n\t\t\tif (config.consumableStats())\n\t\t\t{\n\t\t\t\tconfigManager.setConfiguration(\"itemstat\",\"consumableStats\",false);\n\t\t\t}\n\t\t}\n\t}\n\n\t@Provides\n\tBankItemStatsToggleConfig provideConfig(ConfigManager configManager)\n\t{\n\t\treturn configManager.getConfig(BankItemStatsToggleConfig.class);\n\t}\n}\n","filePath":"src\\main\\java\\com\\toggleitemstats\\banking\\BankItemStatsTogglePlugin.java"},{"fileName":"BankItemStatsTogglePluginTest.java","content":"package com.toggleitemstats.banking;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class BankItemStatsTogglePluginTest\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tExternalPluginManager.loadBuiltin(BankItemStatsTogglePlugin.class);\n\t\tRuneLite.main(args);\n\t}\n}","filePath":"src\\test\\java\\com\\toggleitemstats\\banking\\BankItemStatsTogglePluginTest.java"}]},{"commit":"13e1a7fea214cb04ff6dd7b0441f455f96f94d27","repository":"https://github.com/Krazune/LineOfSight.git","internalName":"line-of-sight","files":[{"fileName":"LineOfSightPlugin.java","content":"/*\n * BSD 2-Clause License\n *\n * Copyright (c) 2021, Miguel Sousa\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\npackage com.krazune.lineofsight;\n\nimport com.google.inject.Provides;\nimport javax.inject.Inject;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDescriptor;\nimport net.runelite.client.ui.overlay.OverlayManager;\n\n@PluginDescriptor(\n\tname \u003d \"Line of Sight\",\n\tdescription \u003d \"Shows the player\u0027s line of sight.\",\n\ttags \u003d {\n\t\t\"line\",\n\t\t\"sight\",\n\t\t\"tiles\",\n\t\t\"markers\",\n\t\t\"range\"\n\t}\n)\npublic class LineOfSightPlugin extends Plugin\n{\n\t@Inject\n\tprivate OverlayManager overlayManager;\n\n\t@Inject\n\tprivate TilesOverlay lineOfSightTilesOverlay;\n\n\t@Provides\n\tLineOfSightPluginConfig provideConfig(ConfigManager configManager)\n\t{\n\t\treturn configManager.getConfig(LineOfSightPluginConfig.class);\n\t}\n\n\t@Override\n\tprotected void startUp()\n\t{\n\t\toverlayManager.add(lineOfSightTilesOverlay);\n\t}\n\n\t@Override\n\tprotected void shutDown()\n\t{\n\t\toverlayManager.remove(lineOfSightTilesOverlay);\n\t}\n}\n","filePath":"src\\main\\java\\com\\krazune\\lineofsight\\LineOfSightPlugin.java"},{"fileName":"LineOfSightPluginConfig.java","content":"/*\r\n * BSD 2-Clause License\r\n *\r\n * Copyright (c) 2021, Miguel Sousa\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n *\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\r\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\r\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\npackage com.krazune.lineofsight;\r\n\r\nimport net.runelite.client.config.Alpha;\r\nimport net.runelite.client.config.Config;\r\nimport net.runelite.client.config.ConfigGroup;\r\nimport net.runelite.client.config.ConfigItem;\r\nimport net.runelite.client.config.ConfigSection;\r\nimport net.runelite.client.config.Range;\r\n\r\nimport java.awt.Color;\r\n\r\n@ConfigGroup(\"lineofsight\")\r\npublic interface LineOfSightPluginConfig extends Config\r\n{\r\n\t@ConfigSection(\r\n\t\tname \u003d \"General\",\r\n\t\tdescription \u003d \"General configurations\",\r\n\t\tposition \u003d 0\r\n\t)\r\n\tString generalSection \u003d \"General\";\r\n\r\n\t@ConfigSection(\r\n\t\tname \u003d \"Asymmetrical/PVP\",\r\n\t\tdescription \u003d \"Asymmetrical/PVP configurations\",\r\n\t\tposition \u003d 1,\r\n\t\tclosedByDefault \u003d true\r\n\t)\r\n\tString asymmetricalSection \u003d \"Asymmetrical/PVP\";\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 0,\r\n\t\tkeyName \u003d \"overlayRange\",\r\n\t\tname \u003d \"Range\",\r\n\t\tdescription \u003d \"Maximum range of the line of sight overlay.\",\r\n\t\tsection \u003d generalSection\r\n\t)\r\n\t@Range(\r\n\t\tmin \u003d 1,\r\n\t\tmax \u003d 10\r\n\t)\r\n\tdefault int overlayRange()\r\n\t{\r\n\t\treturn 10;\r\n\t}\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 1,\r\n\t\tkeyName \u003d \"outlineOnly\",\r\n\t\tname \u003d \"Outline only\",\r\n\t\tdescription \u003d \"Only show the outer borders.\",\r\n\t\tsection \u003d generalSection\r\n\t)\r\n\tdefault boolean outlineOnly()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 2,\r\n\t\tkeyName \u003d \"includePlayerTile\",\r\n\t\tname \u003d \"Include player tile\",\r\n\t\tdescription \u003d \"Include the current player\u0027s tile in the line of sight area. WARNING: You do not actually have line of sight in this tile.\",\r\n\t\tsection \u003d generalSection\r\n\t)\r\n\tdefault boolean includePlayerTile()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 3,\r\n\t\tkeyName \u003d \"borderColor\",\r\n\t\tname \u003d \"Border color\",\r\n\t\tdescription \u003d \"Color of the overlay\u0027s border.\",\r\n\t\tsection \u003d generalSection\r\n\t)\r\n\t@Alpha\r\n\tdefault Color borderColor()\r\n\t{\r\n\t\treturn Color.YELLOW;\r\n\t}\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 4,\r\n\t\tkeyName \u003d \"borderWidth\",\r\n\t\tname \u003d \"Border width\",\r\n\t\tdescription \u003d \"Width of the overlay\u0027s border.\",\r\n\t\tsection \u003d generalSection\r\n\t)\r\n\t@Range(\r\n\t\tmin \u003d 1\r\n\t)\r\n\tdefault int borderWidth()\r\n\t{\r\n\t\treturn 2;\r\n\t}\r\n\r\n\t// This is unnecessary, can be toggled based on fill alpha\r\n\t// Should be removed but might cause breaking changes (configurations) for current installations\r\n\t@ConfigItem(\r\n\t\tposition \u003d 5,\r\n\t\tkeyName \u003d \"showFill\",\r\n\t\tname \u003d \"Tile fill\",\r\n\t\tdescription \u003d \"Add fill color to tiles. WARNING: This is a costly feature that might lower your game\u0027s performance.\",\r\n\t\tsection \u003d generalSection\r\n\t)\r\n\tdefault boolean showFill()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 6,\r\n\t\tkeyName \u003d \"fillColor\",\r\n\t\tname \u003d \"Fill color\",\r\n\t\tdescription \u003d \"Color of the overlay\u0027s tiles.\",\r\n\t\tsection \u003d generalSection\r\n\t)\r\n\t@Alpha\r\n\tdefault Color fillColor()\r\n\t{\r\n\t\treturn new Color(255, 255, 0, 45);\r\n\t}\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 0,\r\n\t\tkeyName \u003d \"includeAsymmetrical\",\r\n\t\tname \u003d \"Include asymmetrical/PVP tiles\",\r\n\t\tdescription \u003d \"Includes tiles that have line of sight to the player (this is how line of sight is calculated in PVP).\",\r\n\t\tsection \u003d asymmetricalSection\r\n\t)\r\n\tdefault boolean includeAsymmetrical()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 1,\r\n\t\tkeyName \u003d \"asymmetricalBorderColor\",\r\n\t\tname \u003d \"Border color\",\r\n\t\tdescription \u003d \"Color of the overlay\u0027s border.\",\r\n\t\tsection \u003d asymmetricalSection\r\n\t)\r\n\t@Alpha\r\n\tdefault Color asymmetricalBorderColor()\r\n\t{\r\n\t\treturn Color.RED;\r\n\t}\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 2,\r\n\t\tkeyName \u003d \"asymmetricalBorderWidth\",\r\n\t\tname \u003d \"Border width\",\r\n\t\tdescription \u003d \"Color of the overlay\u0027s border.\",\r\n\t\tsection \u003d asymmetricalSection\r\n\t)\r\n\t@Range(\r\n\t\t\tmin \u003d 1\r\n\t)\r\n\tdefault int asymmetricalBorderWidth()\r\n\t{\r\n\t\treturn 2;\r\n\t}\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 3,\r\n\t\tkeyName \u003d \"showAsymmetricalFill\",\r\n\t\tname \u003d \"Tile fill\",\r\n\t\tdescription \u003d \"Add fill color to tiles. WARNING: This is a costly feature that might lower your game\u0027s performance.\",\r\n\t\tsection \u003d asymmetricalSection\r\n\t)\r\n\tdefault boolean showAsymmetricalFill()\r\n\t{\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@ConfigItem(\r\n\t\tposition \u003d 4,\r\n\t\tkeyName \u003d \"asymmetricalFillColor\",\r\n\t\tname \u003d \"Fill color\",\r\n\t\t\tdescription \u003d \"Color of the overlay\u0027s tiles.\",\r\n\t\tsection \u003d asymmetricalSection\r\n\t)\r\n\t@Alpha\r\n\tdefault Color asymmetricalFillColor()\r\n\t{\r\n\t\treturn new Color(255, 0, 0, 45);\r\n\t}\r\n}\r\n","filePath":"src\\main\\java\\com\\krazune\\lineofsight\\LineOfSightPluginConfig.java"},{"fileName":"TilesOverlay.java","content":"/*\r\n * BSD 2-Clause License\r\n *\r\n * Copyright (c) 2021, Miguel Sousa\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice, this\r\n *    list of conditions and the following disclaimer.\r\n *\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\r\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\r\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\r\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\r\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\npackage com.krazune.lineofsight;\r\n\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Polygon;\r\nimport java.awt.Stroke;\r\nimport javax.inject.Inject;\r\n\r\nimport net.runelite.api.Client;\r\nimport net.runelite.api.CollisionDataFlag;\r\nimport net.runelite.api.Perspective;\r\nimport net.runelite.api.Player;\r\nimport net.runelite.api.Point;\r\nimport net.runelite.api.WorldView;\r\nimport net.runelite.api.coords.LocalPoint;\r\nimport net.runelite.api.coords.WorldArea;\r\nimport net.runelite.api.coords.WorldPoint;\r\nimport net.runelite.client.ui.overlay.Overlay;\r\nimport net.runelite.client.ui.overlay.OverlayLayer;\r\nimport net.runelite.client.ui.overlay.OverlayPosition;\r\nimport net.runelite.client.ui.overlay.OverlayUtil;\r\n\r\n// One day I will refactor this mess but today is not that day\r\npublic class TilesOverlay extends Overlay\r\n{\r\n\tClient client;\r\n\r\n\tLineOfSightPluginConfig config;\r\n\r\n\t@Inject\r\n\tpublic TilesOverlay(Client client, LineOfSightPluginConfig config)\r\n\t{\r\n\t\tthis.client \u003d client;\r\n\t\tthis.config \u003d config;\r\n\r\n\t\tsetOverlayConfigurations();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Dimension render(Graphics2D graphics)\r\n\t{\r\n\t\tif (config.includeAsymmetrical())\r\n\t\t{\r\n\t\t\t// It\u0027s not efficient to render these separately from the regular LOS, but will do for now\r\n\t\t\trenderAsymmetricalLineOfSight(graphics);\r\n\t\t}\r\n\r\n\t\trenderLineOfSight(graphics);\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate void setOverlayConfigurations()\r\n\t{\r\n\t\tsetPosition(OverlayPosition.DYNAMIC);\r\n\t\tsetLayer(OverlayLayer.ABOVE_SCENE);\r\n\t}\r\n\r\n\tprivate void renderAsymmetricalLineOfSight(Graphics2D graphics)\r\n\t{\r\n\t\tWorldPoint[][] asymmetricalSightPoints \u003d getAsymmetricalSightWorldPoints();\r\n\r\n\t\trenderWorldPoints(\r\n\t\t\tgraphics,\r\n\t\t\tasymmetricalSightPoints,\r\n\t\t\tconfig.outlineOnly(),\r\n\t\t\tconfig.showAsymmetricalFill(),\r\n\t\t\tconfig.asymmetricalFillColor(),\r\n\t\t\tconfig.asymmetricalBorderColor(),\r\n\t\t\tconfig.asymmetricalBorderWidth()\r\n\t\t);\r\n\t}\r\n\r\n\tprivate void renderLineOfSight(Graphics2D graphics)\r\n\t{\r\n\t\tWorldPoint[][] sightPoints \u003d getSightWorldPoints(config.includePlayerTile());\r\n\r\n\t\trenderWorldPoints(\r\n\t\t\tgraphics,\r\n\t\t\tsightPoints,\r\n\t\t\tconfig.outlineOnly(),\r\n\t\t\tconfig.showFill(),\r\n\t\t\tconfig.fillColor(),\r\n\t\t\tconfig.borderColor(),\r\n\t\t\tconfig.borderWidth()\r\n\t\t);\r\n\t}\r\n\r\n\tprivate void renderWorldPoints(Graphics2D graphics, WorldPoint[][] sightPoints, boolean outlineOnly, boolean showFill, Color fillColor, Color borderColor, int borderWidth)\r\n\t{\r\n\t\tif (outlineOnly)\r\n\t\t{\r\n\t\t\trenderOutlineWorldPoints(graphics, sightPoints, showFill, fillColor, borderColor, borderWidth);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\trenderWorldPointsFullGrid(graphics, sightPoints, showFill, fillColor, borderColor, borderWidth);\r\n\t}\r\n\r\n\tprivate WorldPoint[][] getSightWorldPoints(boolean includePlayerTile)\r\n\t{\r\n\t\tint areaLength \u003d config.overlayRange() * 2 + 1;\r\n\t\tWorldPoint[][] worldPoints \u003d new WorldPoint[areaLength][areaLength];\r\n\r\n\t\tPlayer player \u003d client.getLocalPlayer();\r\n\r\n\t\tif (player \u003d\u003d null)\r\n\t\t{\r\n\t\t\treturn worldPoints;\r\n\t\t}\r\n\r\n\t\tWorldArea area \u003d player.getWorldArea();\r\n\r\n\t\tif (area \u003d\u003d null)\r\n\t\t{\r\n\t\t\treturn worldPoints;\r\n\t\t}\r\n\r\n\t\tint initialX \u003d area.getX() - config.overlayRange();\r\n\t\tint initialY \u003d area.getY() - config.overlayRange();\r\n\t\tint maxX \u003d area.getX() + config.overlayRange();\r\n\t\tint maxY \u003d area.getY() + config.overlayRange();\r\n\t\tWorldView worldView \u003d client.getTopLevelWorldView();\r\n\r\n\t\tfor (int x \u003d initialX, i \u003d 0; x \u003c\u003d maxX; ++x, ++i)\r\n\t\t{\r\n\t\t\tfor (int y \u003d initialY, j \u003d 0; y \u003c\u003d maxY; ++y, ++j)\r\n\t\t\t{\r\n\t\t\t\tWorldPoint newSightWorldPoint \u003d new WorldPoint(x, y, area.getPlane());\r\n\r\n\t\t\t\tif (area.hasLineOfSightTo(worldView, newSightWorldPoint) || (x \u003d\u003d area.getX() \u0026\u0026 y \u003d\u003d area.getY() \u0026\u0026 includePlayerTile))\r\n\t\t\t\t{\r\n\t\t\t\t\tworldPoints[i][j] \u003d newSightWorldPoint;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn worldPoints;\r\n\t}\r\n\r\n\tprivate WorldPoint[][] getAsymmetricalSightWorldPoints()\r\n\t{\r\n\t\tint areaLength \u003d config.overlayRange() * 2 + 1;\r\n\t\tWorldPoint[][] worldPoints \u003d new WorldPoint[areaLength][areaLength];\r\n\r\n\t\tPlayer player \u003d client.getLocalPlayer();\r\n\r\n\t\tif (player \u003d\u003d null)\r\n\t\t{\r\n\t\t\treturn worldPoints;\r\n\t\t}\r\n\r\n\t\tWorldArea area \u003d player.getWorldArea();\r\n\r\n\t\tif (area \u003d\u003d null)\r\n\t\t{\r\n\t\t\treturn worldPoints;\r\n\t\t}\r\n\r\n\t\tint initialX \u003d area.getX() - config.overlayRange();\r\n\t\tint initialY \u003d area.getY() - config.overlayRange();\r\n\t\tint maxX \u003d area.getX() + config.overlayRange();\r\n\t\tint maxY \u003d area.getY() + config.overlayRange();\r\n\t\tWorldView worldView \u003d client.getTopLevelWorldView();\r\n\t\tint[][] collisionFlags \u003d worldView.getCollisionMaps()[area.getPlane()].getFlags();\r\n\r\n\t\tfor (int x \u003d initialX, i \u003d 0; x \u003c\u003d maxX; ++x, ++i)\r\n\t\t{\r\n\t\t\tfor (int y \u003d initialY, j \u003d 0; y \u003c\u003d maxY; ++y, ++j)\r\n\t\t\t{\r\n\t\t\t\tif ((x \u003d\u003d area.getX() \u0026\u0026 y \u003d\u003d area.getY()))\r\n\t\t\t\t{\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tWorldPoint newSightWorldPoint \u003d new WorldPoint(x, y, area.getPlane());\r\n\t\t\t\tboolean hasSight \u003d area.hasLineOfSightTo(worldView, newSightWorldPoint);\r\n\t\t\t\tboolean hasSightFromTarget \u003d newSightWorldPoint.toWorldArea().hasLineOfSightTo(worldView, area.toWorldPoint());\r\n\r\n\t\t\t\tif (!hasSight \u0026\u0026 hasSightFromTarget)\r\n\t\t\t\t{\r\n\t\t\t\t\tLocalPoint localPoint \u003d LocalPoint.fromWorld(worldView, newSightWorldPoint);\r\n\t\t\t\t\tint collisionFlag \u003d collisionFlags[localPoint.getSceneX()][localPoint.getSceneY()];\r\n\r\n\t\t\t\t\tif ((collisionFlag \u0026 CollisionDataFlag.BLOCK_LINE_OF_SIGHT_FULL) \u003d\u003d 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tworldPoints[i][j] \u003d newSightWorldPoint;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn worldPoints;\r\n\t}\r\n\r\n\tprivate void renderOutlineWorldPoints(Graphics2D graphics, WorldPoint[][] sightPoints, boolean showFill, Color fillColor, Color borderColor, int borderWidth)\r\n\t{\r\n\t\tint areaLength \u003d config.overlayRange() * 2 + 1;\r\n\r\n\t\tfor (int x \u003d 0; x \u003c areaLength; ++x)\r\n\t\t{\r\n\t\t\tfor (int y \u003d 0; y \u003c areaLength; ++y)\r\n\t\t\t{\r\n\t\t\t\tif (sightPoints[x][y] \u003d\u003d null)\r\n\t\t\t\t{\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (showFill)\r\n\t\t\t\t{\r\n\t\t\t\t\tPolygon tilePolygon \u003d generatePolygonFromWorldPoint(sightPoints[x][y]);\r\n\r\n\t\t\t\t\tif (tilePolygon !\u003d null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgraphics.setColor(fillColor);\r\n\t\t\t\t\t\tgraphics.fill(tilePolygon);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tboolean topBorder \u003d y \u003d\u003d areaLength - 1 || sightPoints[x][y + 1] \u003d\u003d null;\r\n\t\t\t\tboolean rightBorder \u003d x \u003d\u003d areaLength - 1 || sightPoints[x + 1][y] \u003d\u003d null;\r\n\t\t\t\tboolean bottomBorder \u003d y \u003d\u003d 0 || sightPoints[x][y - 1] \u003d\u003d null;\r\n\t\t\t\tboolean leftBorder \u003d x \u003d\u003d 0 || sightPoints[x - 1][y] \u003d\u003d null;\r\n\r\n\t\t\t\trenderWorldPointBorders(graphics, sightPoints[x][y], topBorder, rightBorder, bottomBorder, leftBorder, borderColor, borderWidth);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Polygon generatePolygonFromWorldPoint(WorldPoint worldPoint)\r\n\t{\r\n\t\tLocalPoint localPoint \u003d LocalPoint.fromWorld(client.getTopLevelWorldView(), worldPoint);\r\n\r\n\t\tif (localPoint \u003d\u003d null)\r\n\t\t{\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn Perspective.getCanvasTilePoly(client, localPoint);\r\n\t}\r\n\r\n\tprivate void renderWorldPointBorders(Graphics2D graphics, WorldPoint worldPoint, boolean topBorder, boolean rightBorder, boolean bottomBorder, boolean leftBorder, Color borderColor, int borderWidth)\r\n\t{\r\n\t\tWorldView worldView \u003d client.getTopLevelWorldView();\r\n\t\tLocalPoint localPoint \u003d LocalPoint.fromWorld(worldView, worldPoint);\r\n\r\n\t\tif (localPoint \u003d\u003d null)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tint plane \u003d worldPoint.getPlane();\r\n\r\n\t\tgraphics.setColor(borderColor);\r\n\t\tgraphics.setStroke(new BasicStroke(borderWidth));\r\n\r\n\t\tif (topBorder)\r\n\t\t{\r\n\t\t\tPoint canvasPointA \u003d Perspective.localToCanvas(client, new LocalPoint(localPoint.getX() - 64, localPoint.getY() + 64, worldView), plane);\r\n\r\n\t\t\tif (canvasPointA !\u003d null)\r\n\t\t\t{\r\n\t\t\t\tint x1 \u003d canvasPointA.getX();\r\n\t\t\t\tint y1 \u003d canvasPointA.getY();\r\n\r\n\t\t\t\tPoint canvasPointB \u003d Perspective.localToCanvas(client, new LocalPoint(localPoint.getX() + 64, localPoint.getY() + 64, worldView), plane);\r\n\r\n\t\t\t\tif (canvasPointB !\u003d null)\r\n\t\t\t\t{\r\n\t\t\t\t\tint x2 \u003d canvasPointB.getX();\r\n\t\t\t\t\tint y2 \u003d canvasPointB.getY();\r\n\r\n\t\t\t\t\tgraphics.drawLine(x1, y1, x2, y2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (rightBorder)\r\n\t\t{\r\n\t\t\tPoint canvasPointA \u003d Perspective.localToCanvas(client, new LocalPoint(localPoint.getX() + 64, localPoint.getY() - 64, worldView), plane);\r\n\r\n\t\t\tif (canvasPointA !\u003d null)\r\n\t\t\t{\r\n\t\t\t\tint x1 \u003d canvasPointA.getX();\r\n\t\t\t\tint y1 \u003d canvasPointA.getY();\r\n\r\n\t\t\t\tPoint canvasPointB \u003d Perspective.localToCanvas(client, new LocalPoint(localPoint.getX() + 64, localPoint.getY() + 64, worldView), plane);\r\n\r\n\t\t\t\tif (canvasPointB !\u003d null)\r\n\t\t\t\t{\r\n\t\t\t\t\tint x2 \u003d canvasPointB.getX();\r\n\t\t\t\t\tint y2 \u003d canvasPointB.getY();\r\n\r\n\t\t\t\t\tgraphics.drawLine(x1, y1, x2, y2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (bottomBorder)\r\n\t\t{\r\n\t\t\tPoint canvasPointA \u003d Perspective.localToCanvas(client, new LocalPoint(localPoint.getX() - 64, localPoint.getY() - 64, worldView), plane);\r\n\r\n\t\t\tif (canvasPointA !\u003d null)\r\n\t\t\t{\r\n\t\t\t\tint x1 \u003d canvasPointA.getX();\r\n\t\t\t\tint y1 \u003d canvasPointA.getY();\r\n\r\n\t\t\t\tPoint canvasPointB \u003d Perspective.localToCanvas(client, new LocalPoint(localPoint.getX() + 64, localPoint.getY() - 64, worldView), plane);\r\n\r\n\t\t\t\tif (canvasPointB !\u003d null)\r\n\t\t\t\t{\r\n\t\t\t\t\tint x2 \u003d canvasPointB.getX();\r\n\t\t\t\t\tint y2 \u003d canvasPointB.getY();\r\n\r\n\t\t\t\t\tgraphics.drawLine(x1, y1, x2, y2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (leftBorder)\r\n\t\t{\r\n\t\t\tPoint canvasPointA \u003d Perspective.localToCanvas(client, new LocalPoint(localPoint.getX() - 64, localPoint.getY() - 64, worldView), plane);\r\n\r\n\t\t\tif (canvasPointA !\u003d null)\r\n\t\t\t{\r\n\t\t\t\tint x1 \u003d canvasPointA.getX();\r\n\t\t\t\tint y1 \u003d canvasPointA.getY();\r\n\r\n\t\t\t\tPoint canvasPointB \u003d Perspective.localToCanvas(client, new LocalPoint(localPoint.getX() - 64, localPoint.getY() + 64, worldView), plane);\r\n\r\n\t\t\t\tif (canvasPointB !\u003d null)\r\n\t\t\t\t{\r\n\t\t\t\t\tint x2 \u003d canvasPointB.getX();\r\n\t\t\t\t\tint y2 \u003d canvasPointB.getY();\r\n\r\n\t\t\t\t\tgraphics.drawLine(x1, y1, x2, y2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void renderWorldPointsFullGrid(Graphics2D graphics, WorldPoint[][] sightPoints, boolean showFill, Color fillColor, Color borderColor, int borderWidth)\r\n\t{\r\n\t\tint areaLength \u003d config.overlayRange() * 2 + 1;\r\n\t\tColor transparent \u003d new Color(0, 0, 0, 0);\r\n\t\tStroke stroke \u003d new BasicStroke(borderWidth);\r\n\r\n\t\tfor (int x \u003d 0; x \u003c areaLength; ++x)\r\n\t\t{\r\n\t\t\tfor (int y \u003d 0; y \u003c areaLength; ++y)\r\n\t\t\t{\r\n\t\t\t\tif (sightPoints[x][y] \u003d\u003d null)\r\n\t\t\t\t{\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tPolygon polygon \u003d generatePolygonFromWorldPoint(sightPoints[x][y]);\r\n\r\n\t\t\t\tif (polygon \u003d\u003d null)\r\n\t\t\t\t{\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (showFill)\r\n\t\t\t\t{\r\n\t\t\t\t\tOverlayUtil.renderPolygon(graphics, polygon, borderColor, fillColor, stroke);\r\n\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (x \u003d\u003d 0 || x \u003d\u003d areaLength - 1 || y \u003d\u003d 0 || y \u003d\u003d areaLength - 1 || sightPoints[x + 1][y] \u003d\u003d null || sightPoints[x - 1][y] \u003d\u003d null || sightPoints[x][y + 1] \u003d\u003d null || sightPoints[x][y - 1] \u003d\u003d null)\r\n\t\t\t\t{\r\n\t\t\t\t\tOverlayUtil.renderPolygon(graphics, polygon, borderColor, transparent, stroke);\r\n\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsightPoints[x][y] \u003d null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","filePath":"src\\main\\java\\com\\krazune\\lineofsight\\TilesOverlay.java"},{"fileName":"LineOfSightPluginTest.java","content":"/*\n * BSD 2-Clause License\n *\n * Copyright (c) 2021, Miguel Sousa\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\npackage com.krazune.lineofsight;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class LineOfSightPluginTest\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tExternalPluginManager.loadBuiltin(LineOfSightPlugin.class);\n\t\tRuneLite.main(args);\n\t}\n}\n","filePath":"src\\test\\java\\com\\krazune\\lineofsight\\LineOfSightPluginTest.java"}]},{"commit":"5a78264720b00e9e79f47f17e402953941c2b026","repository":"https://github.com/MarbleTurtle/FriendsExporter.git","internalName":"friends-exporter","files":[{"fileName":"FriendsExporterConfig.java","content":"package com.FriendsExporter;\n\nimport net.runelite.client.config.Config;\nimport net.runelite.client.config.ConfigGroup;\nimport net.runelite.client.config.ConfigItem;\n\n@ConfigGroup(\"friendsexporter\")\npublic interface FriendsExporterConfig extends Config\n{\n\t@ConfigItem(\n\t\tkeyName \u003d \"lineStart\",\n\t\tname \u003d \"Line Start\",\n\t\tdescription \u003d \"What format to add at the beginning of a line.\",\n\t\tposition \u003d 1\n\t)\n\tdefault LineLeads lineLeads() {return LineLeads.None;}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"prev\",\n\t\tname \u003d \"Include Previous Names\",\n\t\tdescription \u003d \"Shows the previous name if available.\",\n\t\tposition \u003d 2\n\t)\n\tdefault boolean includePrevName() {return true;}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"note\",\n\t\tname \u003d \"Include Note\",\n\t\tdescription \u003d \"Includes note from Friend Notes plugin on Friends List export.\",\n\t\tposition \u003d 3\n\t)\n\tdefault boolean includeNote() {return true;}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"unrank\",\n\t\tname \u003d \"Show Unranked Players\",\n\t\tdescription \u003d \"Shows players that do not have a rank but are still friends in ranks export.\",\n\t\tposition \u003d 4\n\t)\n\tdefault boolean showUnranked() {return false;}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"separator\",\n\t\tname \u003d \"Separator\",\n\t\tdescription \u003d \"Separator between fields for a player.\",\n\t\tposition \u003d 5\n\t)\n\tdefault String getSeparator() {return \" - \";}\n}\n","filePath":"src\\main\\java\\com\\FriendsExporter\\FriendsExporterConfig.java"},{"fileName":"FriendsExporterPlugin.java","content":"package com.FriendsExporter;\n\nimport com.google.inject.Provides;\nimport lombok.extern.slf4j.Slf4j;\nimport net.runelite.api.ChatMessageType;\nimport net.runelite.api.Client;\nimport net.runelite.api.Friend;\nimport net.runelite.api.FriendsChatManager;\nimport net.runelite.api.FriendsChatMember;\nimport net.runelite.api.Ignore;\nimport net.runelite.api.Player;\nimport net.runelite.api.clan.ClanChannelMember;\nimport net.runelite.api.gameval.InterfaceID;\nimport net.runelite.api.widgets.Widget;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.menus.MenuManager;\nimport net.runelite.client.menus.WidgetMenuOption;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDescriptor;\nimport net.runelite.client.util.Text;\nimport org.apache.commons.lang3.StringUtils;\n\nimport javax.inject.Inject;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.stream.Collectors;\n\nimport static net.runelite.client.RuneLite.RUNELITE_DIR;\n\n@Slf4j\n@PluginDescriptor(\n        name \u003d \"Friends Exporter\"\n)\npublic class FriendsExporterPlugin extends Plugin {\n\n    private static final String EXPORT \u003d \"Export\";\n    public static final File EXPORT_DIR \u003d new File(RUNELITE_DIR, \"player-exports\");\n\n    private static final WidgetMenuOption FRIENDS_LIST\n            \u003d new WidgetMenuOption(EXPORT, \"Friends List\", InterfaceID.Toplevel.STONE9, InterfaceID.ToplevelOsrsStretch.STONE9, InterfaceID.ToplevelPreEoc.STONE9);\n\n    private static final WidgetMenuOption IGNORE_LIST\n            \u003d new WidgetMenuOption(EXPORT, \"Ignore List\", InterfaceID.Toplevel.STONE9, InterfaceID.ToplevelOsrsStretch.STONE9, InterfaceID.ToplevelPreEoc.STONE9);\n\n    private static final WidgetMenuOption CHAT_CHANNEL_LIST\n            \u003d new WidgetMenuOption(EXPORT, \"Current Members\", InterfaceID.SideChannels.TAB_0);\n\n    private static final WidgetMenuOption CHAT_CHANNEL_RANKS\n            \u003d new WidgetMenuOption(EXPORT, \"Rank List\", InterfaceID.SideChannels.TAB_0);\n\n    private static final WidgetMenuOption CLAN_CHAT_MEMBERS\n            \u003d new WidgetMenuOption(EXPORT, \"Online Clan Members\", InterfaceID.SideChannels.TAB_1);\n\n    private static final WidgetMenuOption CLAN_CHAT_JOINS\n            \u003d new WidgetMenuOption(EXPORT, \"All Clan Members\", InterfaceID.SideChannels.TAB_1);\n\n    private static final WidgetMenuOption CLAN_CHAT_BANS\n            \u003d new WidgetMenuOption(EXPORT, \"Clan Bans\", InterfaceID.SideChannels.TAB_1);\n\n    private static final WidgetMenuOption CLAN_CHAT_EVENTS\n            \u003d new WidgetMenuOption(EXPORT, \"Clan Events\", InterfaceID.SideChannels.TAB_1);\n\n    private static final WidgetMenuOption EMOTES\n            \u003d new WidgetMenuOption(EXPORT, \"Local Players\", InterfaceID.Toplevel.STONE12, InterfaceID.ToplevelOsrsStretch.STONE12, InterfaceID.ToplevelPreEoc.STONE12);\n\n    private static final DateFormat TIME_FORMAT \u003d new SimpleDateFormat(\"yyyy-MM-dd_HH-mm-ss\");\n    @Inject\n    private Client client;\n    @Inject\n    private MenuManager menuManager;\n    @Inject\n    private FriendsExporterConfig config;\n    @Inject\n    private ConfigManager configManager;\n    @Inject\n    private ScheduledExecutorService executor;\n\n    @Override\n    protected void startUp() throws Exception {\n        EXPORT_DIR.mkdirs();\n        addCustomOptions();\n    }\n\n    @Override\n    protected void shutDown() throws Exception {\n        removeCustomOptions();\n    }\n\n    static String format(Date date) {\n        synchronized(TIME_FORMAT) {\n            return TIME_FORMAT.format(date);\n        }\n    }\n\n    private void addCustomOptions() {\n        menuManager.addManagedCustomMenu(FRIENDS_LIST, e -\u003e exportFriendsList());\n        menuManager.addManagedCustomMenu(IGNORE_LIST, e -\u003e exportIgnoreList());\n        menuManager.addManagedCustomMenu(CHAT_CHANNEL_LIST, e -\u003e exportChatChannelMembers());\n        menuManager.addManagedCustomMenu(CHAT_CHANNEL_RANKS, e -\u003e exportChatChannelRankList());\n        menuManager.addManagedCustomMenu(CLAN_CHAT_MEMBERS, e -\u003e exportOnlineClanMembers());\n        menuManager.addManagedCustomMenu(CLAN_CHAT_JOINS, e -\u003e exportAllClanMembers());\n        menuManager.addManagedCustomMenu(CLAN_CHAT_BANS, e -\u003e exportClanBanList());\n        menuManager.addManagedCustomMenu(CLAN_CHAT_EVENTS, e -\u003e exportClanEventList());\n        menuManager.addManagedCustomMenu(EMOTES, e -\u003e exportLocalPlayers());\n    }\n\n    private void removeCustomOptions() {\n        menuManager.removeManagedCustomMenu(FRIENDS_LIST);\n        menuManager.removeManagedCustomMenu(IGNORE_LIST);\n        menuManager.removeManagedCustomMenu(CHAT_CHANNEL_LIST);\n        menuManager.removeManagedCustomMenu(CHAT_CHANNEL_RANKS);\n        menuManager.removeManagedCustomMenu(CLAN_CHAT_MEMBERS);\n        menuManager.removeManagedCustomMenu(CLAN_CHAT_JOINS);\n        menuManager.removeManagedCustomMenu(CLAN_CHAT_BANS);\n        menuManager.removeManagedCustomMenu(CLAN_CHAT_EVENTS);\n        menuManager.removeManagedCustomMenu(EMOTES);\n    }\n\n    /**\n     * Exports the player\u0027s Friends List.\n     */\n    private void exportFriendsList() {\n        String filename \u003d client.getLocalPlayer().getName() + \" Friends \" + format(new Date()) + \".txt\";\n        Friend[] array \u003d client.getFriendContainer().getMembers();\n        List\u003cPlayerListItem\u003e playerList \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i !\u003d client.getFriendContainer().getMembers().length; ++i) {\n            PlayerListItem playerListItem \u003d new PlayerListItem();\n            playerListItem.setName(array[i].getName());\n            if (!StringUtils.isEmpty(array[i].getPrevName()) \u0026\u0026 config.includePrevName()) {\n                playerListItem.setPreviousName(array[i].getPrevName());\n            }\n            if (config.includeNote()) {\n                playerListItem.setNote(configManager.getConfiguration(\"friendNotes\", \"note_\" + playerListItem.getName()));\n            }\n            playerList.add(playerListItem);\n        }\n        exportList(filename, playerList);\n    }\n\n\n    /**\n     * Exports the player\u0027s Ignore List.\n     */\n    private void exportIgnoreList() {\n        String filename \u003d client.getLocalPlayer().getName() + \" Ignore \" + format(new Date()) + \".txt\";\n        Ignore[] array \u003d client.getIgnoreContainer().getMembers();\n        List\u003cPlayerListItem\u003e playerList \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i !\u003d array.length; ++i) {\n            PlayerListItem playerListItem \u003d new PlayerListItem();\n            playerListItem.setName(array[i].getName());\n            if (!StringUtils.isEmpty(array[i].getPrevName()) \u0026\u0026 config.includePrevName()) {\n                playerListItem.setPreviousName(array[i].getPrevName());\n            }\n            if (config.includeNote()) {\n                playerListItem.setNote(configManager.getConfiguration(\"friendNotes\", \"note_\" + playerListItem.getName()));\n            }\n            playerList.add(playerListItem);\n        }\n        exportList(filename, playerList);\n    }\n\n\n    /**\n     * Exports all members of the player\u0027s own chat-channel. Requires the Chat-channel Setup widget to be open.\n     */\n    private void exportChatChannelRankList() {\n        Friend[] friendsList \u003d client.getFriendContainer().getMembers();\n        Widget channelSetupListWidget \u003d client.getWidget(InterfaceID.ChatchannelSetup.LIST);\n\n        if (channelSetupListWidget \u003d\u003d null) {\n            client.addChatMessage(ChatMessageType.GAMEMESSAGE, \"\", \"Please open Chat-channel Setup found in the Chat-channel tab to export this list.\", \"\");\n            return;\n        }\n\n        Widget[] children \u003d channelSetupListWidget.getChildren();\n        if (children \u003d\u003d null) return;\n\n        List\u003cPlayerListItem\u003e playerList \u003d new ArrayList\u003c\u003e();\n\n        for (int i \u003d 0; i \u003c children.length/4; ++i) {\n            String rank \u003d children[(i * 4) + 1].getText();\n            if(!rank.equals(\"Not ranked\") || config.showUnranked()) {\n                String prevName \u003d \"\";\n                if (config.includePrevName()) {\n                    for (Friend friend : friendsList) {\n                        String friendName \u003d friend.getName();\n                        if (friendName.equals(children[(i * 4) + 2].getText())) {\n                            if (!StringUtils.isEmpty(friend.getPrevName())) {\n                                prevName \u003d friend.getPrevName();\n                            }\n                            break;\n                        }\n                    }\n                }\n\n                PlayerListItem playerListItem \u003d new PlayerListItem();\n                playerListItem.setName(children[(i * 4) + 2].getText());\n                playerListItem.setPreviousName(prevName);\n                playerListItem.setRank(!rank.equals(\"Not ranked\") ? rank : \"No Rank\");\n\n                playerList.add(playerListItem);\n            }\n        }\n        String filename \u003d client.getLocalPlayer().getName() + \" Ranks \" + format(new Date()) + \".txt\";\n        exportList(filename, playerList);\n    }\n\n    /**\n     * Exports players in the current Chat Channel. Player must be in a Chat Channel to have this available to them.\n     * Drops a message in the Game chat if the player is not currently in a Chat Channel.\n     *\n     * This was previously known as Friends Chat.\n     */\n    private void exportChatChannelMembers() {\n        FriendsChatManager manager \u003d client.getFriendsChatManager();\n        if (manager \u003d\u003d null) {\n            client.addChatMessage(ChatMessageType.GAMEMESSAGE, \"\", \"Please join a Chat-channel to export this list.\", \"\");\n            return;\n        }\n\n        FriendsChatMember[] members \u003d manager.getMembers();\n        List\u003cPlayerListItem\u003e playerList \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i !\u003d client.getFriendsChatManager().getMembers().length; ++i) {\n            String friendName \u003d members[i].getName();\n            PlayerListItem playerListItem \u003d new PlayerListItem();\n            playerListItem.setName(friendName);\n            playerList.add(playerListItem);\n        }\n        String filename \u003d manager.getOwner() + \" Members \" + format(new Date()) + \".txt\";\n        exportList(filename, playerList);\n    }\n\n    /**\n     * Exports loaded players around the user in-game.\n     */\n    private void exportLocalPlayers() {\n        List\u003cPlayer\u003e array \u003d client.getPlayers();\n        List\u003cPlayerListItem\u003e playerList \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i !\u003d array.size(); ++i) {\n            String localName \u003d array.get(i).getName();\n            if(!localName.matches(client.getLocalPlayer().getName())) {\n                PlayerListItem playerListItem \u003d new PlayerListItem();\n                playerListItem.setName(localName);\n                playerList.add(playerListItem);\n            }\n        }\n        String filename \u003d client.getLocalPlayer().getName() + \" Local \" + format(new Date()) + \".txt\";\n        exportList(filename, playerList);\n    }\n\n    /**\n     * Exports currently online clan members.\n     */\n    private void exportOnlineClanMembers() {\n        List\u003cPlayerListItem\u003e playerList \u003d client.getClanChannel().getMembers().stream()\n                .sorted(Comparator.comparingInt((ClanChannelMember member) -\u003e member.getRank().getRank()).reversed()\n                        .thenComparing(ClanChannelMember::getName, String::compareToIgnoreCase))\n                .map((ClanChannelMember clanmate) -\u003e {\n                    PlayerListItem playerListItem \u003d new PlayerListItem();\n                    playerListItem.setName(clanmate.getName());\n                    playerListItem.setRank(client.getClanSettings().titleForRank(clanmate.getRank()).getName());\n                    return playerListItem;\n                })\n                .collect(Collectors.toList());\n        String filename \u003d client.getClanChannel().getName() + \" Members \" + format(new Date()) + \".txt\";\n        exportList(filename, playerList);\n    }\n\n    /**\n     * Exports the full list of current clan members, not just online. Requires the clan \"Members\" menu to be open.\n     * Drops a message into game chat if required Widget is not open.\n     */\n    private void exportAllClanMembers() {\n        Widget clanListWidget \u003d client.getWidget(InterfaceID.ClansMembers.NAME);\n        if (clanListWidget \u003d\u003d null) {\n            client.addChatMessage(ChatMessageType.GAMEMESSAGE, \"\", \"Please open clan settings and navigate to the Members tab.\", \"\");\n            return;\n        }\n\n        Widget[] clanList \u003d clanListWidget.getChildren();\n\n        List\u003cPlayerListItem\u003e playerList \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 1; i \u003c clanList.length; i+\u003d3) {\n            PlayerListItem playerListItem \u003d new PlayerListItem();\n            playerListItem.setName(clanList[i].getText());\n            playerList.add(playerListItem);\n        }\n        String filename \u003d client.getClanChannel().getName() + \" Full Member List \" + format(new Date()) + \".txt\";\n        exportList(filename, playerList);\n    }\n\n    /**\n     * Exports the ban list for your clan. Drops a message in game chat if the Clan Banlist isn\u0027t open.\n     */\n    private void exportClanBanList() {\n        Widget clanBanListWidget \u003d client.getWidget(InterfaceID.ClansBanned.LIST_CONTENTS);\n        if (clanBanListWidget \u003d\u003d null) {\n            client.addChatMessage(ChatMessageType.GAMEMESSAGE, \"\", \"Please open clan settings and navigate to the Bans tab.\", \"\");\n            return;\n        }\n\n        int banSize \u003d clanBanListWidget.getDynamicChildren().length/2;\n        List\u003cPlayerListItem\u003e playerList \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i !\u003d banSize; ++i) {\n            String player \u003d clanBanListWidget.getDynamicChildren()[500+i].getText();\n            if (player.isEmpty()) {\n                break;\n            }\n            PlayerListItem playerListItem \u003d new PlayerListItem();\n            playerListItem.setName(player);\n            playerList.add(playerListItem);\n        }\n        String filename \u003d client.getClanChannel().getName() + \" Ban List \" + format(new Date()) + \".txt\";\n        exportList(filename, playerList);\n    }\n\n    /**\n     * Exports the clan event list. Drops a message in game chat if the clan events chat isn\u0027t open.\n     * This is the only function that does not currently use exportList and instead does everything in it.\n     */\n    private void exportClanEventList() {\n        Widget clanEventWidget \u003d client.getWidget(InterfaceID.ClansEvents.LIST_CONTENTS_WORLD);\n        if (clanEventWidget \u003d\u003d null) {\n            client.addChatMessage(ChatMessageType.GAMEMESSAGE, \"\", \"Please open clan settings and navigate to the Events tab.\", \"\");\n            return;\n        }\n\n        int eventSize \u003d clanEventWidget.getDynamicChildren().length;\n        List\u003cString\u003e lines \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i !\u003d eventSize; ++i) {\n            String world \u003d Text.removeTags(client.getWidget(InterfaceID.ClansEvents.LIST_CONTENTS_WORLD).getDynamicChildren()[i].getText());\n            String startDate \u003d Text.removeTags(client.getWidget(InterfaceID.ClansEvents.LIST_CONTENTS_DATE).getDynamicChildren()[i].getText());\n            String startTime \u003d Text.removeTags(client.getWidget(InterfaceID.ClansEvents.LIST_CONTENTS_TIME).getDynamicChildren()[i].getText());\n            String duration \u003d Text.removeTags(client.getWidget(InterfaceID.ClansEvents.LIST_CONTENTS_DURATION).getDynamicChildren()[i].getText());\n            String type \u003d Text.removeTags(client.getWidget(InterfaceID.ClansEvents.LIST_CONTENTS_TYPE).getDynamicChildren()[i].getText());\n            String focus \u003d Text.removeTags(client.getWidget(InterfaceID.ClansEvents.LIST_CONTENTS_ACTIVITY).getDynamicChildren()[i].getText());\n            String subType \u003d Text.removeTags(client.getWidget(InterfaceID.ClansEvents.LIST_CONTENTS_SUBTYPE).getDynamicChildren()[i].getText());\n            String ranks \u003d Text.removeTags(client.getWidget(InterfaceID.ClansEvents.LIST_CONTENTS_RANK_TO_VIEW).getDynamicChildren()[i].getText());\n\n            StringBuilder exportString \u003d new StringBuilder();\n            if (!config.lineLeads().equals(LineLeads.None)) {\n                exportString.append(i + config.lineLeads().getPunctuation());\n            }\n            exportString.append(\n                    focus + config.getSeparator() + type\n                            + config.getSeparator() + subType\n                            + config.getSeparator() + startDate + \" \" + startTime\n                            + config.getSeparator() + duration\n                            + config.getSeparator() + world\n                            + config.getSeparator() + ranks\n            );\n\n            lines.add(exportString.toString());\n        }\n        String filename \u003d client.getClanChannel().getName() + \" Events \" + format(new Date()) + \".txt\";\n        exportToFile(filename, lines);\n    }\n\n    /**\n     * Handles the exporting of a file for a list of {@link PlayerListItem}.\n     * @param filename The base filename\n     * @param playerList List of PlayerListItems containing relevant information for exporting\n     */\n    private void exportList(String filename, List\u003cPlayerListItem\u003e playerList) {\n        List\u003cString\u003e lines \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i \u003c playerList.size(); i++) {\n            lines.add(getExportLineForPlayer(i + 1, playerList.get(i)));\n        }\n        exportToFile(filename, lines);\n    }\n\n    /**\n     * Writes a list of lines to a file using the injected executor.\n     */\n    private void exportToFile(String filename, List\u003cString\u003e lines) {\n        String filePath \u003d EXPORT_DIR + File.separator + filename;\n\n        executor.submit(() -\u003e {\n            File file \u003d new File(filePath);\n\n            if (file.exists() \u0026\u0026 !file.delete()) {\n                log.error(\"Failed to delete existing file: {}\", filePath);\n                return;\n            }\n\n            try (BufferedWriter writer \u003d new BufferedWriter(new FileWriter(file, true))) {\n                for (String line : lines) {\n                    writer.write(line);\n                    writer.newLine();\n                }\n            } catch (IOException e) {\n                log.error(\"Failed to write export file: {}\", filePath, e);\n            }\n        });\n    }\n\n\n    /**\n     * Puts together the text for one {@link PlayerListItem}.\n     *\n     * @param num the index to place as the front\n     * @param playerListItem the player wrapper with info\n     * @return the complete string to be exported for the player.\n     */\n    private String getExportLineForPlayer(int num, PlayerListItem playerListItem) {\n\n        String separator \u003d config.getSeparator();\n\n        StringBuilder exportString \u003d new StringBuilder();\n        if (!config.lineLeads().equals(LineLeads.None)) {\n            exportString.append(num).append(config.lineLeads().getPunctuation());\n        }\n\n        if (!playerListItem.getRank().isEmpty()) {\n            exportString.append(playerListItem.getRank()).append(separator);\n        }\n\n        exportString.append(playerListItem.getName());\n\n        if (!StringUtils.isEmpty(playerListItem.getPreviousName())) {\n            exportString.append(separator).append(playerListItem.getPreviousName());\n        }\n\n        if (!StringUtils.isEmpty(playerListItem.getNote())) {\n            exportString.append(separator).append(playerListItem.getNote());\n        }\n\n        return exportString.toString();\n    }\n\n    @Provides\n    FriendsExporterConfig provideConfig(ConfigManager configManager) {\n        return configManager.getConfig(FriendsExporterConfig.class);\n    }\n}","filePath":"src\\main\\java\\com\\FriendsExporter\\FriendsExporterPlugin.java"},{"fileName":"LineLeads.java","content":"package com.FriendsExporter;\n\npublic enum LineLeads {\n    None(\"None\", \"\"),\n    Number(\"[Number]\", \" \"),\n    Number1(\"[Number].\", \". \"),\n    Number2(\"[Number])\", \") \"),\n    Number3(\"[Number].)\", \".) \")\n    ;\n\n    private final String name;\n    private final String punctuation;\n\n    public String toString() {\n        return this.getName();\n    }\n\n    public String getName() {\n        return this.name;\n    }\n    public String getPunctuation() {return this.punctuation;}\n\n    private LineLeads(String name, String punctuation) {\n        this.name \u003d name;\n        this.punctuation \u003d punctuation;\n    }\n}\n","filePath":"src\\main\\java\\com\\FriendsExporter\\LineLeads.java"},{"fileName":"PlayerListItem.java","content":"package com.FriendsExporter;\n\n\nimport net.runelite.client.util.Text;\n\npublic class PlayerListItem {\n\n    private String name;\n    private String previousName;\n    private String note;\n    private String rank;\n\n\n    PlayerListItem() {\n        this.name \u003d \"\";\n        this.previousName \u003d \"\";\n        this.note \u003d \"\";\n        this.rank \u003d \"\";\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name \u003d Text.toJagexName(Text.removeTags(name));\n    }\n\n    public String getPreviousName() {\n        return previousName;\n    }\n\n    public void setPreviousName(String previousName) {\n        this.previousName \u003d Text.toJagexName(Text.removeTags(previousName));\n    }\n\n    public String getNote() {\n        return note;\n    }\n\n    public void setNote(String note) {\n        this.note \u003d note;\n    }\n\n    public String getRank() {\n        return rank;\n    }\n\n    public void setRank(String rank) {\n        this.rank \u003d rank;\n    }\n}\n","filePath":"src\\main\\java\\com\\FriendsExporter\\PlayerListItem.java"},{"fileName":"FriendsExporterPluginTest.java","content":"package com.FriendsExporter;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class FriendsExporterPluginTest\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tExternalPluginManager.loadBuiltin(FriendsExporterPlugin.class);\n\t\tRuneLite.main(args);\n\t}\n}","filePath":"src\\test\\java\\com\\FriendsExporter\\FriendsExporterPluginTest.java"}]},{"commit":"4cfd6848fa1f1f790a843bf461f7a4e9a9778427","repository":"https://github.com/tcpowell/interactable.git","internalName":"interactable","files":[{"fileName":"InteractableConfig.java","content":"package com.interactable;\n\nimport java.awt.Color;\nimport net.runelite.client.config.Alpha;\nimport net.runelite.client.config.Config;\nimport net.runelite.client.config.ConfigGroup;\nimport net.runelite.client.config.ConfigItem;\nimport net.runelite.client.config.Keybind;\nimport net.runelite.client.config.Range;\n\n@ConfigGroup(InteractableConfig.GROUP)\npublic interface InteractableConfig extends Config\n{\n\tString GROUP \u003d \"interactableHints\";\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"toggleKeybind\",\n\t\tname \u003d \"Toggle Overlay\",\n\t\tdescription \u003d \"Binds a key (combination) to toggle the overlay.\",\n\t\tposition \u003d 0\n\t)\n\tdefault Keybind toggleKeybind()\n\t{\n\t\treturn Keybind.NOT_SET;\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"autoHideTimeout\",\n\t\tname \u003d \"Auto Hide Timeout\",\n\t\tdescription \u003d \"Timeout (in seconds) where the overlay is hidden (0 \u003d do not auto hide)\",\n\t\tposition \u003d 1\n\t)\n\tdefault int autoHideTimeout()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"showObject\",\n\t\tname \u003d \"Show Objects\",\n\t\tdescription \u003d \"Outline interactable Objects\",\n\t\tposition \u003d 2\n\t)\n\tdefault boolean showObject()\n\t{\n\t\treturn true;\n\t}\n\n\t@Alpha\n\t@ConfigItem(\n\t\tkeyName \u003d \"objectHighlightColor\",\n\t\tname \u003d \"Object Color\",\n\t\tdescription \u003d \"The color of the outline for Objects\",\n\t\tposition \u003d 3\n\t)\n\tdefault Color objectHighlightColor()\n\t{\n\t\treturn new Color(0, 255, 255, 160);\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"showAttackNpc\",\n\t\tname \u003d \"Show Attackable NPCs\",\n\t\tdescription \u003d \"Outline attackable NPCs\",\n\t\tposition \u003d 4\n\t)\n\tdefault boolean showAttackNpc()\n\t{\n\t\treturn true;\n\t}\n\n\t@Alpha\n\t@ConfigItem(\n\t\tkeyName \u003d \"attackNpcColor\",\n\t\tname \u003d \"Attackable NPC Color\",\n\t\tdescription \u003d \"The color of the outline for attackable NPCs\",\n\t\tposition \u003d 5\n\t)\n\tdefault Color attackNpcColor()\n\t{\n\t\treturn new Color(255, 10, 10, 160);\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"showInteractableNpc\",\n\t\tname \u003d \"Show Interactable NPCs\",\n\t\tdescription \u003d \"Outline interactable NPCs\",\n\t\tposition \u003d 6\n\t)\n\tdefault boolean showInteractableNpc()\n\t{\n\t\treturn true;\n\t}\n\n\t@Alpha\n\t@ConfigItem(\n\t\tkeyName \u003d \"interactableNpcColor\",\n\t\tname \u003d \"Interactable NPC Color\",\n\t\tdescription \u003d \"The color of the outline for interactable NPCs\",\n\t\tposition \u003d 7\n\t)\n\tdefault Color interactableNpcColor()\n\t{\n\t\treturn new Color(255, 255, 10, 160);\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"borderWidth\",\n\t\tname \u003d \"Border Width\",\n\t\tdescription \u003d \"Width of the outlined border\",\n\t\tposition \u003d 8\n\t)\n\tdefault int borderWidth()\n\t{\n\t\treturn 4;\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"outlineFeather\",\n\t\tname \u003d \"Outline feather\",\n\t\tdescription \u003d \"Specify between 0-4 how much of the model outline should be faded\",\n\t\tposition \u003d 9\n\t)\n\t@Range(\n\t\tmax \u003d 4\n\t)\n\tdefault int outlineFeather()\n\t{\n\t\treturn 4;\n\t}\n\n}\n","filePath":"src\\main\\java\\com\\interactable\\InteractableConfig.java"},{"fileName":"InteractableOverlay.java","content":"package com.interactable;\n\nimport java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport javax.inject.Inject;\nimport net.runelite.api.Client;\nimport net.runelite.api.NPC;\nimport net.runelite.api.TileObject;\nimport net.runelite.client.ui.overlay.Overlay;\nimport net.runelite.client.ui.overlay.OverlayLayer;\nimport net.runelite.client.ui.overlay.OverlayPosition;\nimport net.runelite.client.ui.overlay.OverlayPriority;\nimport net.runelite.client.ui.overlay.outline.ModelOutlineRenderer;\n\nclass InteractableOverlay extends Overlay\n{\n\tprivate final Client client;\n\tprivate final InteractablePlugin plugin;\n\tprivate final InteractableConfig config;\n\tprivate final ModelOutlineRenderer modelOutlineRenderer;\n\n\t@Inject\n\tprivate InteractableOverlay(Client client, InteractablePlugin plugin, InteractableConfig config, ModelOutlineRenderer modelOutlineRenderer)\n\t{\n\t\tthis.client \u003d client;\n\t\tthis.plugin \u003d plugin;\n\t\tthis.config \u003d config;\n\t\tthis.modelOutlineRenderer \u003d modelOutlineRenderer;\n\t\tsetPosition(OverlayPosition.DYNAMIC);\n\t\tsetLayer(OverlayLayer.ABOVE_SCENE);\n\t\tsetPriority(OverlayPriority.HIGH);\n\t}\n\n\t@Override\n\tpublic Dimension render(Graphics2D graphics)\n\t{\n\t\tif (plugin.isShown())\n\t\t{\n\t\t\trenderObjects();\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tprivate void renderObjects()\n\t{\n\t\tplugin.generateObjectLists();\n\n\t\tif (config.showObject())\n\t\t{\n\t\t\tfor (TileObject object : plugin.getObjects())\n\t\t\t{\n\t\t\t\tif (object !\u003d null)\n\t\t\t\t{\n\t\t\t\t\tmodelOutlineRenderer.drawOutline(object, config.borderWidth(), plugin.getCurrentObjectColor(), config.outlineFeather());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (config.showAttackNpc())\n\t\t{\n\t\t\tfor (NPC npc : plugin.getAttackNpcs())\n\t\t\t{\n\t\t\t\tif (npc !\u003d null)\n\t\t\t\t{\n\t\t\t\t\tmodelOutlineRenderer.drawOutline(npc, config.borderWidth(), plugin.getCurrentNpcAttackColor(), config.outlineFeather());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (config.showInteractableNpc())\n\t\t{\n\t\t\tfor (NPC npc : plugin.getInteractNpcs())\n\t\t\t{\n\t\t\t\tif (npc !\u003d null)\n\t\t\t\t{\n\t\t\t\t\tmodelOutlineRenderer.drawOutline(npc, config.borderWidth(), plugin.getCurrentNpcInteractColor(), config.outlineFeather());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t}\n}","filePath":"src\\main\\java\\com\\interactable\\InteractableOverlay.java"},{"fileName":"InteractablePlugin.java","content":"package com.interactable;\n\nimport com.google.common.base.Strings;\nimport com.google.inject.Provides;\nimport java.awt.Color;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.inject.Inject;\nimport lombok.AccessLevel;\nimport lombok.Getter;\nimport lombok.extern.slf4j.Slf4j;\nimport net.runelite.api.Client;\nimport net.runelite.api.Constants;\nimport net.runelite.api.GameObject;\nimport net.runelite.api.GroundObject;\nimport net.runelite.api.NPC;\nimport net.runelite.api.NPCComposition;\nimport net.runelite.api.ObjectComposition;\nimport net.runelite.api.Player;\nimport net.runelite.api.Scene;\nimport net.runelite.api.Tile;\nimport net.runelite.api.TileObject;\nimport net.runelite.api.WallObject;\nimport net.runelite.api.events.ClientTick;\nimport net.runelite.client.callback.ClientThread;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.eventbus.Subscribe;\nimport net.runelite.client.input.KeyManager;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDescriptor;\nimport net.runelite.client.ui.overlay.OverlayManager;\nimport net.runelite.client.util.HotkeyListener;\n\n@Slf4j\n@PluginDescriptor(\n\tname \u003d \"Interactable Hints\"\n)\npublic class InteractablePlugin extends Plugin\n{\n\tprivate int MAX_DISTANCE \u003d 2350;\n\tprivate int remainingClientTicks \u003d -1;\n\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate boolean shown \u003d false;\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate Color currentObjectColor;\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate Color currentNpcAttackColor;\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate Color currentNpcInteractColor;\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate List\u003cTileObject\u003e objects \u003d new ArrayList\u003cTileObject\u003e();\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate List\u003cNPC\u003e attackNpcs \u003d new ArrayList\u003cNPC\u003e();\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate List\u003cNPC\u003e interactNpcs \u003d new ArrayList\u003cNPC\u003e();\n\n\t@Inject\n\tprivate Client client;\n\n\t@Inject\n\tprivate ClientThread clientThread;\n\n\t@Inject\n\tprivate OverlayManager overlayManager;\n\n\t@Inject\n\tprivate InteractableOverlay interactableOverlay;\n\n\t@Inject\n\tprivate InteractableConfig config;\n\n\t@Inject\n\tprivate KeyManager keyManager;\n\n\t@Override\n\tprotected void startUp() throws Exception\n\t{\n\t\tshown \u003d false;\n\t\tkeyManager.registerKeyListener(hotkeyListener);\n\t\toverlayManager.add(interactableOverlay);\n\t\tobjects \u003d new ArrayList\u003cTileObject\u003e();\n\t\tattackNpcs \u003d new ArrayList\u003cNPC\u003e();\n\t\tinteractNpcs \u003d new ArrayList\u003cNPC\u003e();\n\t}\n\n\t@Override\n\tprotected void shutDown() throws Exception\n\t{\n\t\tshown \u003d false;\n\t\tkeyManager.unregisterKeyListener(hotkeyListener);\n\t\toverlayManager.remove(interactableOverlay);\n\t\tobjects \u003d null;\n\t\tattackNpcs \u003d null;\n\t\tinteractNpcs \u003d null;\n\t}\n\n\t@Subscribe\n\tpublic void onClientTick(ClientTick clientTick)\n\t{\n\t\tif (config.autoHideTimeout() \u003e 0 \u0026\u0026 shown)\n\t\t{\n\t\t\tif (remainingClientTicks \u003e 50)\n\t\t\t{\n\t\t\t\tremainingClientTicks--;\n\t\t\t}\n\t\t\telse if (remainingClientTicks \u003e 0)\n\t\t\t{\n\t\t\t\tfadeOut();\n\t\t\t\tremainingClientTicks--;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tshown \u003d false;\n\t\t\t\tlog.debug(\"Interactable Hints auto-hide triggered\");\n\t\t\t\tcurrentObjectColor \u003d config.objectHighlightColor();\n\t\t\t\tcurrentNpcAttackColor \u003d config.attackNpcColor();\n\t\t\t\tcurrentNpcInteractColor \u003d config.interactableNpcColor();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate void fadeOut()\n\t{\n\t\tint newObjectAlpha \u003d config.objectHighlightColor().getAlpha() * remainingClientTicks / 50;\n\t\tcurrentObjectColor \u003d new Color(config.objectHighlightColor().getRed(), config.objectHighlightColor().getGreen(), config.objectHighlightColor().getBlue(), newObjectAlpha);\n\n\t\tint newAttackAlpha \u003d config.attackNpcColor().getAlpha() * remainingClientTicks / 50;\n\t\tcurrentNpcAttackColor \u003d new Color(config.attackNpcColor().getRed(), config.attackNpcColor().getGreen(), config.attackNpcColor().getBlue(), newAttackAlpha);\n\n\t\tint newInteractAlpha \u003d config.interactableNpcColor().getAlpha() * remainingClientTicks / 50;\n\t\tcurrentNpcInteractColor \u003d new Color(config.interactableNpcColor().getRed(), config.interactableNpcColor().getGreen(), config.interactableNpcColor().getBlue(), newInteractAlpha);\n\t}\n\n\t@Provides\n\tInteractableConfig provideConfig(ConfigManager configManager)\n\t{\n\t\treturn configManager.getConfig(InteractableConfig.class);\n\t}\n\n\tprivate final HotkeyListener hotkeyListener \u003d new HotkeyListener(() -\u003e config.toggleKeybind())\n\t{\n\t\t@Override\n\t\tpublic void hotkeyPressed()\n\t\t{\n\t\t\tcurrentObjectColor \u003d config.objectHighlightColor();\n\t\t\tcurrentNpcAttackColor \u003d config.attackNpcColor();\n\t\t\tcurrentNpcInteractColor \u003d config.interactableNpcColor();\n\n\t\t\tshown \u003d !shown;\n\t\t\tlog.debug(\"Interactable Hints overlay toggled to \" + shown);\n\t\t\tif (shown)\n\t\t\t{\n\t\t\t\tremainingClientTicks \u003d config.autoHideTimeout() * 50;\n\t\t\t}\n\t\t}\n\t};\n\n\tvoid generateObjectLists()\n\t{\n\t\tobjects \u003d new ArrayList\u003cTileObject\u003e();\n\t\tattackNpcs \u003d new ArrayList\u003cNPC\u003e();\n\t\tinteractNpcs \u003d new ArrayList\u003cNPC\u003e();\n\n\t\tfor (NPC npc : client.getNpcs())\n\t\t{\n\t\t\tNPCComposition npcComp \u003d replaceNpcImposters(npc.getComposition());\n\n\t\t\tif (npcCompCheck(npcComp) \u0026\u0026 npcCheck(npc))\n\t\t\t{\n\t\t\t\tif (npcAttackable(npcComp))\n\t\t\t\t{\n\t\t\t\t\tattackNpcs.add(npc);\n\t\t\t\t}\n\t\t\t\telse if (npcInteractable(npcComp))\n\t\t\t\t{\n\t\t\t\t\tinteractNpcs.add(npc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tScene scene \u003d client.getScene();\n\t\tTile[][] tiles \u003d scene.getTiles()[client.getPlane()];\n\n\t\tfor (int x \u003d 0; x \u003c Constants.SCENE_SIZE; ++x)\n\t\t{\n\t\t\tfor (int y \u003d 0; y \u003c Constants.SCENE_SIZE; ++y)\n\t\t\t{\n\t\t\t\tTile tile \u003d tiles[x][y];\n\t\t\t\tif (tile \u003d\u003d null)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (GameObject gameObject : tile.getGameObjects())\n\t\t\t\t{\n\t\t\t\t\tif (gameObjectCheck(gameObject) \u0026\u0026 !(gameObject.getRenderable() instanceof Player) \u0026\u0026 !(gameObject.getRenderable() instanceof NPC))\n\t\t\t\t\t{\n\t\t\t\t\t\tint objectId \u003d gameObject.getId();\n\t\t\t\t\t\tObjectComposition comp \u003d replaceObjectImposters(client.getObjectDefinition(objectId));\n\n\t\t\t\t\t\tif (objectCompCheck(comp))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!objects.contains(gameObject))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tobjects.add(gameObject);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tWallObject wallObject \u003d tile.getWallObject();\n\n\t\t\t\tif (gameObjectCheck(wallObject))\n\t\t\t\t{\n\t\t\t\t\tint objectId \u003d wallObject.getId();\n\t\t\t\t\tObjectComposition comp \u003d replaceObjectImposters(client.getObjectDefinition(objectId));\n\n\t\t\t\t\tif (objectCompCheck(comp))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!objects.contains(wallObject))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tobjects.add(wallObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tGroundObject groundObject \u003d tile.getGroundObject();\n\n\t\t\t\tif (gameObjectCheck(groundObject))\n\t\t\t\t{\n\t\t\t\t\tint objectId \u003d groundObject.getId();\n\t\t\t\t\tObjectComposition comp \u003d replaceObjectImposters(client.getObjectDefinition(objectId));\n\n\t\t\t\t\tif (objectCompCheck(comp))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!objects.contains(groundObject))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tobjects.add(groundObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate boolean objectCompCheck(ObjectComposition comp)\n\t{\n\t\treturn (comp !\u003d null \u0026\u0026 !Strings.isNullOrEmpty(comp.getName()) \u0026\u0026 !comp.getName().equals(\"null\") \u0026\u0026 objectActionCheck(comp));\n\t}\n\n\tprivate boolean npcCompCheck(NPCComposition comp)\n\t{\n\t\treturn (comp !\u003d null \u0026\u0026 !Strings.isNullOrEmpty(comp.getName()) \u0026\u0026 !comp.getName().equals(\"null\"));\n\t}\n\n\tprivate boolean gameObjectCheck(TileObject object)\n\t{\n\t\treturn object !\u003d null \u0026\u0026 object.getLocalLocation().distanceTo(client.getLocalPlayer().getLocalLocation()) \u003c\u003d MAX_DISTANCE;\n\t}\n\n\tprivate boolean npcCheck(NPC npc)\n\t{\n\t\treturn npc !\u003d null \u0026\u0026 npc.getLocalLocation().distanceTo(client.getLocalPlayer().getLocalLocation()) \u003c\u003d MAX_DISTANCE;\n\t}\n\n\tprivate ObjectComposition replaceObjectImposters(ObjectComposition comp)\n\t{\n\t\treturn comp.getImpostorIds() !\u003d null ? comp.getImpostor() : comp;\n\t}\n\n\tprivate NPCComposition replaceNpcImposters(NPCComposition comp)\n\t{\n\t\treturn comp.getConfigs() !\u003d null \u0026\u0026 comp.transform() !\u003d null ? comp.transform() : comp;\n\t}\n\n\tprivate boolean objectActionCheck(ObjectComposition comp)\n\t{\n\t\tfor (String action : comp.getActions())\n\t\t{\n\t\t\tif (!Strings.isNullOrEmpty(action) \u0026\u0026 !action.equals(\"null\"))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate boolean npcAttackable(NPCComposition comp)\n\t{\n\t\tfor (String action : comp.getActions())\n\t\t{\n\t\t\tif (!Strings.isNullOrEmpty(action) \u0026\u0026 action.equals(\"Attack\") \u0026\u0026 client.getVarpValue(1306) !\u003d3)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate boolean npcInteractable(NPCComposition comp)\n\t{\n\t\tfor (String action : comp.getActions())\n\t\t{\n\t\t\tif (!Strings.isNullOrEmpty(action) \u0026\u0026 !action.equals(\"null\") \u0026\u0026 !action.equals(\"Attack\"))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n","filePath":"src\\main\\java\\com\\interactable\\InteractablePlugin.java"},{"fileName":"InteractablePluginTest.java","content":"package com.interactable;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class InteractablePluginTest\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tExternalPluginManager.loadBuiltin(InteractablePlugin.class);\n\t\tRuneLite.main(args);\n\t}\n}","filePath":"src\\test\\java\\com\\interactable\\InteractablePluginTest.java"}]},{"commit":"d383983a88752621b6605cad55fd3dde8e3c5e14","repository":"https://github.com/IanMcNelly/maniacal-hunter.git","internalName":"maniacal-hunter","files":[{"fileName":"DisplayMode.java","content":"package com.maniacalhunter;\n\npublic enum DisplayMode\n{\n\tSESSION_ONLY,\n\tAGGREGATE_ONLY,\n\tBOTH\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\DisplayMode.java"},{"fileName":"ManiacalHunterConfig.java","content":"package com.maniacalhunter;\n\nimport net.runelite.client.config.Config;\nimport net.runelite.client.config.ConfigGroup;\nimport net.runelite.client.config.ConfigItem;\nimport net.runelite.client.config.ConfigSection;\n\n@ConfigGroup(\"maniacalhunter\")\npublic interface ManiacalHunterConfig extends Config\n{\n\t@ConfigSection(\n\t\t\tname \u003d \"Display\",\n\t\t\tdescription \u003d \"Configure which stats to display\",\n\t\t\tposition \u003d 0\n\t)\n\tString displaySection \u003d \"display\";\n\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"condensedMode\",\n\t\t\tname \u003d \"Condensed Mode\",\n\t\t\tdescription \u003d \"Display stats in an infobox.\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean condensedMode()\n\t{\n\t\treturn false;\n\t}\n\n\t@ConfigSection(\n\t\t\tname \u003d \"Auto Reset\",\n\t\t\tdescription \u003d \"Automatically reset the session\",\n\t\t\tposition \u003d 4\n\t)\n\tString autoResetSection \u003d \"autoReset\";\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"autoResetMode\",\n\t\t\tname \u003d \"Auto Reset Session\",\n\t\t\tdescription \u003d \"Automatically reset the session upon entering or leaving the area\",\n\t\t\tsection \u003d autoResetSection\n\t)\n\tdefault ResetMode autoResetMode()\n\t{\n\t\treturn ResetMode.NEVER;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showMonkeysCaught\",\n\t\t\tname \u003d \"Show Monkeys Caught\",\n\t\t\tdescription \u003d \"Show the total number of monkeys caught\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showMonkeysCaught()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showTrapsLaid\",\n\t\t\tname \u003d \"Show Traps Laid\",\n\t\t\tdescription \u003d \"Show the total number of traps laid\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showTrapsLaid()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showLastTrapStatus\",\n\t\t\tname \u003d \"Show Last Trap Status\",\n\t\t\tdescription \u003d \"Show the status of the last trap\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showLastTrapStatus()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showSuccessRate\",\n\t\t\tname \u003d \"Show Success Rate\",\n\t\t\tdescription \u003d \"Show the success rate of catching monkeys\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showSuccessRate()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showMonkeysPerHour\",\n\t\t\tname \u003d \"Show Monkeys/Hour\",\n\t\t\tdescription \u003d \"Show the number of monkeys caught per hour\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showMonkeysPerHour()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showPerfectTails\",\n\t\t\tname \u003d \"Show Perfect Tails\",\n\t\t\tdescription \u003d \"Show the number of perfect tails received\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showPerfectTails()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showDamagedTails\",\n\t\t\tname \u003d \"Show Damaged Tails\",\n\t\t\tdescription \u003d \"Show the number of damaged tails received\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showDamagedTails()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showLuck\",\n\t\t\tname \u003d \"Show Luck\",\n\t\t\tdescription \u003d \"Show your current luck in receiving a perfect tail\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showLuck()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showAvgCatchTime\",\n\t\t\tname \u003d \"Show Avg. Catch Time\",\n\t\t\tdescription \u003d \"Show the average time to catch a monkey\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showAvgCatchTime()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"displayMode\",\n\t\t\tname \u003d \"Display Mode\",\n\t\t\tdescription \u003d \"Choose how to display stats in the overlay\",\n\t\t\tposition \u003d 1,\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault DisplayMode displayMode()\n\t{\n\t\treturn DisplayMode.BOTH;\n\t}\n\n\t@ConfigSection(\n\t\t\tname \u003d \"Actions\",\n\t\t\tdescription \u003d \"Perform actions on the session\",\n\t\t\tposition \u003d 2\n\t)\n\tString actionsSection \u003d \"actions\";\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"resetSessionButton\",\n\t\t\tname \u003d \"Reset Session\",\n\t\t\tdescription \u003d \"Reset the current session stats\",\n\t\t\tsection \u003d actionsSection\n\t)\n\tdefault boolean resetSession()\n\t{\n\t\treturn false;\n\t}\n\n\t@ConfigSection(\n\t\t\tname \u003d \"Notifications\",\n\t\t\tdescription \u003d \"Configure notifications for milestones\",\n\t\t\tposition \u003d 3\n\t)\n\tString notificationsSection \u003d \"notifications\";\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"milestoneNotification\",\n\t\t\tname \u003d \"Milestone Notification\",\n\t\t\tdescription \u003d \"Notify when you reach a milestone of monkeys caught\",\n\t\t\tsection \u003d notificationsSection\n\t)\n\tdefault boolean milestoneNotification()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"milestoneInterval\",\n\t\t\tname \u003d \"Milestone Interval\",\n\t\t\tdescription \u003d \"The interval at which to send a milestone notification\",\n\t\t\tsection \u003d notificationsSection\n\t)\n\tdefault int milestoneInterval()\n\t{\n\t\treturn 100;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"sessionStartTime\",\n\t\t\tname \u003d \"Session Start Time\",\n\t\t\tdescription \u003d \"The time the session started\",\n\t\t\thidden \u003d true\n\t)\n\tdefault long getSessionStartTime()\n\t{\n\t\treturn 0L;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"sessionStartTime\",\n\t\t\tname \u003d \"Session Start Time\",\n\t\t\tdescription \u003d \"The time the session started\"\n\t)\n\tvoid setSessionStartTime(long time);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"duration\",\n\t\t\tname \u003d \"Duration\",\n\t\t\tdescription \u003d \"The session duration in milliseconds\",\n\t\t\thidden \u003d true\n\t)\n\tdefault long getDuration()\n\t{\n\t\treturn 0L;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"duration\",\n\t\t\tname \u003d \"Duration\",\n\t\t\tdescription \u003d \"The session duration in milliseconds\"\n\t)\n\tvoid setDuration(long time);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"monkeysCaught\",\n\t\t\tname \u003d \"Monkeys Caught\",\n\t\t\tdescription \u003d \"The number of monkeys caught\",\n\t\t\thidden \u003d true\n\t)\n\tdefault int getMonkeysCaught()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"monkeysCaught\",\n\t\t\tname \u003d \"Monkeys Caught\",\n\t\t\tdescription \u003d \"The number of monkeys caught\"\n\t)\n\tvoid setMonkeysCaught(int count);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"trapsLaid\",\n\t\t\tname \u003d \"Traps Laid\",\n\t\t\tdescription \u003d \"The number of traps laid\",\n\t\t\thidden \u003d true\n\t)\n\tdefault int getTrapsLaid()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"trapsLaid\",\n\t\t\tname \u003d \"Traps Laid\",\n\t\t\tdescription \u003d \"The number of traps laid\"\n\t)\n\tvoid setTrapsLaid(int count);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"lastTrapStatus\",\n\t\t\tname \u003d \"Last Trap Status\",\n\t\t\tdescription \u003d \"The status of the last trap\",\n\t\t\thidden \u003d true\n\t)\n\tdefault String getLastTrapStatus()\n\t{\n\t\treturn \"N/A\";\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"lastTrapStatus\",\n\t\t\tname \u003d \"Last Trap Status\",\n\t\t\tdescription \u003d \"The status of the last trap\"\n\t)\n\tvoid setLastTrapStatus(String status);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"perfectTails\",\n\t\t\tname \u003d \"Perfect Tails\",\n\t\t\tdescription \u003d \"The number of perfect tails\",\n\t\t\thidden \u003d true\n\t)\n\tdefault int getPerfectTails()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"perfectTails\",\n\t\t\tname \u003d \"Perfect Tails\",\n\t\t\tdescription \u003d \"The number of perfect tails\"\n\t)\n\tvoid setPerfectTails(int count);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"damagedTails\",\n\t\t\tname \u003d \"Damaged Tails\",\n\t\t\tdescription \u003d \"The number of damaged tails\",\n\t\t\thidden \u003d true\n\t)\n\tdefault int getDamagedTails()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"damagedTails\",\n\t\t\tname \u003d \"Damaged Tails\",\n\t\t\tdescription \u003d \"The number of damaged tails\"\n\t)\n\tvoid setDamagedTails(int count);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"damagedTailsSincePerfect\",\n\t\t\tname \u003d \"Damaged Tails Since Perfect\",\n\t\t\tdescription \u003d \"The number of damaged tails since the last perfect tail\",\n\t\t\thidden \u003d true\n\t)\n\tdefault int getDamagedTailsSincePerfect()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"damagedTailsSincePerfect\",\n\t\t\tname \u003d \"Damaged Tails Since Perfect\",\n\t\t\tdescription \u003d \"The number of damaged tails since the last perfect tail\"\n\t)\n\tvoid setDamagedTailsSincePerfect(int count);\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterConfig.java"},{"fileName":"ManiacalHunterConstants.java","content":"package com.maniacalhunter;\n\nimport com.google.common.collect.ImmutableSet;\nimport java.util.Set;\n\npublic class ManiacalHunterConstants\n{\n\t// Item IDs\n\tpublic static final int DAMAGED_MONKEY_TAIL \u003d 19665;\n\tpublic static final int PERFECT_MONKEY_TAIL \u003d 19610;\n\tpublic static final int MANIACAL_ITEM_ID \u003d 24864;\n\n\t// Object IDs\n\tpublic static final int UNSET_BOULDER_TRAP \u003d 28824;\n\tpublic static final int SETTING_BOULDER_TRAP \u003d 28825;\n\tpublic static final int SET_BOULDER_TRAP \u003d 28827;\n\tpublic static final int TRIGGERED_BOULDER_TRAP_1 \u003d 28828;\n\tpublic static final int TRIGGERED_BOULDER_TRAP_2 \u003d 28829;\n\tpublic static final int CAUGHT_MONKEY_BOULDER_1 \u003d 28830;\n\tpublic static final int CAUGHT_MONKEY_BOULDER_2 \u003d 28831;\n\tpublic static final int LIFTED_BOULDER \u003d 28833;\n\n\t// Region IDs\n\tpublic static final int MANIACAL_HUNTER_REGION \u003d 11662;\n\n\t// Other\n\tpublic static final int MANIACAL_MONKEY_XP \u003d 1000;\n\n\tpublic static final Set\u003cInteger\u003e BOULDER_TRAP_IDS \u003d ImmutableSet.of(\n\t\tUNSET_BOULDER_TRAP,\n\t\tSETTING_BOULDER_TRAP,\n\t\tSET_BOULDER_TRAP,\n\t\tTRIGGERED_BOULDER_TRAP_1,\n\t\tTRIGGERED_BOULDER_TRAP_2,\n\t\tCAUGHT_MONKEY_BOULDER_1,\n\t\tCAUGHT_MONKEY_BOULDER_2,\n\t\tLIFTED_BOULDER\n\t);\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterConstants.java"},{"fileName":"ManiacalHunterFormatting.java","content":"package com.maniacalhunter;\n\npublic final class ManiacalHunterFormatting\n{\n\tprivate ManiacalHunterFormatting()\n\t{\n\t}\n\n\tpublic static String formatStat(int session, int aggregate, DisplayMode displayMode)\n\t{\n\t\tswitch (displayMode)\n\t\t{\n\t\t\tcase SESSION_ONLY:\n\t\t\t\treturn String.valueOf(session);\n\t\t\tcase AGGREGATE_ONLY:\n\t\t\t\treturn String.valueOf(aggregate);\n\t\t\tcase BOTH:\n\t\t\tdefault:\n\t\t\t\treturn String.format(\"%d (%d)\", session, aggregate);\n\t\t}\n\t}\n\n\tpublic static String formatPercentage(double session, double aggregate, DisplayMode displayMode)\n\t{\n\t\tswitch (displayMode)\n\t\t{\n\t\t\tcase SESSION_ONLY:\n\t\t\t\treturn String.format(\"%.2f%%\", session);\n\t\t\tcase AGGREGATE_ONLY:\n\t\t\t\treturn String.format(\"%.2f%%\", aggregate);\n\t\t\tcase BOTH:\n\t\t\tdefault:\n\t\t\t\treturn String.format(\"%.2f%% (%.2f%%)\", session, aggregate);\n\t\t}\n\t}\n\n\tpublic static String formatDouble(double session, double aggregate, DisplayMode displayMode)\n\t{\n\t\tswitch (displayMode)\n\t\t{\n\t\t\tcase SESSION_ONLY:\n\t\t\t\treturn String.format(\"%.2f\", session);\n\t\t\tcase AGGREGATE_ONLY:\n\t\t\t\treturn String.format(\"%.2f\", aggregate);\n\t\t\tcase BOTH:\n\t\t\tdefault:\n\t\t\t\treturn String.format(\"%.2f (%.2f)\", session, aggregate);\n\t\t}\n\t}\n}","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterFormatting.java"},{"fileName":"ManiacalHunterInfoBox.java","content":"package com.maniacalhunter;\n\nimport java.awt.Color;\nimport java.awt.image.BufferedImage;\nimport net.runelite.client.ui.overlay.infobox.InfoBox;\n\npublic class ManiacalHunterInfoBox extends InfoBox\n{\n\tprivate final ManiacalHunterPlugin plugin;\n\tprivate final ManiacalHunterConfig config;\n\n\tpublic ManiacalHunterInfoBox(ManiacalHunterPlugin plugin, ManiacalHunterConfig config, BufferedImage image)\n\t{\n\t\tsuper(image, plugin);\n\t\tthis.plugin \u003d plugin;\n\t\tthis.config \u003d config;\n\t}\n\n\t@Override\n\tpublic String getText()\n\t{\n\t\treturn String.valueOf(plugin.getSession().getMonkeysCaught());\n\t}\n\n\t@Override\n\tpublic Color getTextColor()\n\t{\n\t\treturn Color.WHITE;\n\t}\n\n\t@Override\n\tpublic String getTooltip()\n\t{\n\t\tManiacalHunterSession session \u003d plugin.getSession();\n\t\tManiacalHunterSession aggregateSession \u003d plugin.getAggregateSession();\n\t\tStringBuilder sb \u003d new StringBuilder();\n\t\tsb.append(\"Maniacal Hunter\");\n\n\t\tif (config.showMonkeysCaught()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Monkeys Caught: \").append(ManiacalHunterFormatting.formatStat(session.getMonkeysCaught(), aggregateSession.getMonkeysCaught(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showTrapsLaid()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Traps Laid: \").append(ManiacalHunterFormatting.formatStat(session.getTrapsLaid(), aggregateSession.getTrapsLaid(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showLastTrapStatus()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Last Trap Status: \").append(session.getLastTrapStatus());\n\t\t}\n\n\t\tif (config.showSuccessRate()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Success Rate: \").append(ManiacalHunterFormatting.formatPercentage(session.getSuccessRate(), aggregateSession.getSuccessRate(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showMonkeysPerHour()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Monkeys/Hour: \").append(ManiacalHunterFormatting.formatDouble(session.getMonkeysPerHour(), aggregateSession.getMonkeysPerHour(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showPerfectTails()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Perfect Tails: \").append(ManiacalHunterFormatting.formatStat(session.getPerfectTails(), aggregateSession.getPerfectTails(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showDamagedTails()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Damaged Tails: \").append(ManiacalHunterFormatting.formatStat(session.getDamagedTails(), aggregateSession.getDamagedTails(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showLuck()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Luck: \").append(ManiacalHunterFormatting.formatPercentage(session.getLuckPercentage(), aggregateSession.getLuckPercentage(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showAvgCatchTime()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Avg. Catch Time: \").append(String.format(\"%.2fs\", session.getAverageTimePerCatch()));\n\t\t}\n\n\t\treturn sb.toString();\n\t}\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterInfoBox.java"},{"fileName":"ManiacalHunterOverlay.java","content":"package com.maniacalhunter;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport javax.inject.Inject;\n\nimport net.runelite.api.Client;\nimport net.runelite.client.ui.overlay.OverlayPanel;\nimport net.runelite.client.ui.overlay.OverlayPosition;\nimport net.runelite.client.ui.overlay.components.LineComponent;\nimport net.runelite.client.ui.overlay.components.TitleComponent;\n\npublic class ManiacalHunterOverlay extends OverlayPanel\n{\n\tprivate final ManiacalHunterPlugin plugin;\n\tprivate final ManiacalHunterConfig config;\n\tprivate final Client client;\n\n\t@Inject\n\tprivate ManiacalHunterOverlay(ManiacalHunterPlugin plugin, ManiacalHunterConfig config, Client client)\n\t{\n\t\tsuper(plugin);\n\t\tthis.plugin \u003d plugin;\n\t\tthis.config \u003d config;\n\t\tthis.client \u003d client;\n\t\tsetPosition(OverlayPosition.TOP_LEFT);\n\t}\n\n\tprivate boolean isInManiacalHunterArea()\n\t{\n\t\treturn client.getLocalPlayer() !\u003d null \u0026\u0026 client.getLocalPlayer().getWorldLocation().getRegionID() \u003d\u003d ManiacalHunterConstants.MANIACAL_HUNTER_REGION;\n\t}\n\n\t@Override\n\tpublic Dimension render(Graphics2D graphics)\n\t{\n\t\tif (!isInManiacalHunterArea())\n\t\t{\n\t\t\treturn null;\n\t\t}\n\t\tManiacalHunterSession session \u003d plugin.getSession();\n\t\tManiacalHunterSession aggregateSession \u003d plugin.getAggregateSession();\n\n\t\tpanelComponent.getChildren().clear();\n\n\t\tpanelComponent.getChildren().add(TitleComponent.builder()\n\t\t\t.text(\"Maniacal Hunter\")\n\t\t\t.color(Color.WHITE)\n\t\t\t.build());\n\n\t\tif (config.showMonkeysCaught()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Monkeys Caught:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatStat(session.getMonkeysCaught(), aggregateSession.getMonkeysCaught(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showTrapsLaid()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Traps Laid:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatStat(session.getTrapsLaid(), aggregateSession.getTrapsLaid(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showLastTrapStatus()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Last Trap Status:\")\n\t\t\t\t.right(session.getLastTrapStatus())\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showSuccessRate()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Success Rate:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatPercentage(session.getSuccessRate(), aggregateSession.getSuccessRate(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showMonkeysPerHour()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Monkeys/Hour:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatDouble(session.getMonkeysPerHour(), aggregateSession.getMonkeysPerHour(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showPerfectTails()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Perfect Tails:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatStat(session.getPerfectTails(), aggregateSession.getPerfectTails(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showDamagedTails()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Damaged Tails:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatStat(session.getDamagedTails(), aggregateSession.getDamagedTails(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showLuck()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Luck:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatPercentage(session.getLuckPercentage(), aggregateSession.getLuckPercentage(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showAvgCatchTime()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Avg. Catch Time:\")\n\t\t\t\t.right(String.format(\"%.2fs\", session.getAverageTimePerCatch()))\n\t\t\t\t.build());\n\t\t}\n\n\t\treturn super.render(graphics);\n\t}\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterOverlay.java"},{"fileName":"ManiacalHunterPlugin.java","content":"package com.maniacalhunter;\n\nimport com.google.inject.Provides;\nimport java.awt.image.BufferedImage;\nimport java.time.Duration;\nimport java.time.Instant;\nimport javax.inject.Inject;\n\nimport lombok.Getter;\nimport lombok.Setter;\nimport net.runelite.api.Client;\nimport net.runelite.api.GameObject;\nimport net.runelite.api.InventoryID;\nimport net.runelite.api.GameState;\nimport net.runelite.api.Skill;\nimport net.runelite.api.events.PlayerDespawned;\nimport net.runelite.api.events.PlayerSpawned;\nimport net.runelite.api.events.GameObjectSpawned;\nimport net.runelite.api.events.GameStateChanged;\nimport net.runelite.api.events.GameTick;\nimport net.runelite.api.events.ItemContainerChanged;\nimport net.runelite.api.events.StatChanged;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.eventbus.Subscribe;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDescriptor;\nimport net.runelite.client.ui.overlay.OverlayManager;\nimport net.runelite.client.events.ConfigChanged;\nimport net.runelite.client.Notifier;\nimport net.runelite.client.game.ItemManager;\nimport net.runelite.client.ui.overlay.infobox.InfoBoxManager;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@PluginDescriptor(\n\tname \u003d \"Maniacal Hunter\"\n)\npublic class ManiacalHunterPlugin extends Plugin\n{\n\tprivate static final Logger log \u003d LoggerFactory.getLogger(ManiacalHunterPlugin.class);\n\tprivate static final String CONFIG_GROUP \u003d \"maniacalhunter\";\n\tprivate static final String RESET_BUTTON_KEY \u003d \"resetSessionButton\";\n\tprivate static final String CONDENSED_MODE_KEY \u003d \"condensedMode\";\n\n\t@Getter\n    private BufferedImage icon;\n\n\t@Inject\n\tprivate Client client;\n\n\t@Setter\n    @Getter\n    @Inject\n\tprivate Notifier notifier;\n\n\t@Inject\n\tprivate ManiacalHunterConfig config;\n\n\t@Inject\n\tprivate ConfigManager configManager;\n\n    @Inject\n    private ItemManager itemManager;\n\n\t@Inject\n\tprivate InfoBoxManager infoBoxManager;\n\n\t@Getter\n\t@Inject\n\tprivate ManiacalHunterSession session;\n\n\t@Getter\n    private ManiacalHunterSession aggregateSession \u003d new ManiacalHunterSession();\n\n\t@Inject\n\tprivate OverlayManager overlayManager;\n\n\t@Inject\n\tprivate ManiacalHunterOverlay overlay;\n\n\tprivate ManiacalHunterInfoBox infoBox;\n\n\tprivate int lastPerfectTails \u003d 0;\n\tprivate int lastDamagedTails \u003d 0;\n\tprivate int catchesThisTick \u003d 0;\n\tprivate int lastTick \u003d 0;\n\tprivate int lastHunterXp \u003d -1;\n\tprivate boolean inHunterArea \u003d false;\n\n\tprivate void reset()\n\t{\n\t\tsession.reset();\n\t\tcatchesThisTick \u003d 0;\n\t\tlastTick \u003d 0;\n        lastPerfectTails \u003d 0;\n        lastDamagedTails \u003d 0;\n\n\t\tif (client.getGameState() \u003d\u003d GameState.LOGGED_IN)\n\t\t{\n\t\t\tlastHunterXp \u003d client.getSkillExperience(Skill.HUNTER);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlastHunterXp \u003d -1;\n\t\t}\n\t}\n\n\t@Override\n\tprotected void startUp() throws Exception\n\t{\n\t\tlog.info(\"Maniacal Hunter started!\");\n\t\tloadSession();\n\t\ticon \u003d itemManager.getImage(ManiacalHunterConstants.MANIACAL_ITEM_ID);\n\t\tinfoBox \u003d new ManiacalHunterInfoBox(this, config, icon);\n\t\tupdateDisplayMode();\n\t}\n\n\t@Override\n\tprotected void shutDown() throws Exception\n\t{\n\t\tlog.info(\"Maniacal Hunter stopped!\");\n\t\tinfoBoxManager.removeInfoBox(infoBox);\n\t\toverlayManager.remove(overlay);\n\t}\n\n\tprivate void loadSession()\n\t{\n\t\taggregateSession.setSessionStartTimeMillis(config.getSessionStartTime());\n\t\taggregateSession.setDurationMillis(config.getDuration());\n\t\taggregateSession.setMonkeysCaught(config.getMonkeysCaught());\n\t\taggregateSession.setTrapsLaid(config.getTrapsLaid());\n\t\taggregateSession.setLastTrapStatus(config.getLastTrapStatus());\n\t\taggregateSession.setPerfectTails(config.getPerfectTails());\n\t\taggregateSession.setDamagedTails(config.getDamagedTails());\n\t\taggregateSession.setDamagedTailsSincePerfect(config.getDamagedTailsSincePerfect());\n\t}\n\n\t@Subscribe\n\tpublic void onGameStateChanged(GameStateChanged gameStateChanged)\n\t{\n\t\tif (gameStateChanged.getGameState() \u003d\u003d GameState.LOGGED_IN)\n\t\t{\n\t\t\tlastHunterXp \u003d client.getSkillExperience(Skill.HUNTER);\n\t\t}\n\t}\n\n\t@Subscribe\n\tpublic void onItemContainerChanged(ItemContainerChanged event)\n\t{\n\t\tif (!isInManiacalHunterArea() || event.getContainerId() !\u003d InventoryID.INVENTORY.getId())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tint currentPerfectTails \u003d event.getItemContainer().count(ManiacalHunterConstants.PERFECT_MONKEY_TAIL);\n\t\tint currentDamagedTails \u003d event.getItemContainer().count(ManiacalHunterConstants.DAMAGED_MONKEY_TAIL);\n\n\t\tint perfectTailsGained \u003d currentPerfectTails - lastPerfectTails;\n\t\tint damagedTailsGained \u003d currentDamagedTails - lastDamagedTails;\n\n\t\tif (catchesThisTick \u003e 0 \u0026\u0026 (perfectTailsGained \u003e 0 || damagedTailsGained \u003e 0))\n\t\t{\n\t\t\tif (perfectTailsGained \u003e 0)\n\t\t\t{\n\t\t\t\thandlePerfectTailGain();\n\t\t\t}\n\t\t\tif (damagedTailsGained \u003e 0)\n\t\t\t{\n\t\t\t\thandleDamagedTailGain();\n\t\t\t}\n\t\t\thandleMonkeyCatch();\n\t\t\tcatchesThisTick--;\n\t\t}\n\n\t\tlastPerfectTails \u003d currentPerfectTails;\n\t\tlastDamagedTails \u003d currentDamagedTails;\n\t}\n\n\t@Subscribe\n\tpublic void onGameTick(GameTick tick)\n\t{\n  \n        if (!isInManiacalHunterArea())\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (client.getTickCount() !\u003d lastTick)\n\t\t{\n\t\t\tcatchesThisTick \u003d 0;\n\t\t\tlastTick \u003d client.getTickCount();\n        }\n\t\tif (session.getSessionStartTime() !\u003d null)\n\t\t{\n\t\t\tsession.setDuration(Duration.between(session.getSessionStartTime(), Instant.now()));\n\t\t}\n\t\tif (aggregateSession.getSessionStartTime() !\u003d null)\n\t\t{\n\t\t\taggregateSession.setDuration(Duration.between(aggregateSession.getSessionStartTime(), Instant.now()));\n\t\t\tconfig.setDuration(aggregateSession.getDurationMillis());\n\t\t}\n\t}\n\n\t@Subscribe\n\tpublic void onPlayerSpawned(PlayerSpawned event)\n\t{\n\t\tif (event.getPlayer() !\u003d client.getLocalPlayer())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tboolean currentlyInArea \u003d isInManiacalHunterArea();\n\t\tif (currentlyInArea)\n\t\t{\n\t\t\tinHunterArea \u003d true;\n\t\t\tif (config.autoResetMode() \u003d\u003d ResetMode.ON_ENTER_AREA)\n\t\t\t{\n\t\t\t\treset();\n\t\t\t}\n\t\t}\n\t}\n\n\t@Subscribe\n\tpublic void onPlayerDespawned(PlayerDespawned event)\n\t{\n\t\tif (event.getPlayer() !\u003d client.getLocalPlayer())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (inHunterArea)\n\t\t{\n\t\t\tif (config.autoResetMode() \u003d\u003d ResetMode.ON_LEAVE_AREA)\n\t\t\t{\n\t\t\t\treset();\n\t\t\t}\n\t\t\tinHunterArea \u003d false;\n\t\t}\n\t}\n\n\tprivate boolean isInManiacalHunterArea()\n\t{\n\t\treturn client.getLocalPlayer() !\u003d null \u0026\u0026 client.getLocalPlayer().getWorldLocation().getRegionID() \u003d\u003d ManiacalHunterConstants.MANIACAL_HUNTER_REGION;\n\t}\n\n\t@Subscribe\n\tpublic void onStatChanged(StatChanged statChanged)\n\t{\n\t\tif (statChanged.getSkill() !\u003d Skill.HUNTER || !isInManiacalHunterArea())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (lastHunterXp \u003d\u003d -1)\n\t\t{\n\t\t\tlastHunterXp \u003d statChanged.getXp();\n\t\t\treturn;\n\t\t}\n\n\t\tint currentXp \u003d statChanged.getXp();\n\t\tint gainedXp \u003d currentXp - lastHunterXp;\n\n\t\tif (gainedXp \u003e 0 \u0026\u0026 gainedXp % ManiacalHunterConstants.MANIACAL_MONKEY_XP \u003d\u003d 0)\n\t\t{\n\t\t\tcatchesThisTick +\u003d gainedXp / ManiacalHunterConstants.MANIACAL_MONKEY_XP;\n\t\t}\n\t\t\n\t\tlastHunterXp \u003d currentXp;\n\n\t\tif (gainedXp \u003e 0)\n\t\t{\n\t\t\tif (session.getSessionStartTime() \u003d\u003d null)\n\t\t\t{\n\t\t\t\tsession.startSession();\n\t\t\t}\n\n\t\t\tif (aggregateSession.getSessionStartTime() \u003d\u003d null)\n\t\t\t{\n\t\t\t\taggregateSession.startSession();\n\t\t\t\tconfig.setSessionStartTime(aggregateSession.getSessionStartTimeMillis());\n\t\t\t}\n\t\t}\n\t}\n  \n\tprivate static final int MAX_DISTANCE \u003d 2;\n\n\t@Subscribe\n\tpublic void onGameObjectSpawned(GameObjectSpawned event)\n\t{\n\t\tif (!isInManiacalHunterArea())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tGameObject gameObject \u003d event.getGameObject();\n\t\tif (gameObject \u003d\u003d null\n\t\t\t|| !ManiacalHunterConstants.BOULDER_TRAP_IDS.contains(gameObject.getId())\n\t\t\t|| client.getLocalPlayer().getWorldLocation().distanceTo(gameObject.getWorldLocation()) \u003e MAX_DISTANCE)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tint id \u003d gameObject.getId();\n\n\t\tif (id \u003d\u003d ManiacalHunterConstants.SET_BOULDER_TRAP)\n\t\t{\n\t\t\thandleTrapLaid();\n\t\t}\n\t\telse if (id \u003d\u003d ManiacalHunterConstants.TRIGGERED_BOULDER_TRAP_1 || id \u003d\u003d ManiacalHunterConstants.TRIGGERED_BOULDER_TRAP_2)\n\t\t{\n\t\t\tupdateLastTrapStatus(\"Trap triggered\");\n\t\t}\n\t\telse if (id \u003d\u003d ManiacalHunterConstants.CAUGHT_MONKEY_BOULDER_1 || id \u003d\u003d ManiacalHunterConstants.CAUGHT_MONKEY_BOULDER_2)\n\t\t{\n\t\t\tupdateLastTrapStatus(\"Monkey caught\");\n\t\t}\n\t}\n\n\tprivate void handleMonkeyCatch()\n\t{\n\t\tsession.incrementMonkeysCaught();\n\t\taggregateSession.incrementMonkeysCaught();\n\t\tconfig.setMonkeysCaught(aggregateSession.getMonkeysCaught());\n\t\tif (config.milestoneNotification() \u0026\u0026 session.getMonkeysCaught() \u003e 0 \u0026\u0026 session.getMonkeysCaught() % config.milestoneInterval() \u003d\u003d 0)\n\t\t{\n\t\t\tnotifier.notify(\"Maniacal Hunter milestone: \" + session.getMonkeysCaught() + \" monkeys caught!\");\n\t\t}\n\t}\n\n\tprivate void handlePerfectTailGain() {\n\t\tsession.incrementPerfectTails();\n\t\taggregateSession.incrementPerfectTails();\n\t\tconfig.setPerfectTails(aggregateSession.getPerfectTails());\n\t\tconfig.setDamagedTailsSincePerfect(aggregateSession.getDamagedTailsSincePerfect());\n\t}\n\n\tprivate void handleDamagedTailGain() {\n\t\tsession.incrementDamagedTails();\n\t\taggregateSession.incrementDamagedTails();\n\t\tconfig.setDamagedTails(aggregateSession.getDamagedTails());\n\t\tconfig.setDamagedTailsSincePerfect(aggregateSession.getDamagedTailsSincePerfect());\n\t}\n\n\tprivate void handleTrapLaid() {\n\t\tsession.incrementTrapsLaid();\n\t\taggregateSession.incrementTrapsLaid();\n\t\tconfig.setTrapsLaid(aggregateSession.getTrapsLaid());\n\t\tupdateLastTrapStatus(\"Trap set\");\n\t}\n\n\tprivate void updateLastTrapStatus(String status) {\n\t\tsession.setLastTrapStatus(status);\n\t\taggregateSession.setLastTrapStatus(status);\n\t\tconfig.setLastTrapStatus(aggregateSession.getLastTrapStatus());\n\t}\n\n\t@Provides\n\tManiacalHunterConfig provideConfig(ConfigManager configManager)\n\t{\n\t\treturn configManager.getConfig(ManiacalHunterConfig.class);\n\t}\n\n\t@Provides\n\tManiacalHunterSession provideSession()\n\t{\n\t\treturn new ManiacalHunterSession();\n\t}\n\n    @Subscribe\n\tpublic void onConfigChanged(ConfigChanged event)\n\t{\n\t\tif (!event.getGroup().equals(CONFIG_GROUP))\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (event.getKey().equals(RESET_BUTTON_KEY))\n\t\t{\n\t\t\tif (config.resetSession())\n\t\t\t{\n\t\t\t\treset();\n\t\t\t\tconfigManager.setConfiguration(CONFIG_GROUP, RESET_BUTTON_KEY, false);\n\t\t\t}\n\t\t}\n\t\tif (event.getKey().equals(CONDENSED_MODE_KEY))\n\t\t{\n\t\t\tupdateDisplayMode();\n\t\t}\n\t}\n\n\tprivate void updateDisplayMode()\n\t{\n\t\tinfoBoxManager.removeInfoBox(infoBox);\n\t\toverlayManager.remove(overlay);\n\t\tif (config.condensedMode())\n\t\t{\n\t\t\tinfoBoxManager.addInfoBox(infoBox);\n\t\t}\n\t\telse\n\t\t{\n\t\t\toverlayManager.add(overlay);\n\t\t}\n\t}\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterPlugin.java"},{"fileName":"ManiacalHunterSession.java","content":"package com.maniacalhunter;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport java.time.Duration;\nimport java.time.Instant;\n\npublic class ManiacalHunterSession\n{\n\tprivate static final int PERFECT_TAIL_DROP_CHANCE \u003d 5000;\n\tprivate static final double PERFECT_TAIL_DROP_RATE \u003d 1.0 / PERFECT_TAIL_DROP_CHANCE;\n\tprivate static final double MILLIS_PER_HOUR \u003d 3_600_000.0;\n\tprivate static final double MILLIS_PER_SECOND \u003d 1_000.0;\n\n    @Getter\n\t@Setter\n    private long sessionStartTimeMillis;\n\t@Getter\n\t@Setter\n    private long durationMillis;\n\t@Getter\n\t@Setter\n    private int monkeysCaught;\n\t@Getter\n\t@Setter\n    private int trapsLaid;\n\t@Getter\n    @Setter\n    private String lastTrapStatus;\n\t@Getter\n\t@Setter\n    private int perfectTails;\n\t@Getter\n\t@Setter\n    private int damagedTails;\n\t@Getter\n\t@Setter\n\tprivate int damagedTailsSincePerfect;\n\n\tpublic void startSession()\n\t{\n\t\tthis.sessionStartTimeMillis \u003d Instant.now().toEpochMilli();\n\t}\n\n\tpublic void reset()\n\t{\n\t\tthis.sessionStartTimeMillis \u003d 0;\n\t\tthis.durationMillis \u003d 0;\n\t\tthis.monkeysCaught \u003d 0;\n\t\tthis.trapsLaid \u003d 0;\n\t\tthis.lastTrapStatus \u003d \"N/A\";\n\t\tthis.perfectTails \u003d 0;\n\t\tthis.damagedTails \u003d 0;\n\t\tthis.damagedTailsSincePerfect \u003d 0;\n\t}\n\n\tpublic void incrementMonkeysCaught()\n\t{\n\t\tthis.monkeysCaught++;\n\t}\n\n\tpublic void incrementTrapsLaid()\n\t{\n\t\tthis.trapsLaid++;\n\t}\n\n\tpublic void incrementPerfectTails()\n\t{\n\t\tthis.perfectTails++;\n\t\tthis.damagedTailsSincePerfect \u003d 0;\n\t}\n\n\tpublic void incrementDamagedTails()\n\t{\n\t\tthis.damagedTails++;\n\t\tthis.damagedTailsSincePerfect++;\n\t}\n\n\tpublic double getLuckPercentage()\n\t{\n\t\tif (damagedTailsSincePerfect \u003d\u003d 0)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\t\t// This calculates the probability of getting at least one perfect tail in N trials,\n\t\t// which is 1 minus the probability of getting zero perfect tails.\n\t\treturn (1.0 - Math.pow(1.0 - PERFECT_TAIL_DROP_RATE, damagedTailsSincePerfect)) * 100;\n\t}\n\n\tpublic double getSuccessRate()\n\t{\n\t\tif (trapsLaid \u003d\u003d 0)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\t\treturn (double) monkeysCaught / trapsLaid * 100;\n\t}\n\n\tpublic double getMonkeysPerHour()\n\t{\n\t\tif (durationMillis \u003d\u003d 0)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\t\treturn (double) monkeysCaught / (durationMillis / MILLIS_PER_HOUR);\n\t}\n\n\tpublic double getAverageTimePerCatch()\n\t{\n\t\tif (monkeysCaught \u003d\u003d 0 || durationMillis \u003d\u003d 0)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\t\treturn (double) durationMillis / monkeysCaught / MILLIS_PER_SECOND;\n\t}\n\n\tpublic Instant getSessionStartTime()\n\t{\n\t\treturn sessionStartTimeMillis \u003d\u003d 0 ? null : Instant.ofEpochMilli(sessionStartTimeMillis);\n\t}\n\n\tpublic Duration getDuration()\n\t{\n\t\treturn durationMillis \u003d\u003d 0 ? null : Duration.ofMillis(durationMillis);\n\t}\n\n\tpublic void setDuration(Duration duration)\n\t{\n\t\tthis.durationMillis \u003d duration.toMillis();\n\t}\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterSession.java"},{"fileName":"ResetMode.java","content":"package com.maniacalhunter;\n\npublic enum ResetMode\n{\n\tON_ENTER_AREA,\n\tON_LEAVE_AREA,\n\tNEVER\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ResetMode.java"},{"fileName":"ManiacalHunterPluginTest.java","content":"package com.maniacalhunter;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class ManiacalHunterPluginTest\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tExternalPluginManager.loadBuiltin(ManiacalHunterPlugin.class);\n\t\tRuneLite.main(args);\n\t}\n}","filePath":"src\\test\\java\\com\\maniacalhunter\\ManiacalHunterPluginTest.java"}]},{"commit":"1396d7db9515407518ca6a183d0a7d42498fb013","repository":"https://github.com/Droei/Droei-RuneLite-Plugins.git","internalName":"entity-masker","files":[{"fileName":"test.java","content":"this file does not actually exist, because the repo does not exist","filePath":"asker\\test.java"}]},{"commit":"cec3e358e668bf2846fc8c794eb52c4bbc18038b","repository":"https://github.com/hootisman/muted_level_jingles.git","internalName":"unmutedjingles","files":[{"fileName":"JingleData.java","content":"package hootisman.unmutedjingles.jingles;\n\nimport net.runelite.api.Skill;\n\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class JingleData {\n    // ***** Constants *****\n\n    static final Set\u003cInteger\u003e ATTACK_UNLOCKS \u003d\n            Stream.of(5, 10, 15, 20, 30, 40, 42, 50, 55,\n                    60, 65, 70, 75, 77, 78, 80, 82, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e COOKING_UNLOCKS \u003d\n            Stream.of(5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19,\n                    20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n                    37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52,\n                    53, 54, 55, 57, 58, 59, 60, 62, 64, 65, 67, 68, 70, 72, 73, 75,\n                    80, 82, 84, 85, 88, 90, 91, 92, 95, 96, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e CRAFTING_UNLOCKS \u003d\n            Stream.of(3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,\n                    18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,\n                    34, 35, 36, 37, 38, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50,\n                    51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66,\n                    67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 82, 83,\n                    84, 85, 86, 87, 88, 89, 90, 92, 95, 98, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e DEFENCE_UNLOCKS \u003d\n            Stream.of(5, 10, 20, 25, 30, 35, 40, 42, 45, 50,\n                    55, 60, 65, 70, 75, 78, 80, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e FARMING_UNLOCKS \u003d\n            Stream.of(2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,\n                    19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34,\n                    35, 36, 38, 39, 40, 42, 44, 45, 46, 47, 48, 49, 50, 51, 53, 54,\n                    55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 67, 68, 69, 70, 72,\n                    73, 74, 75, 76, 79, 81, 83, 84, 85, 90, 91, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e FIREMAKING_UNLOCKS \u003d\n            Stream.of(4, 5, 11, 12, 15, 16, 20, 21, 25, 26, 30, 33, 35, 40,\n                    42, 43, 45, 47, 49, 50, 52, 55, 60, 62, 65, 66, 70, 75, 80, 85, 90, 95, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e FISHING_UNLOCKS \u003d\n            Stream.of(5, 7, 10, 15, 16, 20, 23, 25, 28, 29, 30, 33, 34, 35,\n                    38, 39, 40, 43, 45, 46, 47, 48, 50, 53, 55, 56, 58, 60, 61, 62,\n                    65, 68, 70, 71, 73, 75, 76, 79, 80, 81, 82, 85, 87, 90, 91, 96, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e FLETCHING_UNLOCKS \u003d\n            Stream.of(3, 5, 7, 9, 10, 11, 15, 17, 18, 20, 22, 24, 25, 26,\n                    27, 30, 32, 33, 35, 37, 38, 39, 40, 41, 42, 43, 45, 46, 47, 48,\n                    49, 50, 51, 52, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 65, 67,\n                    69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 80, 81, 82, 84, 85, 87,\n                    90, 92, 95, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e HERBLORE_UNLOCKS \u003d\n            Stream.of(3, 4, 5, 6, 8, 9, 10, 11, 12, 14, 15, 18, 19, 20, 22,\n                    24, 25, 26, 29, 30, 31, 33, 34, 36, 37, 38, 39, 40, 42, 44, 45,\n                    47, 48, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,\n                    65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80,\n                    81, 82, 83, 84, 85, 86, 87, 88, 90, 91, 92, 94, 97, 98, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e MAGIC_UNLOCKS \u003d\n            Stream.of(3, 4, 5, 6, 7, 9, 11, 13, 14, 15, 16, 17, 19, 20, 21,\n                    23, 24, 25, 27, 28, 29, 30, 31, 33, 34, 35, 37, 38, 39, 40, 41,\n                    42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57,\n                    58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73,\n                    74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89,\n                    90, 91, 92, 93, 94, 95, 96, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e MINING_UNLOCKS \u003d\n            Stream.of(5, 6, 10, 11, 14, 15, 17, 20, 21, 22, 25, 30, 31, 35,\n                    37, 38, 39, 40, 41, 42, 43, 45, 50, 52, 55, 57, 60, 61, 64, 65,\n                    67, 68, 70, 71, 72, 75, 78, 80, 81, 82, 85, 90, 92, 97, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e PRAYER_UNLOCKS \u003d\n            Stream.of(3, 4, 7, 8, 9, 10, 12, 13, 16, 19, 20, 22, 24, 25, 26,\n                    27, 28, 30, 31, 32, 34, 36, 37, 40, 42, 43, 44, 45, 46, 47, 48,\n                    49, 50, 52, 54, 55, 56, 60, 62, 63, 64, 65, 68, 70, 72, 74, 75,\n                    76, 77, 80, 84, 85, 88, 90, 92, 96, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e RANGED_UNLOCKS \u003d\n            Stream.of(5, 10, 16, 19, 20, 21, 25, 26, 28, 30, 31, 35, 36, 37,\n                    39, 40, 42, 45, 46, 47, 50, 55, 60, 61, 62, 64, 65, 66, 70, 75, 77, 80, 85, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e RUNECRAFT_UNLOCKS \u003d\n            Stream.of(2, 5, 6, 9, 10, 11, 13, 14, 15, 19, 20, 22, 23, 25,\n                    26, 27, 28, 30, 33, 35, 38, 40, 42, 44, 46, 48, 49, 50, 52, 54,\n                    55, 56, 57, 59, 60, 65, 66, 70, 74, 75, 76, 77, 78, 79, 81, 82,\n                    84, 85, 88, 90, 91, 92, 95, 98, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e SLAYER_UNLOCKS \u003d\n            Stream.of(5, 7, 10, 15, 17, 18, 20, 22, 25, 30, 32, 33, 35, 37,\n                    38, 39, 40, 42, 44, 45, 47, 48, 50, 52, 55, 56, 57, 58, 60, 62,\n                    63, 65, 66, 68, 69, 70, 72, 75, 77, 80, 82, 83, 84, 85, 87, 90,\n                    91, 92, 93, 95, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e THIEVING_UNLOCKS \u003d\n            Stream.of(2, 5, 10, 13, 14, 15, 16, 17, 20, 21, 22, 23, 25, 27,\n                    28, 30, 31, 32, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45,\n                    46, 47, 48, 49, 50, 51, 52, 53, 55, 56, 57, 58, 59, 60, 61, 62,\n                    64, 65, 66, 70, 71, 72, 75, 78, 80, 81, 82, 84, 85, 90, 91, 93, 94, 95, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e WOODCUTTING_UNLOCKS \u003d\n            Stream.of(6, 10, 11, 12, 15, 19, 20, 21, 24, 27, 29, 30, 31, 35,\n                    36, 40, 41, 42, 44, 45, 48, 50, 54, 55, 56, 57, 60, 61, 62, 65,\n                    68, 70, 71, 72, 75, 84, 90, 96, 99).collect(Collectors.toUnmodifiableSet());\n\n    //todo: test all durations\n    //(duration in seconds)/0.6\n    public static Map\u003cSkill, Function\u003cInteger, Integer\u003e\u003e JINGLE_DURATIONS \u003d Map.ofEntries(\n            Map.entry(Skill.AGILITY, level -\u003e 10),\n            Map.entry(Skill.ATTACK, getRegularUnlocksFunction(6,13,ATTACK_UNLOCKS)),\n            Map.entry(Skill.CONSTRUCTION, level -\u003e 10),\n            Map.entry(Skill.COOKING, getRegularUnlocksFunction(7,6,COOKING_UNLOCKS)),\n            Map.entry(Skill.CRAFTING, getRegularUnlocksFunction(16,10,CRAFTING_UNLOCKS)),\n            Map.entry(Skill.DEFENCE, getRegularUnlocksFunction(9,12,DEFENCE_UNLOCKS)),\n            Map.entry(Skill.FARMING, getRegularUnlocksFunction(7,12,FARMING_UNLOCKS)),\n            Map.entry(Skill.FIREMAKING, getRegularUnlocksFunction(10,10,FIREMAKING_UNLOCKS)),\n            Map.entry(Skill.FISHING, getRegularUnlocksFunction(11,9,FISHING_UNLOCKS)),\n            Map.entry(Skill.FLETCHING, getRegularUnlocksFunction(9,8,FLETCHING_UNLOCKS)),\n            Map.entry(Skill.HERBLORE, getRegularUnlocksFunction(5,10,HERBLORE_UNLOCKS)),\n            Map.entry(Skill.HITPOINTS, level -\u003e level \u003c 50 ? 5 : 8),\n            Map.entry(Skill.HUNTER, level -\u003e 12),\n            Map.entry(Skill.MAGIC, getRegularUnlocksFunction(11,11,MAGIC_UNLOCKS)),\n            Map.entry(Skill.MINING, getRegularUnlocksFunction(10,10,MINING_UNLOCKS)),\n            Map.entry(Skill.PRAYER, getRegularUnlocksFunction(12,12,PRAYER_UNLOCKS)),\n            Map.entry(Skill.RANGED, getRegularUnlocksFunction(8,9,RANGED_UNLOCKS)),\n            Map.entry(Skill.RUNECRAFT, getRegularUnlocksFunction(13,13,RUNECRAFT_UNLOCKS)),\n            Map.entry(Skill.SLAYER, getRegularUnlocksFunction(10,15,SLAYER_UNLOCKS)),\n            Map.entry(Skill.SMITHING, level -\u003e 9),     //every level is an unlock\n            Map.entry(Skill.STRENGTH, level -\u003e level \u003c 50 ? 10 : 8),\n            Map.entry(Skill.THIEVING, getRegularUnlocksFunction(11,8,THIEVING_UNLOCKS)),\n            Map.entry(Skill.WOODCUTTING, getRegularUnlocksFunction(10,11,WOODCUTTING_UNLOCKS))\n    );\n\n    // ***** Mutable *****\n    public static Map\u003cSkill, Integer\u003e SKILL_LEVELS \u003d new HashMap\u003c\u003e();\n    static {\n        SKILL_LEVELS.put(Skill.AGILITY, -1);\n        SKILL_LEVELS.put(Skill.ATTACK, -1);\n        SKILL_LEVELS.put(Skill.CONSTRUCTION, -1);\n        SKILL_LEVELS.put(Skill.COOKING, -1);\n        SKILL_LEVELS.put(Skill.CRAFTING, -1);\n        SKILL_LEVELS.put(Skill.DEFENCE, -1);\n        SKILL_LEVELS.put(Skill.FARMING, -1);\n        SKILL_LEVELS.put(Skill.FIREMAKING, -1);\n        SKILL_LEVELS.put(Skill.FISHING, -1);\n        SKILL_LEVELS.put(Skill.FLETCHING, -1);\n        SKILL_LEVELS.put(Skill.HERBLORE, -1);\n        SKILL_LEVELS.put(Skill.HITPOINTS, -1);\n        SKILL_LEVELS.put(Skill.HUNTER, -1);\n        SKILL_LEVELS.put(Skill.MAGIC, -1);\n        SKILL_LEVELS.put(Skill.MINING, -1);\n        SKILL_LEVELS.put(Skill.PRAYER, -1);\n        SKILL_LEVELS.put(Skill.RANGED, -1);\n        SKILL_LEVELS.put(Skill.RUNECRAFT, -1);\n        SKILL_LEVELS.put(Skill.SLAYER, -1);\n        SKILL_LEVELS.put(Skill.SMITHING, -1);\n        SKILL_LEVELS.put(Skill.STRENGTH, -1);\n        SKILL_LEVELS.put(Skill.THIEVING, -1);\n        SKILL_LEVELS.put(Skill.WOODCUTTING, -1);\n    };\n\n    //true if level was set at game start\n    public static boolean isLevelInited(Skill skill){\n        return SKILL_LEVELS.get(skill) !\u003d -1;\n    }\n\n    static Function\u003cInteger, Integer\u003e getRegularUnlocksFunction(int defaultDuration, int unlockDuration, Set\u003cInteger\u003e levelsWithUnlocks){\n        return level -\u003e levelsWithUnlocks.contains(level) ? unlockDuration : defaultDuration;\n    }\n}\n","filePath":"src\\main\\java\\hootisman\\unmutedjingles\\jingles\\JingleData.java"},{"fileName":"JingleManager.java","content":"package hootisman.unmutedjingles.jingles;\n\nimport hootisman.unmutedjingles.UnmutedJinglesConfig;\nimport lombok.*;\nimport lombok.extern.slf4j.Slf4j;\nimport net.runelite.api.Client;\nimport net.runelite.api.Skill;\nimport net.runelite.client.callback.ClientThread;\nimport net.runelite.client.plugins.music.MusicConfig;\nimport javax.annotation.Nullable;\nimport javax.inject.Inject;\nimport javax.inject.Singleton;\nimport java.util.LinkedList;\nimport java.util.Objects;\n\n@Slf4j\n@Singleton\npublic class JingleManager {\n\n    @Inject\n    private Client client;\n\n    @Setter\n    @Nullable\n    private MusicConfig musicPluginConfig;\n\n    @Inject\n    private ClientThread clientThread;\n\n    @Inject\n    private UnmutedJinglesConfig config;\n\n    private int jingleTick;\n\n    private LinkedList\u003cJingle\u003e jingleQueue;\n\n\n    public JingleManager(){\n        jingleTick \u003d -1;\n        jingleQueue \u003d new LinkedList\u003c\u003e();\n    }\n\n\n\n    public void queueJingle(Skill skill, int level){\n        if (jingleQueue.isEmpty() \u0026\u0026 !isMusicMuted()) return;\n\n        int duration \u003d JingleData.JINGLE_DURATIONS.get(skill).apply(level);\n        log.debug(\"*j* adding \" + skill +\" jingle of \" + duration);\n        jingleQueue.add(Jingle.of(duration, false));\n\n        if (!isWindowClosed()){\n            //there is an open window\n            return;\n        }\n\n        startJingle();\n    }\n\n    private void startJingle(){\n        Jingle jingle \u003d jingleQueue.getFirst();\n\n        muteMusic(false);\n        log.debug(\"*j* unmuting jingle for \" + jingle.duration + \" ticks...\");\n        jingleTick \u003d 0;\n        jingle.setJinglePlaying(true);\n    }\n\n    public void endJingle(){\n        muteMusic(true);\n        log.debug(\"*j* jingle ended, muting...\");\n        jingleTick \u003d -1;\n        jingleQueue.remove();\n    }\n\n    public void tickJingle(){\n        if (jingleQueue.isEmpty()) return;\n\n        if (isWindowClosed() \u0026\u0026 !jingleQueue.getFirst().isJinglePlaying) startJingle();\n\n        if (jingleTick \u003e jingleQueue.getFirst().duration - 1){\n            endJingle();\n        }else if (jingleTick !\u003d -1){\n            jingleTick +\u003d 1;\n            log.debug(\"*G* \" + jingleTick);\n        }\n    }\n\n    void muteMusic(boolean shouldMute){\n        int val;\n        if (musicPluginConfig \u003d\u003d null || !musicPluginConfig.granularSliders()){\n            val \u003d shouldMute ? 0 : config.jingleVolume();\n            client.setMusicVolume(val);\n        }else{\n            val \u003d shouldMute ? -config.jingleVolume() : config.jingleVolume();\n            musicPluginConfig.setMusicVolume(val);\n        }\n\n    }\n\n    //if widget S161.16 has 1 or more children, then return true\n    public boolean isWindowClosed() {\n        return Objects.requireNonNull(client.getWidget(161, 16)).getNestedChildren().length \u003d\u003d 0;\n    }\n\n    public boolean isMusicMuted(){\n        return client.getMusicVolume() \u003d\u003d 0;\n    }\n\n    @AllArgsConstructor(access \u003d AccessLevel.PROTECTED, staticName \u003d \"of\")\n    private static class Jingle {\n        int duration;\n        @Setter\n        boolean isJinglePlaying;    //when music is unmuted we might need to know if its because of user or jingle\n    }\n}\n","filePath":"src\\main\\java\\hootisman\\unmutedjingles\\jingles\\JingleManager.java"},{"fileName":"UnmutedJinglesConfig.java","content":"package hootisman.unmutedjingles;\n\nimport net.runelite.client.config.Config;\nimport net.runelite.client.config.ConfigGroup;\nimport net.runelite.client.config.ConfigItem;\nimport net.runelite.client.config.Range;\n\n@ConfigGroup(\"unmutedjingles\")\npublic interface UnmutedJinglesConfig extends Config\n{\n\t@Range(max\u003d255)\n\t@ConfigItem(\n\t\tkeyName \u003d \"jingleVolume\",\n\t\tname \u003d \"Jingle Volume\",\n\t\tdescription \u003d \"Volume when jingles are played\"\n\t)\n\tdefault int jingleVolume()\n\t{\n\t\treturn 50;\n\t}\n\n}\n","filePath":"src\\main\\java\\hootisman\\unmutedjingles\\UnmutedJinglesConfig.java"},{"fileName":"UnmutedJinglesPlugin.java","content":"package hootisman.unmutedjingles;\n\nimport com.google.inject.Provides;\nimport javax.inject.Inject;\n\nimport hootisman.unmutedjingles.jingles.JingleData;\nimport hootisman.unmutedjingles.jingles.JingleManager;\nimport lombok.extern.slf4j.Slf4j;\nimport net.runelite.api.*;\nimport net.runelite.api.events.*;\nimport net.runelite.client.callback.ClientThread;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.eventbus.Subscribe;\nimport net.runelite.client.events.PluginChanged;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDependency;\nimport net.runelite.client.plugins.PluginDescriptor;\nimport net.runelite.client.plugins.PluginManager;\nimport net.runelite.client.plugins.music.MusicConfig;\nimport net.runelite.client.plugins.music.MusicPlugin;\n\nimport java.util.List;\n\n@Slf4j\n@PluginDescriptor(\n\tname \u003d \"Unmuted Jingles\"\n)\n@PluginDependency(MusicPlugin.class)\npublic class UnmutedJinglesPlugin extends Plugin\n{\n\t@Inject\n\tprivate Client client;\n\n\t@Inject\n\tprivate ClientThread clientThread;\n\n\t@Inject\n\tprivate MusicPlugin musicPlugin;\n\n\t@Inject\n\tprivate PluginManager pluginManager;\n\n\t@Inject\n\tprivate UnmutedJinglesConfig config;\n\n\t@Inject\n\tprivate JingleManager jingleManager;\n\n\t@Override\n\tprotected void startUp() throws Exception\n\t{\n\t\tlog.debug(\"*START* Setting music plugin; isEnabled\" + pluginManager.isPluginEnabled(musicPlugin));\n\t\tjingleManager.setMusicPluginConfig(pluginManager.isPluginEnabled(musicPlugin) ? (MusicConfig) pluginManager.getPluginConfigProxy(musicPlugin) : null);\n\t}\n\n\n\t@Subscribe\n\tpublic void onPluginChanged(PluginChanged e){\n\t\tif (!e.getPlugin().equals(musicPlugin)) return;\n\n\t\tlog.debug(\"*P* Setting music plugin; isLoaded\" + e.isLoaded());\n\t\tjingleManager.setMusicPluginConfig(e.isLoaded() ? (MusicConfig) pluginManager.getPluginConfigProxy(musicPlugin) : null);\n\n\t}\n\n\t@Subscribe\n\tpublic void onStatChanged(StatChanged e){\n\t\tSkill skill \u003d e.getSkill();\n\t\tint level \u003d e.getLevel();\n\t\tint listedLevel \u003d JingleData.SKILL_LEVELS.get(skill);\n\n\t\tlog.debug(\"*stat* \" + e.toString());\n\n\t\t//level never changed\n\t\tif (listedLevel \u003d\u003d level) return;\n\n\t\tif (JingleData.isLevelInited(skill)){\n\t\t\tjingleManager.queueJingle(skill, level);\n        }\n\n\t\tJingleData.SKILL_LEVELS.put(skill, level);\n\t}\n\n\n\n\n\t@Subscribe\n\tpublic void onGameTick(GameTick e){\n\t\tjingleManager.tickJingle();\n\n\t\t/*\n\t\tList\u003cMidiRequest\u003e reqs \u003d client.getActiveMidiRequests();\n\t\tif (!reqs.isEmpty()){\n\t\t\treqs.forEach(req -\u003e {\n\t\t\t\tlog.info(\"*G* req \" + req.getArchiveId() + \" \" + req.isJingle());\n\t\t\t});\n\n\t\t}\n\t\t */\n\t}\n\n\t/*\n\t@Subscribe\n\tpublic void onWidgetLoaded(WidgetLoaded e){\n\t\t//todo: get other jingles to work\n\t\tlog.info(\"*W* \" + e.toString());\n\n\t\tif(e.getGroupId() \u003d\u003d 193){\n\t\t\tWidget icon  \u003d client.getWidget(ComponentID.DIALOG_SPRITE_SPRITE);\n\n\t\t\tif (icon !\u003d null \u0026\u0026 icon.getItemId() \u003d\u003d 2996){\n\t\t\t\tlog.info(\"*W* This is a brimhaven ticket!\");\n\t\t\t\tstartJingle();\n\t\t\t}\n\t\t}\n\n\t\t//level up window id\n\t\t//else if(e.getGroupId() \u003d\u003d 233){\n\t\t//\tstartJingle();\n\t\t//}\n\t}\n\n\t */\n\n\n\t@Provides\n\tUnmutedJinglesConfig provideConfig(ConfigManager configManager)\n\t{\n\t\treturn configManager.getConfig(UnmutedJinglesConfig.class);\n\t}\n}\n","filePath":"src\\main\\java\\hootisman\\unmutedjingles\\UnmutedJinglesPlugin.java"},{"fileName":"UnmutedJinglesPluginTest.java","content":"package hootisman.unmutedjingles;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class UnmutedJinglesPluginTest\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tExternalPluginManager.loadBuiltin(UnmutedJinglesPlugin.class);\n\t\tRuneLite.main(args);\n\t}\n}","filePath":"src\\test\\java\\hootisman\\unmutedjingles\\UnmutedJinglesPluginTest.java"}]}]