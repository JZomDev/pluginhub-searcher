[{"commit":"4cfd6848fa1f1f790a843bf461f7a4e9a9778427","repository":"https://github.com/tcpowell/interactable.git","internalName":"interactable","files":[{"fileName":"InteractableConfig.java","content":"package com.interactable;\n\nimport java.awt.Color;\nimport net.runelite.client.config.Alpha;\nimport net.runelite.client.config.Config;\nimport net.runelite.client.config.ConfigGroup;\nimport net.runelite.client.config.ConfigItem;\nimport net.runelite.client.config.Keybind;\nimport net.runelite.client.config.Range;\n\n@ConfigGroup(InteractableConfig.GROUP)\npublic interface InteractableConfig extends Config\n{\n\tString GROUP \u003d \"interactableHints\";\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"toggleKeybind\",\n\t\tname \u003d \"Toggle Overlay\",\n\t\tdescription \u003d \"Binds a key (combination) to toggle the overlay.\",\n\t\tposition \u003d 0\n\t)\n\tdefault Keybind toggleKeybind()\n\t{\n\t\treturn Keybind.NOT_SET;\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"autoHideTimeout\",\n\t\tname \u003d \"Auto Hide Timeout\",\n\t\tdescription \u003d \"Timeout (in seconds) where the overlay is hidden (0 \u003d do not auto hide)\",\n\t\tposition \u003d 1\n\t)\n\tdefault int autoHideTimeout()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"showObject\",\n\t\tname \u003d \"Show Objects\",\n\t\tdescription \u003d \"Outline interactable Objects\",\n\t\tposition \u003d 2\n\t)\n\tdefault boolean showObject()\n\t{\n\t\treturn true;\n\t}\n\n\t@Alpha\n\t@ConfigItem(\n\t\tkeyName \u003d \"objectHighlightColor\",\n\t\tname \u003d \"Object Color\",\n\t\tdescription \u003d \"The color of the outline for Objects\",\n\t\tposition \u003d 3\n\t)\n\tdefault Color objectHighlightColor()\n\t{\n\t\treturn new Color(0, 255, 255, 160);\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"showAttackNpc\",\n\t\tname \u003d \"Show Attackable NPCs\",\n\t\tdescription \u003d \"Outline attackable NPCs\",\n\t\tposition \u003d 4\n\t)\n\tdefault boolean showAttackNpc()\n\t{\n\t\treturn true;\n\t}\n\n\t@Alpha\n\t@ConfigItem(\n\t\tkeyName \u003d \"attackNpcColor\",\n\t\tname \u003d \"Attackable NPC Color\",\n\t\tdescription \u003d \"The color of the outline for attackable NPCs\",\n\t\tposition \u003d 5\n\t)\n\tdefault Color attackNpcColor()\n\t{\n\t\treturn new Color(255, 10, 10, 160);\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"showInteractableNpc\",\n\t\tname \u003d \"Show Interactable NPCs\",\n\t\tdescription \u003d \"Outline interactable NPCs\",\n\t\tposition \u003d 6\n\t)\n\tdefault boolean showInteractableNpc()\n\t{\n\t\treturn true;\n\t}\n\n\t@Alpha\n\t@ConfigItem(\n\t\tkeyName \u003d \"interactableNpcColor\",\n\t\tname \u003d \"Interactable NPC Color\",\n\t\tdescription \u003d \"The color of the outline for interactable NPCs\",\n\t\tposition \u003d 7\n\t)\n\tdefault Color interactableNpcColor()\n\t{\n\t\treturn new Color(255, 255, 10, 160);\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"borderWidth\",\n\t\tname \u003d \"Border Width\",\n\t\tdescription \u003d \"Width of the outlined border\",\n\t\tposition \u003d 8\n\t)\n\tdefault int borderWidth()\n\t{\n\t\treturn 4;\n\t}\n\n\t@ConfigItem(\n\t\tkeyName \u003d \"outlineFeather\",\n\t\tname \u003d \"Outline feather\",\n\t\tdescription \u003d \"Specify between 0-4 how much of the model outline should be faded\",\n\t\tposition \u003d 9\n\t)\n\t@Range(\n\t\tmax \u003d 4\n\t)\n\tdefault int outlineFeather()\n\t{\n\t\treturn 4;\n\t}\n\n}\n","filePath":"src\\main\\java\\com\\interactable\\InteractableConfig.java"},{"fileName":"InteractableOverlay.java","content":"package com.interactable;\n\nimport java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport javax.inject.Inject;\nimport net.runelite.api.Client;\nimport net.runelite.api.NPC;\nimport net.runelite.api.TileObject;\nimport net.runelite.client.ui.overlay.Overlay;\nimport net.runelite.client.ui.overlay.OverlayLayer;\nimport net.runelite.client.ui.overlay.OverlayPosition;\nimport net.runelite.client.ui.overlay.OverlayPriority;\nimport net.runelite.client.ui.overlay.outline.ModelOutlineRenderer;\n\nclass InteractableOverlay extends Overlay\n{\n\tprivate final Client client;\n\tprivate final InteractablePlugin plugin;\n\tprivate final InteractableConfig config;\n\tprivate final ModelOutlineRenderer modelOutlineRenderer;\n\n\t@Inject\n\tprivate InteractableOverlay(Client client, InteractablePlugin plugin, InteractableConfig config, ModelOutlineRenderer modelOutlineRenderer)\n\t{\n\t\tthis.client \u003d client;\n\t\tthis.plugin \u003d plugin;\n\t\tthis.config \u003d config;\n\t\tthis.modelOutlineRenderer \u003d modelOutlineRenderer;\n\t\tsetPosition(OverlayPosition.DYNAMIC);\n\t\tsetLayer(OverlayLayer.ABOVE_SCENE);\n\t\tsetPriority(OverlayPriority.HIGH);\n\t}\n\n\t@Override\n\tpublic Dimension render(Graphics2D graphics)\n\t{\n\t\tif (plugin.isShown())\n\t\t{\n\t\t\trenderObjects();\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tprivate void renderObjects()\n\t{\n\t\tplugin.generateObjectLists();\n\n\t\tif (config.showObject())\n\t\t{\n\t\t\tfor (TileObject object : plugin.getObjects())\n\t\t\t{\n\t\t\t\tif (object !\u003d null)\n\t\t\t\t{\n\t\t\t\t\tmodelOutlineRenderer.drawOutline(object, config.borderWidth(), plugin.getCurrentObjectColor(), config.outlineFeather());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (config.showAttackNpc())\n\t\t{\n\t\t\tfor (NPC npc : plugin.getAttackNpcs())\n\t\t\t{\n\t\t\t\tif (npc !\u003d null)\n\t\t\t\t{\n\t\t\t\t\tmodelOutlineRenderer.drawOutline(npc, config.borderWidth(), plugin.getCurrentNpcAttackColor(), config.outlineFeather());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (config.showInteractableNpc())\n\t\t{\n\t\t\tfor (NPC npc : plugin.getInteractNpcs())\n\t\t\t{\n\t\t\t\tif (npc !\u003d null)\n\t\t\t\t{\n\t\t\t\t\tmodelOutlineRenderer.drawOutline(npc, config.borderWidth(), plugin.getCurrentNpcInteractColor(), config.outlineFeather());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t}\n}","filePath":"src\\main\\java\\com\\interactable\\InteractableOverlay.java"},{"fileName":"InteractablePlugin.java","content":"package com.interactable;\n\nimport com.google.common.base.Strings;\nimport com.google.inject.Provides;\nimport java.awt.Color;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.inject.Inject;\nimport lombok.AccessLevel;\nimport lombok.Getter;\nimport lombok.extern.slf4j.Slf4j;\nimport net.runelite.api.Client;\nimport net.runelite.api.Constants;\nimport net.runelite.api.GameObject;\nimport net.runelite.api.GroundObject;\nimport net.runelite.api.NPC;\nimport net.runelite.api.NPCComposition;\nimport net.runelite.api.ObjectComposition;\nimport net.runelite.api.Player;\nimport net.runelite.api.Scene;\nimport net.runelite.api.Tile;\nimport net.runelite.api.TileObject;\nimport net.runelite.api.WallObject;\nimport net.runelite.api.events.ClientTick;\nimport net.runelite.client.callback.ClientThread;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.eventbus.Subscribe;\nimport net.runelite.client.input.KeyManager;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDescriptor;\nimport net.runelite.client.ui.overlay.OverlayManager;\nimport net.runelite.client.util.HotkeyListener;\n\n@Slf4j\n@PluginDescriptor(\n\tname \u003d \"Interactable Hints\"\n)\npublic class InteractablePlugin extends Plugin\n{\n\tprivate int MAX_DISTANCE \u003d 2350;\n\tprivate int remainingClientTicks \u003d -1;\n\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate boolean shown \u003d false;\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate Color currentObjectColor;\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate Color currentNpcAttackColor;\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate Color currentNpcInteractColor;\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate List\u003cTileObject\u003e objects \u003d new ArrayList\u003cTileObject\u003e();\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate List\u003cNPC\u003e attackNpcs \u003d new ArrayList\u003cNPC\u003e();\n\t@Getter(AccessLevel.PACKAGE)\n\tprivate List\u003cNPC\u003e interactNpcs \u003d new ArrayList\u003cNPC\u003e();\n\n\t@Inject\n\tprivate Client client;\n\n\t@Inject\n\tprivate ClientThread clientThread;\n\n\t@Inject\n\tprivate OverlayManager overlayManager;\n\n\t@Inject\n\tprivate InteractableOverlay interactableOverlay;\n\n\t@Inject\n\tprivate InteractableConfig config;\n\n\t@Inject\n\tprivate KeyManager keyManager;\n\n\t@Override\n\tprotected void startUp() throws Exception\n\t{\n\t\tshown \u003d false;\n\t\tkeyManager.registerKeyListener(hotkeyListener);\n\t\toverlayManager.add(interactableOverlay);\n\t\tobjects \u003d new ArrayList\u003cTileObject\u003e();\n\t\tattackNpcs \u003d new ArrayList\u003cNPC\u003e();\n\t\tinteractNpcs \u003d new ArrayList\u003cNPC\u003e();\n\t}\n\n\t@Override\n\tprotected void shutDown() throws Exception\n\t{\n\t\tshown \u003d false;\n\t\tkeyManager.unregisterKeyListener(hotkeyListener);\n\t\toverlayManager.remove(interactableOverlay);\n\t\tobjects \u003d null;\n\t\tattackNpcs \u003d null;\n\t\tinteractNpcs \u003d null;\n\t}\n\n\t@Subscribe\n\tpublic void onClientTick(ClientTick clientTick)\n\t{\n\t\tif (config.autoHideTimeout() \u003e 0 \u0026\u0026 shown)\n\t\t{\n\t\t\tif (remainingClientTicks \u003e 50)\n\t\t\t{\n\t\t\t\tremainingClientTicks--;\n\t\t\t}\n\t\t\telse if (remainingClientTicks \u003e 0)\n\t\t\t{\n\t\t\t\tfadeOut();\n\t\t\t\tremainingClientTicks--;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tshown \u003d false;\n\t\t\t\tlog.debug(\"Interactable Hints auto-hide triggered\");\n\t\t\t\tcurrentObjectColor \u003d config.objectHighlightColor();\n\t\t\t\tcurrentNpcAttackColor \u003d config.attackNpcColor();\n\t\t\t\tcurrentNpcInteractColor \u003d config.interactableNpcColor();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate void fadeOut()\n\t{\n\t\tint newObjectAlpha \u003d config.objectHighlightColor().getAlpha() * remainingClientTicks / 50;\n\t\tcurrentObjectColor \u003d new Color(config.objectHighlightColor().getRed(), config.objectHighlightColor().getGreen(), config.objectHighlightColor().getBlue(), newObjectAlpha);\n\n\t\tint newAttackAlpha \u003d config.attackNpcColor().getAlpha() * remainingClientTicks / 50;\n\t\tcurrentNpcAttackColor \u003d new Color(config.attackNpcColor().getRed(), config.attackNpcColor().getGreen(), config.attackNpcColor().getBlue(), newAttackAlpha);\n\n\t\tint newInteractAlpha \u003d config.interactableNpcColor().getAlpha() * remainingClientTicks / 50;\n\t\tcurrentNpcInteractColor \u003d new Color(config.interactableNpcColor().getRed(), config.interactableNpcColor().getGreen(), config.interactableNpcColor().getBlue(), newInteractAlpha);\n\t}\n\n\t@Provides\n\tInteractableConfig provideConfig(ConfigManager configManager)\n\t{\n\t\treturn configManager.getConfig(InteractableConfig.class);\n\t}\n\n\tprivate final HotkeyListener hotkeyListener \u003d new HotkeyListener(() -\u003e config.toggleKeybind())\n\t{\n\t\t@Override\n\t\tpublic void hotkeyPressed()\n\t\t{\n\t\t\tcurrentObjectColor \u003d config.objectHighlightColor();\n\t\t\tcurrentNpcAttackColor \u003d config.attackNpcColor();\n\t\t\tcurrentNpcInteractColor \u003d config.interactableNpcColor();\n\n\t\t\tshown \u003d !shown;\n\t\t\tlog.debug(\"Interactable Hints overlay toggled to \" + shown);\n\t\t\tif (shown)\n\t\t\t{\n\t\t\t\tremainingClientTicks \u003d config.autoHideTimeout() * 50;\n\t\t\t}\n\t\t}\n\t};\n\n\tvoid generateObjectLists()\n\t{\n\t\tobjects \u003d new ArrayList\u003cTileObject\u003e();\n\t\tattackNpcs \u003d new ArrayList\u003cNPC\u003e();\n\t\tinteractNpcs \u003d new ArrayList\u003cNPC\u003e();\n\n\t\tfor (NPC npc : client.getNpcs())\n\t\t{\n\t\t\tNPCComposition npcComp \u003d replaceNpcImposters(npc.getComposition());\n\n\t\t\tif (npcCompCheck(npcComp) \u0026\u0026 npcCheck(npc))\n\t\t\t{\n\t\t\t\tif (npcAttackable(npcComp))\n\t\t\t\t{\n\t\t\t\t\tattackNpcs.add(npc);\n\t\t\t\t}\n\t\t\t\telse if (npcInteractable(npcComp))\n\t\t\t\t{\n\t\t\t\t\tinteractNpcs.add(npc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tScene scene \u003d client.getScene();\n\t\tTile[][] tiles \u003d scene.getTiles()[client.getPlane()];\n\n\t\tfor (int x \u003d 0; x \u003c Constants.SCENE_SIZE; ++x)\n\t\t{\n\t\t\tfor (int y \u003d 0; y \u003c Constants.SCENE_SIZE; ++y)\n\t\t\t{\n\t\t\t\tTile tile \u003d tiles[x][y];\n\t\t\t\tif (tile \u003d\u003d null)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (GameObject gameObject : tile.getGameObjects())\n\t\t\t\t{\n\t\t\t\t\tif (gameObjectCheck(gameObject) \u0026\u0026 !(gameObject.getRenderable() instanceof Player) \u0026\u0026 !(gameObject.getRenderable() instanceof NPC))\n\t\t\t\t\t{\n\t\t\t\t\t\tint objectId \u003d gameObject.getId();\n\t\t\t\t\t\tObjectComposition comp \u003d replaceObjectImposters(client.getObjectDefinition(objectId));\n\n\t\t\t\t\t\tif (objectCompCheck(comp))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!objects.contains(gameObject))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tobjects.add(gameObject);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tWallObject wallObject \u003d tile.getWallObject();\n\n\t\t\t\tif (gameObjectCheck(wallObject))\n\t\t\t\t{\n\t\t\t\t\tint objectId \u003d wallObject.getId();\n\t\t\t\t\tObjectComposition comp \u003d replaceObjectImposters(client.getObjectDefinition(objectId));\n\n\t\t\t\t\tif (objectCompCheck(comp))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!objects.contains(wallObject))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tobjects.add(wallObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tGroundObject groundObject \u003d tile.getGroundObject();\n\n\t\t\t\tif (gameObjectCheck(groundObject))\n\t\t\t\t{\n\t\t\t\t\tint objectId \u003d groundObject.getId();\n\t\t\t\t\tObjectComposition comp \u003d replaceObjectImposters(client.getObjectDefinition(objectId));\n\n\t\t\t\t\tif (objectCompCheck(comp))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!objects.contains(groundObject))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tobjects.add(groundObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate boolean objectCompCheck(ObjectComposition comp)\n\t{\n\t\treturn (comp !\u003d null \u0026\u0026 !Strings.isNullOrEmpty(comp.getName()) \u0026\u0026 !comp.getName().equals(\"null\") \u0026\u0026 objectActionCheck(comp));\n\t}\n\n\tprivate boolean npcCompCheck(NPCComposition comp)\n\t{\n\t\treturn (comp !\u003d null \u0026\u0026 !Strings.isNullOrEmpty(comp.getName()) \u0026\u0026 !comp.getName().equals(\"null\"));\n\t}\n\n\tprivate boolean gameObjectCheck(TileObject object)\n\t{\n\t\treturn object !\u003d null \u0026\u0026 object.getLocalLocation().distanceTo(client.getLocalPlayer().getLocalLocation()) \u003c\u003d MAX_DISTANCE;\n\t}\n\n\tprivate boolean npcCheck(NPC npc)\n\t{\n\t\treturn npc !\u003d null \u0026\u0026 npc.getLocalLocation().distanceTo(client.getLocalPlayer().getLocalLocation()) \u003c\u003d MAX_DISTANCE;\n\t}\n\n\tprivate ObjectComposition replaceObjectImposters(ObjectComposition comp)\n\t{\n\t\treturn comp.getImpostorIds() !\u003d null ? comp.getImpostor() : comp;\n\t}\n\n\tprivate NPCComposition replaceNpcImposters(NPCComposition comp)\n\t{\n\t\treturn comp.getConfigs() !\u003d null \u0026\u0026 comp.transform() !\u003d null ? comp.transform() : comp;\n\t}\n\n\tprivate boolean objectActionCheck(ObjectComposition comp)\n\t{\n\t\tfor (String action : comp.getActions())\n\t\t{\n\t\t\tif (!Strings.isNullOrEmpty(action) \u0026\u0026 !action.equals(\"null\"))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate boolean npcAttackable(NPCComposition comp)\n\t{\n\t\tfor (String action : comp.getActions())\n\t\t{\n\t\t\tif (!Strings.isNullOrEmpty(action) \u0026\u0026 action.equals(\"Attack\") \u0026\u0026 client.getVarpValue(1306) !\u003d3)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate boolean npcInteractable(NPCComposition comp)\n\t{\n\t\tfor (String action : comp.getActions())\n\t\t{\n\t\t\tif (!Strings.isNullOrEmpty(action) \u0026\u0026 !action.equals(\"null\") \u0026\u0026 !action.equals(\"Attack\"))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n","filePath":"src\\main\\java\\com\\interactable\\InteractablePlugin.java"},{"fileName":"InteractablePluginTest.java","content":"package com.interactable;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class InteractablePluginTest\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tExternalPluginManager.loadBuiltin(InteractablePlugin.class);\n\t\tRuneLite.main(args);\n\t}\n}","filePath":"src\\test\\java\\com\\interactable\\InteractablePluginTest.java"}]},{"commit":"d383983a88752621b6605cad55fd3dde8e3c5e14","repository":"https://github.com/IanMcNelly/maniacal-hunter.git","internalName":"maniacal-hunter","files":[{"fileName":"DisplayMode.java","content":"package com.maniacalhunter;\n\npublic enum DisplayMode\n{\n\tSESSION_ONLY,\n\tAGGREGATE_ONLY,\n\tBOTH\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\DisplayMode.java"},{"fileName":"ManiacalHunterConfig.java","content":"package com.maniacalhunter;\n\nimport net.runelite.client.config.Config;\nimport net.runelite.client.config.ConfigGroup;\nimport net.runelite.client.config.ConfigItem;\nimport net.runelite.client.config.ConfigSection;\n\n@ConfigGroup(\"maniacalhunter\")\npublic interface ManiacalHunterConfig extends Config\n{\n\t@ConfigSection(\n\t\t\tname \u003d \"Display\",\n\t\t\tdescription \u003d \"Configure which stats to display\",\n\t\t\tposition \u003d 0\n\t)\n\tString displaySection \u003d \"display\";\n\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"condensedMode\",\n\t\t\tname \u003d \"Condensed Mode\",\n\t\t\tdescription \u003d \"Display stats in an infobox.\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean condensedMode()\n\t{\n\t\treturn false;\n\t}\n\n\t@ConfigSection(\n\t\t\tname \u003d \"Auto Reset\",\n\t\t\tdescription \u003d \"Automatically reset the session\",\n\t\t\tposition \u003d 4\n\t)\n\tString autoResetSection \u003d \"autoReset\";\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"autoResetMode\",\n\t\t\tname \u003d \"Auto Reset Session\",\n\t\t\tdescription \u003d \"Automatically reset the session upon entering or leaving the area\",\n\t\t\tsection \u003d autoResetSection\n\t)\n\tdefault ResetMode autoResetMode()\n\t{\n\t\treturn ResetMode.NEVER;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showMonkeysCaught\",\n\t\t\tname \u003d \"Show Monkeys Caught\",\n\t\t\tdescription \u003d \"Show the total number of monkeys caught\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showMonkeysCaught()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showTrapsLaid\",\n\t\t\tname \u003d \"Show Traps Laid\",\n\t\t\tdescription \u003d \"Show the total number of traps laid\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showTrapsLaid()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showLastTrapStatus\",\n\t\t\tname \u003d \"Show Last Trap Status\",\n\t\t\tdescription \u003d \"Show the status of the last trap\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showLastTrapStatus()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showSuccessRate\",\n\t\t\tname \u003d \"Show Success Rate\",\n\t\t\tdescription \u003d \"Show the success rate of catching monkeys\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showSuccessRate()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showMonkeysPerHour\",\n\t\t\tname \u003d \"Show Monkeys/Hour\",\n\t\t\tdescription \u003d \"Show the number of monkeys caught per hour\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showMonkeysPerHour()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showPerfectTails\",\n\t\t\tname \u003d \"Show Perfect Tails\",\n\t\t\tdescription \u003d \"Show the number of perfect tails received\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showPerfectTails()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showDamagedTails\",\n\t\t\tname \u003d \"Show Damaged Tails\",\n\t\t\tdescription \u003d \"Show the number of damaged tails received\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showDamagedTails()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showLuck\",\n\t\t\tname \u003d \"Show Luck\",\n\t\t\tdescription \u003d \"Show your current luck in receiving a perfect tail\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showLuck()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"showAvgCatchTime\",\n\t\t\tname \u003d \"Show Avg. Catch Time\",\n\t\t\tdescription \u003d \"Show the average time to catch a monkey\",\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault boolean showAvgCatchTime()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"displayMode\",\n\t\t\tname \u003d \"Display Mode\",\n\t\t\tdescription \u003d \"Choose how to display stats in the overlay\",\n\t\t\tposition \u003d 1,\n\t\t\tsection \u003d displaySection\n\t)\n\tdefault DisplayMode displayMode()\n\t{\n\t\treturn DisplayMode.BOTH;\n\t}\n\n\t@ConfigSection(\n\t\t\tname \u003d \"Actions\",\n\t\t\tdescription \u003d \"Perform actions on the session\",\n\t\t\tposition \u003d 2\n\t)\n\tString actionsSection \u003d \"actions\";\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"resetSessionButton\",\n\t\t\tname \u003d \"Reset Session\",\n\t\t\tdescription \u003d \"Reset the current session stats\",\n\t\t\tsection \u003d actionsSection\n\t)\n\tdefault boolean resetSession()\n\t{\n\t\treturn false;\n\t}\n\n\t@ConfigSection(\n\t\t\tname \u003d \"Notifications\",\n\t\t\tdescription \u003d \"Configure notifications for milestones\",\n\t\t\tposition \u003d 3\n\t)\n\tString notificationsSection \u003d \"notifications\";\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"milestoneNotification\",\n\t\t\tname \u003d \"Milestone Notification\",\n\t\t\tdescription \u003d \"Notify when you reach a milestone of monkeys caught\",\n\t\t\tsection \u003d notificationsSection\n\t)\n\tdefault boolean milestoneNotification()\n\t{\n\t\treturn true;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"milestoneInterval\",\n\t\t\tname \u003d \"Milestone Interval\",\n\t\t\tdescription \u003d \"The interval at which to send a milestone notification\",\n\t\t\tsection \u003d notificationsSection\n\t)\n\tdefault int milestoneInterval()\n\t{\n\t\treturn 100;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"sessionStartTime\",\n\t\t\tname \u003d \"Session Start Time\",\n\t\t\tdescription \u003d \"The time the session started\",\n\t\t\thidden \u003d true\n\t)\n\tdefault long getSessionStartTime()\n\t{\n\t\treturn 0L;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"sessionStartTime\",\n\t\t\tname \u003d \"Session Start Time\",\n\t\t\tdescription \u003d \"The time the session started\"\n\t)\n\tvoid setSessionStartTime(long time);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"duration\",\n\t\t\tname \u003d \"Duration\",\n\t\t\tdescription \u003d \"The session duration in milliseconds\",\n\t\t\thidden \u003d true\n\t)\n\tdefault long getDuration()\n\t{\n\t\treturn 0L;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"duration\",\n\t\t\tname \u003d \"Duration\",\n\t\t\tdescription \u003d \"The session duration in milliseconds\"\n\t)\n\tvoid setDuration(long time);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"monkeysCaught\",\n\t\t\tname \u003d \"Monkeys Caught\",\n\t\t\tdescription \u003d \"The number of monkeys caught\",\n\t\t\thidden \u003d true\n\t)\n\tdefault int getMonkeysCaught()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"monkeysCaught\",\n\t\t\tname \u003d \"Monkeys Caught\",\n\t\t\tdescription \u003d \"The number of monkeys caught\"\n\t)\n\tvoid setMonkeysCaught(int count);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"trapsLaid\",\n\t\t\tname \u003d \"Traps Laid\",\n\t\t\tdescription \u003d \"The number of traps laid\",\n\t\t\thidden \u003d true\n\t)\n\tdefault int getTrapsLaid()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"trapsLaid\",\n\t\t\tname \u003d \"Traps Laid\",\n\t\t\tdescription \u003d \"The number of traps laid\"\n\t)\n\tvoid setTrapsLaid(int count);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"lastTrapStatus\",\n\t\t\tname \u003d \"Last Trap Status\",\n\t\t\tdescription \u003d \"The status of the last trap\",\n\t\t\thidden \u003d true\n\t)\n\tdefault String getLastTrapStatus()\n\t{\n\t\treturn \"N/A\";\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"lastTrapStatus\",\n\t\t\tname \u003d \"Last Trap Status\",\n\t\t\tdescription \u003d \"The status of the last trap\"\n\t)\n\tvoid setLastTrapStatus(String status);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"perfectTails\",\n\t\t\tname \u003d \"Perfect Tails\",\n\t\t\tdescription \u003d \"The number of perfect tails\",\n\t\t\thidden \u003d true\n\t)\n\tdefault int getPerfectTails()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"perfectTails\",\n\t\t\tname \u003d \"Perfect Tails\",\n\t\t\tdescription \u003d \"The number of perfect tails\"\n\t)\n\tvoid setPerfectTails(int count);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"damagedTails\",\n\t\t\tname \u003d \"Damaged Tails\",\n\t\t\tdescription \u003d \"The number of damaged tails\",\n\t\t\thidden \u003d true\n\t)\n\tdefault int getDamagedTails()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"damagedTails\",\n\t\t\tname \u003d \"Damaged Tails\",\n\t\t\tdescription \u003d \"The number of damaged tails\"\n\t)\n\tvoid setDamagedTails(int count);\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"damagedTailsSincePerfect\",\n\t\t\tname \u003d \"Damaged Tails Since Perfect\",\n\t\t\tdescription \u003d \"The number of damaged tails since the last perfect tail\",\n\t\t\thidden \u003d true\n\t)\n\tdefault int getDamagedTailsSincePerfect()\n\t{\n\t\treturn 0;\n\t}\n\n\t@ConfigItem(\n\t\t\tkeyName \u003d \"damagedTailsSincePerfect\",\n\t\t\tname \u003d \"Damaged Tails Since Perfect\",\n\t\t\tdescription \u003d \"The number of damaged tails since the last perfect tail\"\n\t)\n\tvoid setDamagedTailsSincePerfect(int count);\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterConfig.java"},{"fileName":"ManiacalHunterConstants.java","content":"package com.maniacalhunter;\n\nimport com.google.common.collect.ImmutableSet;\nimport java.util.Set;\n\npublic class ManiacalHunterConstants\n{\n\t// Item IDs\n\tpublic static final int DAMAGED_MONKEY_TAIL \u003d 19665;\n\tpublic static final int PERFECT_MONKEY_TAIL \u003d 19610;\n\tpublic static final int MANIACAL_ITEM_ID \u003d 24864;\n\n\t// Object IDs\n\tpublic static final int UNSET_BOULDER_TRAP \u003d 28824;\n\tpublic static final int SETTING_BOULDER_TRAP \u003d 28825;\n\tpublic static final int SET_BOULDER_TRAP \u003d 28827;\n\tpublic static final int TRIGGERED_BOULDER_TRAP_1 \u003d 28828;\n\tpublic static final int TRIGGERED_BOULDER_TRAP_2 \u003d 28829;\n\tpublic static final int CAUGHT_MONKEY_BOULDER_1 \u003d 28830;\n\tpublic static final int CAUGHT_MONKEY_BOULDER_2 \u003d 28831;\n\tpublic static final int LIFTED_BOULDER \u003d 28833;\n\n\t// Region IDs\n\tpublic static final int MANIACAL_HUNTER_REGION \u003d 11662;\n\n\t// Other\n\tpublic static final int MANIACAL_MONKEY_XP \u003d 1000;\n\n\tpublic static final Set\u003cInteger\u003e BOULDER_TRAP_IDS \u003d ImmutableSet.of(\n\t\tUNSET_BOULDER_TRAP,\n\t\tSETTING_BOULDER_TRAP,\n\t\tSET_BOULDER_TRAP,\n\t\tTRIGGERED_BOULDER_TRAP_1,\n\t\tTRIGGERED_BOULDER_TRAP_2,\n\t\tCAUGHT_MONKEY_BOULDER_1,\n\t\tCAUGHT_MONKEY_BOULDER_2,\n\t\tLIFTED_BOULDER\n\t);\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterConstants.java"},{"fileName":"ManiacalHunterFormatting.java","content":"package com.maniacalhunter;\n\npublic final class ManiacalHunterFormatting\n{\n\tprivate ManiacalHunterFormatting()\n\t{\n\t}\n\n\tpublic static String formatStat(int session, int aggregate, DisplayMode displayMode)\n\t{\n\t\tswitch (displayMode)\n\t\t{\n\t\t\tcase SESSION_ONLY:\n\t\t\t\treturn String.valueOf(session);\n\t\t\tcase AGGREGATE_ONLY:\n\t\t\t\treturn String.valueOf(aggregate);\n\t\t\tcase BOTH:\n\t\t\tdefault:\n\t\t\t\treturn String.format(\"%d (%d)\", session, aggregate);\n\t\t}\n\t}\n\n\tpublic static String formatPercentage(double session, double aggregate, DisplayMode displayMode)\n\t{\n\t\tswitch (displayMode)\n\t\t{\n\t\t\tcase SESSION_ONLY:\n\t\t\t\treturn String.format(\"%.2f%%\", session);\n\t\t\tcase AGGREGATE_ONLY:\n\t\t\t\treturn String.format(\"%.2f%%\", aggregate);\n\t\t\tcase BOTH:\n\t\t\tdefault:\n\t\t\t\treturn String.format(\"%.2f%% (%.2f%%)\", session, aggregate);\n\t\t}\n\t}\n\n\tpublic static String formatDouble(double session, double aggregate, DisplayMode displayMode)\n\t{\n\t\tswitch (displayMode)\n\t\t{\n\t\t\tcase SESSION_ONLY:\n\t\t\t\treturn String.format(\"%.2f\", session);\n\t\t\tcase AGGREGATE_ONLY:\n\t\t\t\treturn String.format(\"%.2f\", aggregate);\n\t\t\tcase BOTH:\n\t\t\tdefault:\n\t\t\t\treturn String.format(\"%.2f (%.2f)\", session, aggregate);\n\t\t}\n\t}\n}","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterFormatting.java"},{"fileName":"ManiacalHunterInfoBox.java","content":"package com.maniacalhunter;\n\nimport java.awt.Color;\nimport java.awt.image.BufferedImage;\nimport net.runelite.client.ui.overlay.infobox.InfoBox;\n\npublic class ManiacalHunterInfoBox extends InfoBox\n{\n\tprivate final ManiacalHunterPlugin plugin;\n\tprivate final ManiacalHunterConfig config;\n\n\tpublic ManiacalHunterInfoBox(ManiacalHunterPlugin plugin, ManiacalHunterConfig config, BufferedImage image)\n\t{\n\t\tsuper(image, plugin);\n\t\tthis.plugin \u003d plugin;\n\t\tthis.config \u003d config;\n\t}\n\n\t@Override\n\tpublic String getText()\n\t{\n\t\treturn String.valueOf(plugin.getSession().getMonkeysCaught());\n\t}\n\n\t@Override\n\tpublic Color getTextColor()\n\t{\n\t\treturn Color.WHITE;\n\t}\n\n\t@Override\n\tpublic String getTooltip()\n\t{\n\t\tManiacalHunterSession session \u003d plugin.getSession();\n\t\tManiacalHunterSession aggregateSession \u003d plugin.getAggregateSession();\n\t\tStringBuilder sb \u003d new StringBuilder();\n\t\tsb.append(\"Maniacal Hunter\");\n\n\t\tif (config.showMonkeysCaught()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Monkeys Caught: \").append(ManiacalHunterFormatting.formatStat(session.getMonkeysCaught(), aggregateSession.getMonkeysCaught(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showTrapsLaid()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Traps Laid: \").append(ManiacalHunterFormatting.formatStat(session.getTrapsLaid(), aggregateSession.getTrapsLaid(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showLastTrapStatus()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Last Trap Status: \").append(session.getLastTrapStatus());\n\t\t}\n\n\t\tif (config.showSuccessRate()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Success Rate: \").append(ManiacalHunterFormatting.formatPercentage(session.getSuccessRate(), aggregateSession.getSuccessRate(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showMonkeysPerHour()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Monkeys/Hour: \").append(ManiacalHunterFormatting.formatDouble(session.getMonkeysPerHour(), aggregateSession.getMonkeysPerHour(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showPerfectTails()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Perfect Tails: \").append(ManiacalHunterFormatting.formatStat(session.getPerfectTails(), aggregateSession.getPerfectTails(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showDamagedTails()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Damaged Tails: \").append(ManiacalHunterFormatting.formatStat(session.getDamagedTails(), aggregateSession.getDamagedTails(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showLuck()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Luck: \").append(ManiacalHunterFormatting.formatPercentage(session.getLuckPercentage(), aggregateSession.getLuckPercentage(), config.displayMode()));\n\t\t}\n\n\t\tif (config.showAvgCatchTime()) {\n\t\t\tsb.append(\"\u003c/br\u003e\");\n\t\t\tsb.append(\"Avg. Catch Time: \").append(String.format(\"%.2fs\", session.getAverageTimePerCatch()));\n\t\t}\n\n\t\treturn sb.toString();\n\t}\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterInfoBox.java"},{"fileName":"ManiacalHunterOverlay.java","content":"package com.maniacalhunter;\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport javax.inject.Inject;\n\nimport net.runelite.api.Client;\nimport net.runelite.client.ui.overlay.OverlayPanel;\nimport net.runelite.client.ui.overlay.OverlayPosition;\nimport net.runelite.client.ui.overlay.components.LineComponent;\nimport net.runelite.client.ui.overlay.components.TitleComponent;\n\npublic class ManiacalHunterOverlay extends OverlayPanel\n{\n\tprivate final ManiacalHunterPlugin plugin;\n\tprivate final ManiacalHunterConfig config;\n\tprivate final Client client;\n\n\t@Inject\n\tprivate ManiacalHunterOverlay(ManiacalHunterPlugin plugin, ManiacalHunterConfig config, Client client)\n\t{\n\t\tsuper(plugin);\n\t\tthis.plugin \u003d plugin;\n\t\tthis.config \u003d config;\n\t\tthis.client \u003d client;\n\t\tsetPosition(OverlayPosition.TOP_LEFT);\n\t}\n\n\tprivate boolean isInManiacalHunterArea()\n\t{\n\t\treturn client.getLocalPlayer() !\u003d null \u0026\u0026 client.getLocalPlayer().getWorldLocation().getRegionID() \u003d\u003d ManiacalHunterConstants.MANIACAL_HUNTER_REGION;\n\t}\n\n\t@Override\n\tpublic Dimension render(Graphics2D graphics)\n\t{\n\t\tif (!isInManiacalHunterArea())\n\t\t{\n\t\t\treturn null;\n\t\t}\n\t\tManiacalHunterSession session \u003d plugin.getSession();\n\t\tManiacalHunterSession aggregateSession \u003d plugin.getAggregateSession();\n\n\t\tpanelComponent.getChildren().clear();\n\n\t\tpanelComponent.getChildren().add(TitleComponent.builder()\n\t\t\t.text(\"Maniacal Hunter\")\n\t\t\t.color(Color.WHITE)\n\t\t\t.build());\n\n\t\tif (config.showMonkeysCaught()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Monkeys Caught:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatStat(session.getMonkeysCaught(), aggregateSession.getMonkeysCaught(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showTrapsLaid()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Traps Laid:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatStat(session.getTrapsLaid(), aggregateSession.getTrapsLaid(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showLastTrapStatus()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Last Trap Status:\")\n\t\t\t\t.right(session.getLastTrapStatus())\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showSuccessRate()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Success Rate:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatPercentage(session.getSuccessRate(), aggregateSession.getSuccessRate(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showMonkeysPerHour()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Monkeys/Hour:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatDouble(session.getMonkeysPerHour(), aggregateSession.getMonkeysPerHour(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showPerfectTails()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Perfect Tails:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatStat(session.getPerfectTails(), aggregateSession.getPerfectTails(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showDamagedTails()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Damaged Tails:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatStat(session.getDamagedTails(), aggregateSession.getDamagedTails(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showLuck()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Luck:\")\n\t\t\t\t.right(ManiacalHunterFormatting.formatPercentage(session.getLuckPercentage(), aggregateSession.getLuckPercentage(), config.displayMode()))\n\t\t\t\t.build());\n\t\t}\n\n\t\tif (config.showAvgCatchTime()) {\n\t\t\tpanelComponent.getChildren().add(LineComponent.builder()\n\t\t\t\t.left(\"Avg. Catch Time:\")\n\t\t\t\t.right(String.format(\"%.2fs\", session.getAverageTimePerCatch()))\n\t\t\t\t.build());\n\t\t}\n\n\t\treturn super.render(graphics);\n\t}\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterOverlay.java"},{"fileName":"ManiacalHunterPlugin.java","content":"package com.maniacalhunter;\n\nimport com.google.inject.Provides;\nimport java.awt.image.BufferedImage;\nimport java.time.Duration;\nimport java.time.Instant;\nimport javax.inject.Inject;\n\nimport lombok.Getter;\nimport lombok.Setter;\nimport net.runelite.api.Client;\nimport net.runelite.api.GameObject;\nimport net.runelite.api.InventoryID;\nimport net.runelite.api.GameState;\nimport net.runelite.api.Skill;\nimport net.runelite.api.events.PlayerDespawned;\nimport net.runelite.api.events.PlayerSpawned;\nimport net.runelite.api.events.GameObjectSpawned;\nimport net.runelite.api.events.GameStateChanged;\nimport net.runelite.api.events.GameTick;\nimport net.runelite.api.events.ItemContainerChanged;\nimport net.runelite.api.events.StatChanged;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.eventbus.Subscribe;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDescriptor;\nimport net.runelite.client.ui.overlay.OverlayManager;\nimport net.runelite.client.events.ConfigChanged;\nimport net.runelite.client.Notifier;\nimport net.runelite.client.game.ItemManager;\nimport net.runelite.client.ui.overlay.infobox.InfoBoxManager;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@PluginDescriptor(\n\tname \u003d \"Maniacal Hunter\"\n)\npublic class ManiacalHunterPlugin extends Plugin\n{\n\tprivate static final Logger log \u003d LoggerFactory.getLogger(ManiacalHunterPlugin.class);\n\tprivate static final String CONFIG_GROUP \u003d \"maniacalhunter\";\n\tprivate static final String RESET_BUTTON_KEY \u003d \"resetSessionButton\";\n\tprivate static final String CONDENSED_MODE_KEY \u003d \"condensedMode\";\n\n\t@Getter\n    private BufferedImage icon;\n\n\t@Inject\n\tprivate Client client;\n\n\t@Setter\n    @Getter\n    @Inject\n\tprivate Notifier notifier;\n\n\t@Inject\n\tprivate ManiacalHunterConfig config;\n\n\t@Inject\n\tprivate ConfigManager configManager;\n\n    @Inject\n    private ItemManager itemManager;\n\n\t@Inject\n\tprivate InfoBoxManager infoBoxManager;\n\n\t@Getter\n\t@Inject\n\tprivate ManiacalHunterSession session;\n\n\t@Getter\n    private ManiacalHunterSession aggregateSession \u003d new ManiacalHunterSession();\n\n\t@Inject\n\tprivate OverlayManager overlayManager;\n\n\t@Inject\n\tprivate ManiacalHunterOverlay overlay;\n\n\tprivate ManiacalHunterInfoBox infoBox;\n\n\tprivate int lastPerfectTails \u003d 0;\n\tprivate int lastDamagedTails \u003d 0;\n\tprivate int catchesThisTick \u003d 0;\n\tprivate int lastTick \u003d 0;\n\tprivate int lastHunterXp \u003d -1;\n\tprivate boolean inHunterArea \u003d false;\n\n\tprivate void reset()\n\t{\n\t\tsession.reset();\n\t\tcatchesThisTick \u003d 0;\n\t\tlastTick \u003d 0;\n        lastPerfectTails \u003d 0;\n        lastDamagedTails \u003d 0;\n\n\t\tif (client.getGameState() \u003d\u003d GameState.LOGGED_IN)\n\t\t{\n\t\t\tlastHunterXp \u003d client.getSkillExperience(Skill.HUNTER);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlastHunterXp \u003d -1;\n\t\t}\n\t}\n\n\t@Override\n\tprotected void startUp() throws Exception\n\t{\n\t\tlog.info(\"Maniacal Hunter started!\");\n\t\tloadSession();\n\t\ticon \u003d itemManager.getImage(ManiacalHunterConstants.MANIACAL_ITEM_ID);\n\t\tinfoBox \u003d new ManiacalHunterInfoBox(this, config, icon);\n\t\tupdateDisplayMode();\n\t}\n\n\t@Override\n\tprotected void shutDown() throws Exception\n\t{\n\t\tlog.info(\"Maniacal Hunter stopped!\");\n\t\tinfoBoxManager.removeInfoBox(infoBox);\n\t\toverlayManager.remove(overlay);\n\t}\n\n\tprivate void loadSession()\n\t{\n\t\taggregateSession.setSessionStartTimeMillis(config.getSessionStartTime());\n\t\taggregateSession.setDurationMillis(config.getDuration());\n\t\taggregateSession.setMonkeysCaught(config.getMonkeysCaught());\n\t\taggregateSession.setTrapsLaid(config.getTrapsLaid());\n\t\taggregateSession.setLastTrapStatus(config.getLastTrapStatus());\n\t\taggregateSession.setPerfectTails(config.getPerfectTails());\n\t\taggregateSession.setDamagedTails(config.getDamagedTails());\n\t\taggregateSession.setDamagedTailsSincePerfect(config.getDamagedTailsSincePerfect());\n\t}\n\n\t@Subscribe\n\tpublic void onGameStateChanged(GameStateChanged gameStateChanged)\n\t{\n\t\tif (gameStateChanged.getGameState() \u003d\u003d GameState.LOGGED_IN)\n\t\t{\n\t\t\tlastHunterXp \u003d client.getSkillExperience(Skill.HUNTER);\n\t\t}\n\t}\n\n\t@Subscribe\n\tpublic void onItemContainerChanged(ItemContainerChanged event)\n\t{\n\t\tif (!isInManiacalHunterArea() || event.getContainerId() !\u003d InventoryID.INVENTORY.getId())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tint currentPerfectTails \u003d event.getItemContainer().count(ManiacalHunterConstants.PERFECT_MONKEY_TAIL);\n\t\tint currentDamagedTails \u003d event.getItemContainer().count(ManiacalHunterConstants.DAMAGED_MONKEY_TAIL);\n\n\t\tint perfectTailsGained \u003d currentPerfectTails - lastPerfectTails;\n\t\tint damagedTailsGained \u003d currentDamagedTails - lastDamagedTails;\n\n\t\tif (catchesThisTick \u003e 0 \u0026\u0026 (perfectTailsGained \u003e 0 || damagedTailsGained \u003e 0))\n\t\t{\n\t\t\tif (perfectTailsGained \u003e 0)\n\t\t\t{\n\t\t\t\thandlePerfectTailGain();\n\t\t\t}\n\t\t\tif (damagedTailsGained \u003e 0)\n\t\t\t{\n\t\t\t\thandleDamagedTailGain();\n\t\t\t}\n\t\t\thandleMonkeyCatch();\n\t\t\tcatchesThisTick--;\n\t\t}\n\n\t\tlastPerfectTails \u003d currentPerfectTails;\n\t\tlastDamagedTails \u003d currentDamagedTails;\n\t}\n\n\t@Subscribe\n\tpublic void onGameTick(GameTick tick)\n\t{\n  \n        if (!isInManiacalHunterArea())\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (client.getTickCount() !\u003d lastTick)\n\t\t{\n\t\t\tcatchesThisTick \u003d 0;\n\t\t\tlastTick \u003d client.getTickCount();\n        }\n\t\tif (session.getSessionStartTime() !\u003d null)\n\t\t{\n\t\t\tsession.setDuration(Duration.between(session.getSessionStartTime(), Instant.now()));\n\t\t}\n\t\tif (aggregateSession.getSessionStartTime() !\u003d null)\n\t\t{\n\t\t\taggregateSession.setDuration(Duration.between(aggregateSession.getSessionStartTime(), Instant.now()));\n\t\t\tconfig.setDuration(aggregateSession.getDurationMillis());\n\t\t}\n\t}\n\n\t@Subscribe\n\tpublic void onPlayerSpawned(PlayerSpawned event)\n\t{\n\t\tif (event.getPlayer() !\u003d client.getLocalPlayer())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tboolean currentlyInArea \u003d isInManiacalHunterArea();\n\t\tif (currentlyInArea)\n\t\t{\n\t\t\tinHunterArea \u003d true;\n\t\t\tif (config.autoResetMode() \u003d\u003d ResetMode.ON_ENTER_AREA)\n\t\t\t{\n\t\t\t\treset();\n\t\t\t}\n\t\t}\n\t}\n\n\t@Subscribe\n\tpublic void onPlayerDespawned(PlayerDespawned event)\n\t{\n\t\tif (event.getPlayer() !\u003d client.getLocalPlayer())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (inHunterArea)\n\t\t{\n\t\t\tif (config.autoResetMode() \u003d\u003d ResetMode.ON_LEAVE_AREA)\n\t\t\t{\n\t\t\t\treset();\n\t\t\t}\n\t\t\tinHunterArea \u003d false;\n\t\t}\n\t}\n\n\tprivate boolean isInManiacalHunterArea()\n\t{\n\t\treturn client.getLocalPlayer() !\u003d null \u0026\u0026 client.getLocalPlayer().getWorldLocation().getRegionID() \u003d\u003d ManiacalHunterConstants.MANIACAL_HUNTER_REGION;\n\t}\n\n\t@Subscribe\n\tpublic void onStatChanged(StatChanged statChanged)\n\t{\n\t\tif (statChanged.getSkill() !\u003d Skill.HUNTER || !isInManiacalHunterArea())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (lastHunterXp \u003d\u003d -1)\n\t\t{\n\t\t\tlastHunterXp \u003d statChanged.getXp();\n\t\t\treturn;\n\t\t}\n\n\t\tint currentXp \u003d statChanged.getXp();\n\t\tint gainedXp \u003d currentXp - lastHunterXp;\n\n\t\tif (gainedXp \u003e 0 \u0026\u0026 gainedXp % ManiacalHunterConstants.MANIACAL_MONKEY_XP \u003d\u003d 0)\n\t\t{\n\t\t\tcatchesThisTick +\u003d gainedXp / ManiacalHunterConstants.MANIACAL_MONKEY_XP;\n\t\t}\n\t\t\n\t\tlastHunterXp \u003d currentXp;\n\n\t\tif (gainedXp \u003e 0)\n\t\t{\n\t\t\tif (session.getSessionStartTime() \u003d\u003d null)\n\t\t\t{\n\t\t\t\tsession.startSession();\n\t\t\t}\n\n\t\t\tif (aggregateSession.getSessionStartTime() \u003d\u003d null)\n\t\t\t{\n\t\t\t\taggregateSession.startSession();\n\t\t\t\tconfig.setSessionStartTime(aggregateSession.getSessionStartTimeMillis());\n\t\t\t}\n\t\t}\n\t}\n  \n\tprivate static final int MAX_DISTANCE \u003d 2;\n\n\t@Subscribe\n\tpublic void onGameObjectSpawned(GameObjectSpawned event)\n\t{\n\t\tif (!isInManiacalHunterArea())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tGameObject gameObject \u003d event.getGameObject();\n\t\tif (gameObject \u003d\u003d null\n\t\t\t|| !ManiacalHunterConstants.BOULDER_TRAP_IDS.contains(gameObject.getId())\n\t\t\t|| client.getLocalPlayer().getWorldLocation().distanceTo(gameObject.getWorldLocation()) \u003e MAX_DISTANCE)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tint id \u003d gameObject.getId();\n\n\t\tif (id \u003d\u003d ManiacalHunterConstants.SET_BOULDER_TRAP)\n\t\t{\n\t\t\thandleTrapLaid();\n\t\t}\n\t\telse if (id \u003d\u003d ManiacalHunterConstants.TRIGGERED_BOULDER_TRAP_1 || id \u003d\u003d ManiacalHunterConstants.TRIGGERED_BOULDER_TRAP_2)\n\t\t{\n\t\t\tupdateLastTrapStatus(\"Trap triggered\");\n\t\t}\n\t\telse if (id \u003d\u003d ManiacalHunterConstants.CAUGHT_MONKEY_BOULDER_1 || id \u003d\u003d ManiacalHunterConstants.CAUGHT_MONKEY_BOULDER_2)\n\t\t{\n\t\t\tupdateLastTrapStatus(\"Monkey caught\");\n\t\t}\n\t}\n\n\tprivate void handleMonkeyCatch()\n\t{\n\t\tsession.incrementMonkeysCaught();\n\t\taggregateSession.incrementMonkeysCaught();\n\t\tconfig.setMonkeysCaught(aggregateSession.getMonkeysCaught());\n\t\tif (config.milestoneNotification() \u0026\u0026 session.getMonkeysCaught() \u003e 0 \u0026\u0026 session.getMonkeysCaught() % config.milestoneInterval() \u003d\u003d 0)\n\t\t{\n\t\t\tnotifier.notify(\"Maniacal Hunter milestone: \" + session.getMonkeysCaught() + \" monkeys caught!\");\n\t\t}\n\t}\n\n\tprivate void handlePerfectTailGain() {\n\t\tsession.incrementPerfectTails();\n\t\taggregateSession.incrementPerfectTails();\n\t\tconfig.setPerfectTails(aggregateSession.getPerfectTails());\n\t\tconfig.setDamagedTailsSincePerfect(aggregateSession.getDamagedTailsSincePerfect());\n\t}\n\n\tprivate void handleDamagedTailGain() {\n\t\tsession.incrementDamagedTails();\n\t\taggregateSession.incrementDamagedTails();\n\t\tconfig.setDamagedTails(aggregateSession.getDamagedTails());\n\t\tconfig.setDamagedTailsSincePerfect(aggregateSession.getDamagedTailsSincePerfect());\n\t}\n\n\tprivate void handleTrapLaid() {\n\t\tsession.incrementTrapsLaid();\n\t\taggregateSession.incrementTrapsLaid();\n\t\tconfig.setTrapsLaid(aggregateSession.getTrapsLaid());\n\t\tupdateLastTrapStatus(\"Trap set\");\n\t}\n\n\tprivate void updateLastTrapStatus(String status) {\n\t\tsession.setLastTrapStatus(status);\n\t\taggregateSession.setLastTrapStatus(status);\n\t\tconfig.setLastTrapStatus(aggregateSession.getLastTrapStatus());\n\t}\n\n\t@Provides\n\tManiacalHunterConfig provideConfig(ConfigManager configManager)\n\t{\n\t\treturn configManager.getConfig(ManiacalHunterConfig.class);\n\t}\n\n\t@Provides\n\tManiacalHunterSession provideSession()\n\t{\n\t\treturn new ManiacalHunterSession();\n\t}\n\n    @Subscribe\n\tpublic void onConfigChanged(ConfigChanged event)\n\t{\n\t\tif (!event.getGroup().equals(CONFIG_GROUP))\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (event.getKey().equals(RESET_BUTTON_KEY))\n\t\t{\n\t\t\tif (config.resetSession())\n\t\t\t{\n\t\t\t\treset();\n\t\t\t\tconfigManager.setConfiguration(CONFIG_GROUP, RESET_BUTTON_KEY, false);\n\t\t\t}\n\t\t}\n\t\tif (event.getKey().equals(CONDENSED_MODE_KEY))\n\t\t{\n\t\t\tupdateDisplayMode();\n\t\t}\n\t}\n\n\tprivate void updateDisplayMode()\n\t{\n\t\tinfoBoxManager.removeInfoBox(infoBox);\n\t\toverlayManager.remove(overlay);\n\t\tif (config.condensedMode())\n\t\t{\n\t\t\tinfoBoxManager.addInfoBox(infoBox);\n\t\t}\n\t\telse\n\t\t{\n\t\t\toverlayManager.add(overlay);\n\t\t}\n\t}\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterPlugin.java"},{"fileName":"ManiacalHunterSession.java","content":"package com.maniacalhunter;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport java.time.Duration;\nimport java.time.Instant;\n\npublic class ManiacalHunterSession\n{\n\tprivate static final int PERFECT_TAIL_DROP_CHANCE \u003d 5000;\n\tprivate static final double PERFECT_TAIL_DROP_RATE \u003d 1.0 / PERFECT_TAIL_DROP_CHANCE;\n\tprivate static final double MILLIS_PER_HOUR \u003d 3_600_000.0;\n\tprivate static final double MILLIS_PER_SECOND \u003d 1_000.0;\n\n    @Getter\n\t@Setter\n    private long sessionStartTimeMillis;\n\t@Getter\n\t@Setter\n    private long durationMillis;\n\t@Getter\n\t@Setter\n    private int monkeysCaught;\n\t@Getter\n\t@Setter\n    private int trapsLaid;\n\t@Getter\n    @Setter\n    private String lastTrapStatus;\n\t@Getter\n\t@Setter\n    private int perfectTails;\n\t@Getter\n\t@Setter\n    private int damagedTails;\n\t@Getter\n\t@Setter\n\tprivate int damagedTailsSincePerfect;\n\n\tpublic void startSession()\n\t{\n\t\tthis.sessionStartTimeMillis \u003d Instant.now().toEpochMilli();\n\t}\n\n\tpublic void reset()\n\t{\n\t\tthis.sessionStartTimeMillis \u003d 0;\n\t\tthis.durationMillis \u003d 0;\n\t\tthis.monkeysCaught \u003d 0;\n\t\tthis.trapsLaid \u003d 0;\n\t\tthis.lastTrapStatus \u003d \"N/A\";\n\t\tthis.perfectTails \u003d 0;\n\t\tthis.damagedTails \u003d 0;\n\t\tthis.damagedTailsSincePerfect \u003d 0;\n\t}\n\n\tpublic void incrementMonkeysCaught()\n\t{\n\t\tthis.monkeysCaught++;\n\t}\n\n\tpublic void incrementTrapsLaid()\n\t{\n\t\tthis.trapsLaid++;\n\t}\n\n\tpublic void incrementPerfectTails()\n\t{\n\t\tthis.perfectTails++;\n\t\tthis.damagedTailsSincePerfect \u003d 0;\n\t}\n\n\tpublic void incrementDamagedTails()\n\t{\n\t\tthis.damagedTails++;\n\t\tthis.damagedTailsSincePerfect++;\n\t}\n\n\tpublic double getLuckPercentage()\n\t{\n\t\tif (damagedTailsSincePerfect \u003d\u003d 0)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\t\t// This calculates the probability of getting at least one perfect tail in N trials,\n\t\t// which is 1 minus the probability of getting zero perfect tails.\n\t\treturn (1.0 - Math.pow(1.0 - PERFECT_TAIL_DROP_RATE, damagedTailsSincePerfect)) * 100;\n\t}\n\n\tpublic double getSuccessRate()\n\t{\n\t\tif (trapsLaid \u003d\u003d 0)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\t\treturn (double) monkeysCaught / trapsLaid * 100;\n\t}\n\n\tpublic double getMonkeysPerHour()\n\t{\n\t\tif (durationMillis \u003d\u003d 0)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\t\treturn (double) monkeysCaught / (durationMillis / MILLIS_PER_HOUR);\n\t}\n\n\tpublic double getAverageTimePerCatch()\n\t{\n\t\tif (monkeysCaught \u003d\u003d 0 || durationMillis \u003d\u003d 0)\n\t\t{\n\t\t\treturn 0;\n\t\t}\n\t\treturn (double) durationMillis / monkeysCaught / MILLIS_PER_SECOND;\n\t}\n\n\tpublic Instant getSessionStartTime()\n\t{\n\t\treturn sessionStartTimeMillis \u003d\u003d 0 ? null : Instant.ofEpochMilli(sessionStartTimeMillis);\n\t}\n\n\tpublic Duration getDuration()\n\t{\n\t\treturn durationMillis \u003d\u003d 0 ? null : Duration.ofMillis(durationMillis);\n\t}\n\n\tpublic void setDuration(Duration duration)\n\t{\n\t\tthis.durationMillis \u003d duration.toMillis();\n\t}\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ManiacalHunterSession.java"},{"fileName":"ResetMode.java","content":"package com.maniacalhunter;\n\npublic enum ResetMode\n{\n\tON_ENTER_AREA,\n\tON_LEAVE_AREA,\n\tNEVER\n}\n","filePath":"src\\main\\java\\com\\maniacalhunter\\ResetMode.java"},{"fileName":"ManiacalHunterPluginTest.java","content":"package com.maniacalhunter;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class ManiacalHunterPluginTest\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tExternalPluginManager.loadBuiltin(ManiacalHunterPlugin.class);\n\t\tRuneLite.main(args);\n\t}\n}","filePath":"src\\test\\java\\com\\maniacalhunter\\ManiacalHunterPluginTest.java"}]},{"commit":"1396d7db9515407518ca6a183d0a7d42498fb013","repository":"https://github.com/Droei/Droei-RuneLite-Plugins.git","internalName":"entity-masker","files":[{"fileName":"test.java","content":"this file does not actually exist, because the repo does not exist","filePath":"asker\\test.java"}]},{"commit":"cec3e358e668bf2846fc8c794eb52c4bbc18038b","repository":"https://github.com/hootisman/muted_level_jingles.git","internalName":"unmutedjingles","files":[{"fileName":"JingleData.java","content":"package hootisman.unmutedjingles.jingles;\n\nimport net.runelite.api.Skill;\n\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class JingleData {\n    // ***** Constants *****\n\n    static final Set\u003cInteger\u003e ATTACK_UNLOCKS \u003d\n            Stream.of(5, 10, 15, 20, 30, 40, 42, 50, 55,\n                    60, 65, 70, 75, 77, 78, 80, 82, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e COOKING_UNLOCKS \u003d\n            Stream.of(5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19,\n                    20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\n                    37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52,\n                    53, 54, 55, 57, 58, 59, 60, 62, 64, 65, 67, 68, 70, 72, 73, 75,\n                    80, 82, 84, 85, 88, 90, 91, 92, 95, 96, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e CRAFTING_UNLOCKS \u003d\n            Stream.of(3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,\n                    18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33,\n                    34, 35, 36, 37, 38, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50,\n                    51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66,\n                    67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 82, 83,\n                    84, 85, 86, 87, 88, 89, 90, 92, 95, 98, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e DEFENCE_UNLOCKS \u003d\n            Stream.of(5, 10, 20, 25, 30, 35, 40, 42, 45, 50,\n                    55, 60, 65, 70, 75, 78, 80, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e FARMING_UNLOCKS \u003d\n            Stream.of(2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,\n                    19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34,\n                    35, 36, 38, 39, 40, 42, 44, 45, 46, 47, 48, 49, 50, 51, 53, 54,\n                    55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 67, 68, 69, 70, 72,\n                    73, 74, 75, 76, 79, 81, 83, 84, 85, 90, 91, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e FIREMAKING_UNLOCKS \u003d\n            Stream.of(4, 5, 11, 12, 15, 16, 20, 21, 25, 26, 30, 33, 35, 40,\n                    42, 43, 45, 47, 49, 50, 52, 55, 60, 62, 65, 66, 70, 75, 80, 85, 90, 95, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e FISHING_UNLOCKS \u003d\n            Stream.of(5, 7, 10, 15, 16, 20, 23, 25, 28, 29, 30, 33, 34, 35,\n                    38, 39, 40, 43, 45, 46, 47, 48, 50, 53, 55, 56, 58, 60, 61, 62,\n                    65, 68, 70, 71, 73, 75, 76, 79, 80, 81, 82, 85, 87, 90, 91, 96, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e FLETCHING_UNLOCKS \u003d\n            Stream.of(3, 5, 7, 9, 10, 11, 15, 17, 18, 20, 22, 24, 25, 26,\n                    27, 30, 32, 33, 35, 37, 38, 39, 40, 41, 42, 43, 45, 46, 47, 48,\n                    49, 50, 51, 52, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 65, 67,\n                    69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 80, 81, 82, 84, 85, 87,\n                    90, 92, 95, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e HERBLORE_UNLOCKS \u003d\n            Stream.of(3, 4, 5, 6, 8, 9, 10, 11, 12, 14, 15, 18, 19, 20, 22,\n                    24, 25, 26, 29, 30, 31, 33, 34, 36, 37, 38, 39, 40, 42, 44, 45,\n                    47, 48, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,\n                    65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80,\n                    81, 82, 83, 84, 85, 86, 87, 88, 90, 91, 92, 94, 97, 98, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e MAGIC_UNLOCKS \u003d\n            Stream.of(3, 4, 5, 6, 7, 9, 11, 13, 14, 15, 16, 17, 19, 20, 21,\n                    23, 24, 25, 27, 28, 29, 30, 31, 33, 34, 35, 37, 38, 39, 40, 41,\n                    42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57,\n                    58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73,\n                    74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89,\n                    90, 91, 92, 93, 94, 95, 96, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e MINING_UNLOCKS \u003d\n            Stream.of(5, 6, 10, 11, 14, 15, 17, 20, 21, 22, 25, 30, 31, 35,\n                    37, 38, 39, 40, 41, 42, 43, 45, 50, 52, 55, 57, 60, 61, 64, 65,\n                    67, 68, 70, 71, 72, 75, 78, 80, 81, 82, 85, 90, 92, 97, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e PRAYER_UNLOCKS \u003d\n            Stream.of(3, 4, 7, 8, 9, 10, 12, 13, 16, 19, 20, 22, 24, 25, 26,\n                    27, 28, 30, 31, 32, 34, 36, 37, 40, 42, 43, 44, 45, 46, 47, 48,\n                    49, 50, 52, 54, 55, 56, 60, 62, 63, 64, 65, 68, 70, 72, 74, 75,\n                    76, 77, 80, 84, 85, 88, 90, 92, 96, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e RANGED_UNLOCKS \u003d\n            Stream.of(5, 10, 16, 19, 20, 21, 25, 26, 28, 30, 31, 35, 36, 37,\n                    39, 40, 42, 45, 46, 47, 50, 55, 60, 61, 62, 64, 65, 66, 70, 75, 77, 80, 85, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e RUNECRAFT_UNLOCKS \u003d\n            Stream.of(2, 5, 6, 9, 10, 11, 13, 14, 15, 19, 20, 22, 23, 25,\n                    26, 27, 28, 30, 33, 35, 38, 40, 42, 44, 46, 48, 49, 50, 52, 54,\n                    55, 56, 57, 59, 60, 65, 66, 70, 74, 75, 76, 77, 78, 79, 81, 82,\n                    84, 85, 88, 90, 91, 92, 95, 98, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e SLAYER_UNLOCKS \u003d\n            Stream.of(5, 7, 10, 15, 17, 18, 20, 22, 25, 30, 32, 33, 35, 37,\n                    38, 39, 40, 42, 44, 45, 47, 48, 50, 52, 55, 56, 57, 58, 60, 62,\n                    63, 65, 66, 68, 69, 70, 72, 75, 77, 80, 82, 83, 84, 85, 87, 90,\n                    91, 92, 93, 95, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e THIEVING_UNLOCKS \u003d\n            Stream.of(2, 5, 10, 13, 14, 15, 16, 17, 20, 21, 22, 23, 25, 27,\n                    28, 30, 31, 32, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45,\n                    46, 47, 48, 49, 50, 51, 52, 53, 55, 56, 57, 58, 59, 60, 61, 62,\n                    64, 65, 66, 70, 71, 72, 75, 78, 80, 81, 82, 84, 85, 90, 91, 93, 94, 95, 99).collect(Collectors.toUnmodifiableSet());\n    static final Set\u003cInteger\u003e WOODCUTTING_UNLOCKS \u003d\n            Stream.of(6, 10, 11, 12, 15, 19, 20, 21, 24, 27, 29, 30, 31, 35,\n                    36, 40, 41, 42, 44, 45, 48, 50, 54, 55, 56, 57, 60, 61, 62, 65,\n                    68, 70, 71, 72, 75, 84, 90, 96, 99).collect(Collectors.toUnmodifiableSet());\n\n    //todo: test all durations\n    //(duration in seconds)/0.6\n    public static Map\u003cSkill, Function\u003cInteger, Integer\u003e\u003e JINGLE_DURATIONS \u003d Map.ofEntries(\n            Map.entry(Skill.AGILITY, level -\u003e 10),\n            Map.entry(Skill.ATTACK, getRegularUnlocksFunction(6,13,ATTACK_UNLOCKS)),\n            Map.entry(Skill.CONSTRUCTION, level -\u003e 10),\n            Map.entry(Skill.COOKING, getRegularUnlocksFunction(7,6,COOKING_UNLOCKS)),\n            Map.entry(Skill.CRAFTING, getRegularUnlocksFunction(16,10,CRAFTING_UNLOCKS)),\n            Map.entry(Skill.DEFENCE, getRegularUnlocksFunction(9,12,DEFENCE_UNLOCKS)),\n            Map.entry(Skill.FARMING, getRegularUnlocksFunction(7,12,FARMING_UNLOCKS)),\n            Map.entry(Skill.FIREMAKING, getRegularUnlocksFunction(10,10,FIREMAKING_UNLOCKS)),\n            Map.entry(Skill.FISHING, getRegularUnlocksFunction(11,9,FISHING_UNLOCKS)),\n            Map.entry(Skill.FLETCHING, getRegularUnlocksFunction(9,8,FLETCHING_UNLOCKS)),\n            Map.entry(Skill.HERBLORE, getRegularUnlocksFunction(5,10,HERBLORE_UNLOCKS)),\n            Map.entry(Skill.HITPOINTS, level -\u003e level \u003c 50 ? 5 : 8),\n            Map.entry(Skill.HUNTER, level -\u003e 12),\n            Map.entry(Skill.MAGIC, getRegularUnlocksFunction(11,11,MAGIC_UNLOCKS)),\n            Map.entry(Skill.MINING, getRegularUnlocksFunction(10,10,MINING_UNLOCKS)),\n            Map.entry(Skill.PRAYER, getRegularUnlocksFunction(12,12,PRAYER_UNLOCKS)),\n            Map.entry(Skill.RANGED, getRegularUnlocksFunction(8,9,RANGED_UNLOCKS)),\n            Map.entry(Skill.RUNECRAFT, getRegularUnlocksFunction(13,13,RUNECRAFT_UNLOCKS)),\n            Map.entry(Skill.SLAYER, getRegularUnlocksFunction(10,15,SLAYER_UNLOCKS)),\n            Map.entry(Skill.SMITHING, level -\u003e 9),     //every level is an unlock\n            Map.entry(Skill.STRENGTH, level -\u003e level \u003c 50 ? 10 : 8),\n            Map.entry(Skill.THIEVING, getRegularUnlocksFunction(11,8,THIEVING_UNLOCKS)),\n            Map.entry(Skill.WOODCUTTING, getRegularUnlocksFunction(10,11,WOODCUTTING_UNLOCKS))\n    );\n\n    // ***** Mutable *****\n    public static Map\u003cSkill, Integer\u003e SKILL_LEVELS \u003d new HashMap\u003c\u003e();\n    static {\n        SKILL_LEVELS.put(Skill.AGILITY, -1);\n        SKILL_LEVELS.put(Skill.ATTACK, -1);\n        SKILL_LEVELS.put(Skill.CONSTRUCTION, -1);\n        SKILL_LEVELS.put(Skill.COOKING, -1);\n        SKILL_LEVELS.put(Skill.CRAFTING, -1);\n        SKILL_LEVELS.put(Skill.DEFENCE, -1);\n        SKILL_LEVELS.put(Skill.FARMING, -1);\n        SKILL_LEVELS.put(Skill.FIREMAKING, -1);\n        SKILL_LEVELS.put(Skill.FISHING, -1);\n        SKILL_LEVELS.put(Skill.FLETCHING, -1);\n        SKILL_LEVELS.put(Skill.HERBLORE, -1);\n        SKILL_LEVELS.put(Skill.HITPOINTS, -1);\n        SKILL_LEVELS.put(Skill.HUNTER, -1);\n        SKILL_LEVELS.put(Skill.MAGIC, -1);\n        SKILL_LEVELS.put(Skill.MINING, -1);\n        SKILL_LEVELS.put(Skill.PRAYER, -1);\n        SKILL_LEVELS.put(Skill.RANGED, -1);\n        SKILL_LEVELS.put(Skill.RUNECRAFT, -1);\n        SKILL_LEVELS.put(Skill.SLAYER, -1);\n        SKILL_LEVELS.put(Skill.SMITHING, -1);\n        SKILL_LEVELS.put(Skill.STRENGTH, -1);\n        SKILL_LEVELS.put(Skill.THIEVING, -1);\n        SKILL_LEVELS.put(Skill.WOODCUTTING, -1);\n    };\n\n    //true if level was set at game start\n    public static boolean isLevelInited(Skill skill){\n        return SKILL_LEVELS.get(skill) !\u003d -1;\n    }\n\n    static Function\u003cInteger, Integer\u003e getRegularUnlocksFunction(int defaultDuration, int unlockDuration, Set\u003cInteger\u003e levelsWithUnlocks){\n        return level -\u003e levelsWithUnlocks.contains(level) ? unlockDuration : defaultDuration;\n    }\n}\n","filePath":"src\\main\\java\\hootisman\\unmutedjingles\\jingles\\JingleData.java"},{"fileName":"JingleManager.java","content":"package hootisman.unmutedjingles.jingles;\n\nimport hootisman.unmutedjingles.UnmutedJinglesConfig;\nimport lombok.*;\nimport lombok.extern.slf4j.Slf4j;\nimport net.runelite.api.Client;\nimport net.runelite.api.Skill;\nimport net.runelite.client.callback.ClientThread;\nimport net.runelite.client.plugins.music.MusicConfig;\nimport javax.annotation.Nullable;\nimport javax.inject.Inject;\nimport javax.inject.Singleton;\nimport java.util.LinkedList;\nimport java.util.Objects;\n\n@Slf4j\n@Singleton\npublic class JingleManager {\n\n    @Inject\n    private Client client;\n\n    @Setter\n    @Nullable\n    private MusicConfig musicPluginConfig;\n\n    @Inject\n    private ClientThread clientThread;\n\n    @Inject\n    private UnmutedJinglesConfig config;\n\n    private int jingleTick;\n\n    private LinkedList\u003cJingle\u003e jingleQueue;\n\n\n    public JingleManager(){\n        jingleTick \u003d -1;\n        jingleQueue \u003d new LinkedList\u003c\u003e();\n    }\n\n\n\n    public void queueJingle(Skill skill, int level){\n        if (jingleQueue.isEmpty() \u0026\u0026 !isMusicMuted()) return;\n\n        int duration \u003d JingleData.JINGLE_DURATIONS.get(skill).apply(level);\n        log.debug(\"*j* adding \" + skill +\" jingle of \" + duration);\n        jingleQueue.add(Jingle.of(duration, false));\n\n        if (!isWindowClosed()){\n            //there is an open window\n            return;\n        }\n\n        startJingle();\n    }\n\n    private void startJingle(){\n        Jingle jingle \u003d jingleQueue.getFirst();\n\n        muteMusic(false);\n        log.debug(\"*j* unmuting jingle for \" + jingle.duration + \" ticks...\");\n        jingleTick \u003d 0;\n        jingle.setJinglePlaying(true);\n    }\n\n    public void endJingle(){\n        muteMusic(true);\n        log.debug(\"*j* jingle ended, muting...\");\n        jingleTick \u003d -1;\n        jingleQueue.remove();\n    }\n\n    public void tickJingle(){\n        if (jingleQueue.isEmpty()) return;\n\n        if (isWindowClosed() \u0026\u0026 !jingleQueue.getFirst().isJinglePlaying) startJingle();\n\n        if (jingleTick \u003e jingleQueue.getFirst().duration - 1){\n            endJingle();\n        }else if (jingleTick !\u003d -1){\n            jingleTick +\u003d 1;\n            log.debug(\"*G* \" + jingleTick);\n        }\n    }\n\n    void muteMusic(boolean shouldMute){\n        int val;\n        if (musicPluginConfig \u003d\u003d null || !musicPluginConfig.granularSliders()){\n            val \u003d shouldMute ? 0 : config.jingleVolume();\n            client.setMusicVolume(val);\n        }else{\n            val \u003d shouldMute ? -config.jingleVolume() : config.jingleVolume();\n            musicPluginConfig.setMusicVolume(val);\n        }\n\n    }\n\n    //if widget S161.16 has 1 or more children, then return true\n    public boolean isWindowClosed() {\n        return Objects.requireNonNull(client.getWidget(161, 16)).getNestedChildren().length \u003d\u003d 0;\n    }\n\n    public boolean isMusicMuted(){\n        return client.getMusicVolume() \u003d\u003d 0;\n    }\n\n    @AllArgsConstructor(access \u003d AccessLevel.PROTECTED, staticName \u003d \"of\")\n    private static class Jingle {\n        int duration;\n        @Setter\n        boolean isJinglePlaying;    //when music is unmuted we might need to know if its because of user or jingle\n    }\n}\n","filePath":"src\\main\\java\\hootisman\\unmutedjingles\\jingles\\JingleManager.java"},{"fileName":"UnmutedJinglesConfig.java","content":"package hootisman.unmutedjingles;\n\nimport net.runelite.client.config.Config;\nimport net.runelite.client.config.ConfigGroup;\nimport net.runelite.client.config.ConfigItem;\nimport net.runelite.client.config.Range;\n\n@ConfigGroup(\"unmutedjingles\")\npublic interface UnmutedJinglesConfig extends Config\n{\n\t@Range(max\u003d255)\n\t@ConfigItem(\n\t\tkeyName \u003d \"jingleVolume\",\n\t\tname \u003d \"Jingle Volume\",\n\t\tdescription \u003d \"Volume when jingles are played\"\n\t)\n\tdefault int jingleVolume()\n\t{\n\t\treturn 50;\n\t}\n\n}\n","filePath":"src\\main\\java\\hootisman\\unmutedjingles\\UnmutedJinglesConfig.java"},{"fileName":"UnmutedJinglesPlugin.java","content":"package hootisman.unmutedjingles;\n\nimport com.google.inject.Provides;\nimport javax.inject.Inject;\n\nimport hootisman.unmutedjingles.jingles.JingleData;\nimport hootisman.unmutedjingles.jingles.JingleManager;\nimport lombok.extern.slf4j.Slf4j;\nimport net.runelite.api.*;\nimport net.runelite.api.events.*;\nimport net.runelite.client.callback.ClientThread;\nimport net.runelite.client.config.ConfigManager;\nimport net.runelite.client.eventbus.Subscribe;\nimport net.runelite.client.events.PluginChanged;\nimport net.runelite.client.plugins.Plugin;\nimport net.runelite.client.plugins.PluginDependency;\nimport net.runelite.client.plugins.PluginDescriptor;\nimport net.runelite.client.plugins.PluginManager;\nimport net.runelite.client.plugins.music.MusicConfig;\nimport net.runelite.client.plugins.music.MusicPlugin;\n\nimport java.util.List;\n\n@Slf4j\n@PluginDescriptor(\n\tname \u003d \"Unmuted Jingles\"\n)\n@PluginDependency(MusicPlugin.class)\npublic class UnmutedJinglesPlugin extends Plugin\n{\n\t@Inject\n\tprivate Client client;\n\n\t@Inject\n\tprivate ClientThread clientThread;\n\n\t@Inject\n\tprivate MusicPlugin musicPlugin;\n\n\t@Inject\n\tprivate PluginManager pluginManager;\n\n\t@Inject\n\tprivate UnmutedJinglesConfig config;\n\n\t@Inject\n\tprivate JingleManager jingleManager;\n\n\t@Override\n\tprotected void startUp() throws Exception\n\t{\n\t\tlog.debug(\"*START* Setting music plugin; isEnabled\" + pluginManager.isPluginEnabled(musicPlugin));\n\t\tjingleManager.setMusicPluginConfig(pluginManager.isPluginEnabled(musicPlugin) ? (MusicConfig) pluginManager.getPluginConfigProxy(musicPlugin) : null);\n\t}\n\n\n\t@Subscribe\n\tpublic void onPluginChanged(PluginChanged e){\n\t\tif (!e.getPlugin().equals(musicPlugin)) return;\n\n\t\tlog.debug(\"*P* Setting music plugin; isLoaded\" + e.isLoaded());\n\t\tjingleManager.setMusicPluginConfig(e.isLoaded() ? (MusicConfig) pluginManager.getPluginConfigProxy(musicPlugin) : null);\n\n\t}\n\n\t@Subscribe\n\tpublic void onStatChanged(StatChanged e){\n\t\tSkill skill \u003d e.getSkill();\n\t\tint level \u003d e.getLevel();\n\t\tint listedLevel \u003d JingleData.SKILL_LEVELS.get(skill);\n\n\t\tlog.debug(\"*stat* \" + e.toString());\n\n\t\t//level never changed\n\t\tif (listedLevel \u003d\u003d level) return;\n\n\t\tif (JingleData.isLevelInited(skill)){\n\t\t\tjingleManager.queueJingle(skill, level);\n        }\n\n\t\tJingleData.SKILL_LEVELS.put(skill, level);\n\t}\n\n\n\n\n\t@Subscribe\n\tpublic void onGameTick(GameTick e){\n\t\tjingleManager.tickJingle();\n\n\t\t/*\n\t\tList\u003cMidiRequest\u003e reqs \u003d client.getActiveMidiRequests();\n\t\tif (!reqs.isEmpty()){\n\t\t\treqs.forEach(req -\u003e {\n\t\t\t\tlog.info(\"*G* req \" + req.getArchiveId() + \" \" + req.isJingle());\n\t\t\t});\n\n\t\t}\n\t\t */\n\t}\n\n\t/*\n\t@Subscribe\n\tpublic void onWidgetLoaded(WidgetLoaded e){\n\t\t//todo: get other jingles to work\n\t\tlog.info(\"*W* \" + e.toString());\n\n\t\tif(e.getGroupId() \u003d\u003d 193){\n\t\t\tWidget icon  \u003d client.getWidget(ComponentID.DIALOG_SPRITE_SPRITE);\n\n\t\t\tif (icon !\u003d null \u0026\u0026 icon.getItemId() \u003d\u003d 2996){\n\t\t\t\tlog.info(\"*W* This is a brimhaven ticket!\");\n\t\t\t\tstartJingle();\n\t\t\t}\n\t\t}\n\n\t\t//level up window id\n\t\t//else if(e.getGroupId() \u003d\u003d 233){\n\t\t//\tstartJingle();\n\t\t//}\n\t}\n\n\t */\n\n\n\t@Provides\n\tUnmutedJinglesConfig provideConfig(ConfigManager configManager)\n\t{\n\t\treturn configManager.getConfig(UnmutedJinglesConfig.class);\n\t}\n}\n","filePath":"src\\main\\java\\hootisman\\unmutedjingles\\UnmutedJinglesPlugin.java"},{"fileName":"UnmutedJinglesPluginTest.java","content":"package hootisman.unmutedjingles;\n\nimport net.runelite.client.RuneLite;\nimport net.runelite.client.externalplugins.ExternalPluginManager;\n\npublic class UnmutedJinglesPluginTest\n{\n\tpublic static void main(String[] args) throws Exception\n\t{\n\t\tExternalPluginManager.loadBuiltin(UnmutedJinglesPlugin.class);\n\t\tRuneLite.main(args);\n\t}\n}","filePath":"src\\test\\java\\hootisman\\unmutedjingles\\UnmutedJinglesPluginTest.java"}]}]