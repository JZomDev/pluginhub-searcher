package com.chatsounds;

import com.google.inject.Provides;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.List;
import java.util.concurrent.CopyOnWriteArrayList;
import javax.inject.Inject;
import javax.sound.sampled.LineUnavailableException;
import javax.sound.sampled.UnsupportedAudioFileException;
import lombok.extern.slf4j.Slf4j;
import net.runelite.api.ChatMessageType;
import net.runelite.api.Client;
import net.runelite.api.GameState;
import net.runelite.api.Player;
import net.runelite.api.events.ChatMessage;
import net.runelite.client.RuneLite;
import net.runelite.client.audio.AudioPlayer;
import net.runelite.client.config.ConfigManager;
import net.runelite.client.eventbus.Subscribe;
import net.runelite.client.events.ConfigChanged;
import net.runelite.client.plugins.Plugin;
import net.runelite.client.plugins.PluginDescriptor;
import net.runelite.client.util.Text;

@Slf4j
@PluginDescriptor(
	name = "Chat Sounds"
)
public class ChatSoundsPlugin extends Plugin
{
	private static final String HAS_JOINED = " has joined.".toLowerCase();;
	private static final String HAS_LEFT = " has left.".toLowerCase();;
	private static final String CS_CHAT_CHANNEL_MSG_1 = "Attempting to join chat-channel...".toLowerCase();
	private static final String CS_CHAT_CHANNEL_MSG_2 = "Now talking in chat-channel ".toLowerCase();
	private static final String CS_CHAT_CHANNEL_MSG_3 = "To talk, start each line of chat with the / symbol.".toLowerCase();
	private static final String CS_CLAN_MSG = "To talk in your clan's channel, start each line of chat with // or /c.".toLowerCase();
	private static final String CS_CLAN_GUEST_MSG_1 = "You are now a guest of ".toLowerCase();
	private static final String CS_CLAN_GUEST_MSG_2 = "To talk, start each line of chat with /// or /gc.".toLowerCase();
	private static final String CS_CLAN_GUEST_MSG_3 = "Attempting to reconnect to guest channel automatically...".toLowerCase();
	private static final String CS_GIM_MSG = "To talk in your Ironman Group's channel, start each line of chat with //// or /g.".toLowerCase();

	private static final File CS_DIR = new File(RuneLite.RUNELITE_DIR.getPath() + File.separator + "chat-sounds");
	private static final File CS_DEFAULT = new File(CS_DIR, "cs_default.wav");
	private static final File CS_PUBLIC = new File(CS_DIR, "cs_public.wav");
	private static final File CS_PRIVATE = new File(CS_DIR, "cs_private.wav");
	private static final File CS_CHAT_CHANNEL = new File(CS_DIR,"cs_chat_channel.wav");
	private static final File CS_CHAT_CHANNEL_BROADCAST = new File(CS_DIR, "cs_chat_channel_broadcast.wave");
	private static final File CS_CLAN = new File(CS_DIR, "cs_clan.wav");
	private static final File CS_CLAN_BROADCAST = new File(CS_DIR, "cs_clan_broadcast.wav");
	private static final File CS_CLAN_GUEST = new File(CS_DIR, "cs_clan_guest.wav");
	private static final File CS_CLAN_GUEST_BROADCAST = new File(CS_DIR, "cs_clan_guest_broadcast.wav");
	private static final File CS_GIM = new File(CS_DIR, "cs_gim.wav");
	private static final File CS_GIM_BROADCAST = new File(CS_DIR, "cs_gim_broadcast.wav");
	private static final File CS_TRADE_REQUEST = new File(CS_DIR, "cs_trade_req.wav");
	private static final File CS_DUEL_REQUEST = new File(CS_DIR, "cs_duel_req.wav");
	private static final File[] CS_FILES = new File[]{
		CS_DEFAULT,
		CS_PUBLIC,
		CS_PRIVATE,
		CS_CHAT_CHANNEL,
		CS_CHAT_CHANNEL_BROADCAST,
		CS_CLAN,
		CS_CLAN_BROADCAST,
		CS_CLAN_GUEST,
		CS_CLAN_GUEST_BROADCAST,
		CS_GIM,
		CS_GIM_BROADCAST,
		CS_TRADE_REQUEST,
		CS_DUEL_REQUEST
	};

	private final AudioPlayer audioPlayer = new AudioPlayer();
	private List<String> allIgnored = new CopyOnWriteArrayList<>();
	private List<String> publicIgnored = new CopyOnWriteArrayList<>();
	private List<String> privateIgnored = new CopyOnWriteArrayList<>();
	private List<String> chatChannelIgnored = new CopyOnWriteArrayList<>();
	private List<String> clanIgnored = new CopyOnWriteArrayList<>();
	private List<String> guestClanIgnored = new CopyOnWriteArrayList<>();
	private List<String> gimIgnored = new CopyOnWriteArrayList<>();
	private List<String> tradeIgnored = new CopyOnWriteArrayList<>();
	private List<String> duelIgnored = new CopyOnWriteArrayList<>();

	@Inject
	private Client client;

	@Inject
	private ChatSoundsConfig config;

	@Override
	protected void startUp()
	{
		initSoundFiles();
		updateLists();
	}

	@Override
	protected void shutDown()
	{
		publicIgnored = null;
		privateIgnored = null;
		chatChannelIgnored = null;
		clanIgnored = null;
		guestClanIgnored = null;
		gimIgnored = null;
		tradeIgnored = null;
		duelIgnored = null;
	}

	@Subscribe
	public void onChatMessage(ChatMessage chatMessage)
	{
		Player player = client.getLocalPlayer();
		String playerName = player.getName() != null ? player.getName() : "";
		String cleanName = Text.sanitize(chatMessage.getName());
		ChatMessageType type = chatMessage.getType();
		String msg = Text.standardize(chatMessage.getMessage());

		// Turn off sounds for yourself or when not logged in.
		if (player == null ||
				client.getGameState() != GameState.LOGGED_IN ||
				cleanName.equalsIgnoreCase(Text.sanitize(playerName))) {
			return;
		}

		// Turn off sounds for global settings.
		if (shouldIgnorePlayer(allIgnored, cleanName) || config.allChats() == GlobalSoundsMode.ON) {
			return;
		}

		// Check for the various chat types in the game.
		switch (type) {
			case MODCHAT:
			case PUBLICCHAT:
				if (shouldIgnorePlayer(publicIgnored, cleanName)) {
					return;
				}
				playSound(config.publicChat(), CS_PUBLIC, config.publicVolume());
				break;

			case MODPRIVATECHAT:
			case PRIVATECHAT:
				if (shouldIgnorePlayer(privateIgnored, cleanName)) {
					return;
				}
				playSound(config.privateChat(), CS_PRIVATE, config.privateVolume());
				break;

			case FRIENDSCHAT:
				if (shouldIgnorePlayer(chatChannelIgnored, cleanName)) {
					return;
				}
				playSound(config.chatChannel(), CS_CHAT_CHANNEL, config.chatChannelVolume());
				break;

			case FRIENDSCHATNOTIFICATION:
				if (shouldAlertOnJoinOrLeft(msg, config.chatChannelIgnoreJoinLeave()) &&
						!msg.equals(CS_CHAT_CHANNEL_MSG_1) && !msg.startsWith(CS_CHAT_CHANNEL_MSG_2) &&
						!msg.equals(CS_CHAT_CHANNEL_MSG_3)) {
					playSound(config.chatChannelBroadcast(), CS_CHAT_CHANNEL_BROADCAST, config.chatChannelVolume());
				}
				break;

			case CLAN_CHAT:
				if (shouldIgnorePlayer(clanIgnored, cleanName)) {
					return;
				}
				playSound(config.clanChat(), CS_CLAN, config.clanVolume());
				break;

			case CLAN_MESSAGE:
				if (shouldAlertOnJoinOrLeft(msg, config.clanIgnoreJoinLeave()) && !msg.equals(CS_CLAN_MSG)) {
					playSound(config.clanBroadcast(), CS_CLAN_BROADCAST, config.clanVolume());
				}
				break;

			case CLAN_GUEST_CHAT:
				if (shouldIgnorePlayer(guestClanIgnored, cleanName)) {
					return;
				}
				playSound(config.guestClanChat(), CS_CLAN_GUEST, config.guestClanVolume());
				break;

			case CLAN_GUEST_MESSAGE:
				if (shouldAlertOnJoinOrLeft(msg, config.guestClanIgnoreJoinLeave()) &&
						!msg.startsWith(CS_CLAN_GUEST_MSG_1) && !msg.endsWith(CS_CLAN_GUEST_MSG_2) &&
						!msg.equals(CS_CLAN_GUEST_MSG_3)) {
					playSound(config.guestClanBroadcast(), CS_CLAN_GUEST_BROADCAST, config.guestClanVolume());
				}
				break;

			case CLAN_GIM_CHAT:
				if (shouldIgnorePlayer(gimIgnored, cleanName)) {
					return;
				}
				playSound(config.gimChat(), CS_GIM, config.groupIronVolume());
				break;

			case CLAN_GIM_MESSAGE:
				if (!msg.equals(CS_GIM_MSG)) {
					playSound(config.gimBroadcast(), CS_GIM_BROADCAST, config.groupIronVolume());
				}
				break;

			case TRADEREQ:
				if (shouldIgnorePlayer(tradeIgnored, cleanName)) {
					return;
				}
				playSound(config.tradeRequest(), CS_TRADE_REQUEST, config.tradeVolume());
				break;

			case CHALREQ_TRADE:
				if (shouldIgnorePlayer(duelIgnored, cleanName)) {
					return;
				}
				playSound(config.duelRequest(), CS_DUEL_REQUEST, config.duelVolume());
				break;
		}
	}

	@Subscribe
	public void onConfigChanged(ConfigChanged configChanged)
	{
		if (configChanged.getGroup().equals("chatSounds"))
		{
			updateLists();
		}
	}

	// Returns true if the message is from an ignored player in the chat's type.
	private boolean shouldIgnorePlayer(List<String> ignoreList, String name) {
		return ignoreList.stream().anyMatch(s -> s.equalsIgnoreCase(name));
    }

	// Returns false if it is not a "join" or "left" message. If it is one, returns true if ignore is
	// not checked, false if it is checked.
	private boolean shouldAlertOnJoinOrLeft(String text, boolean ignore) {
		if (!text.endsWith(HAS_JOINED) && !text.endsWith(HAS_LEFT)) {
			return false;
		}

        return !ignore;
    }

	private void initSoundFiles()
	{
		if (!CS_DIR.exists())
		{
			CS_DIR.mkdirs();
		}

		for (File f : CS_FILES)
		{
			try
			{
				if (f.exists()) {
					continue;
				}
				InputStream stream = ChatSoundsPlugin.class.getClassLoader().getResourceAsStream("cs_default.wav");
				OutputStream out = new FileOutputStream(f);
				byte[] buffer = new byte[8 * 1024];
				int bytesRead;
				while ((bytesRead = stream.read(buffer)) != -1) {
					out.write(buffer, 0, bytesRead);
				}
				out.close();
				stream.close();
			}  catch (Exception e) {
				log.info("ChatSoundsPlugin - " + e + ": " + f);
			}
		}
	}

	private void playSound(ChatSoundsMode mode, File f, int volume)
	{
		if (mode == ChatSoundsMode.OFF || !f.exists())
		{
			return;
		}

		try
		{
			f = mode.equals(ChatSoundsMode.DEFAULT) ? CS_DEFAULT : f;
			audioPlayer.play(f, linearTodB(volume));
		}
		catch (LineUnavailableException | UnsupportedAudioFileException | IOException e)
		{
			log.warn("ChatSoundsPlugin::playSound() error!", e);
		}
	}

	private float linearTodB(int linearVolume)
	{
		return 20.0f * (float) Math.log10(linearVolume/100.0f);
	}

	private void updateLists()
	{
		allIgnored = Text.fromCSV(config.allChatsIgnorePlayersList());
		publicIgnored = Text.fromCSV(config.publicIgnorePlayersList());
		privateIgnored = Text.fromCSV(config.privateIgnorePlayersList());
		chatChannelIgnored = Text.fromCSV(config.chatChannelIgnorePlayersList());
		clanIgnored = Text.fromCSV(config.clanIgnorePlayersList());
		guestClanIgnored = Text.fromCSV(config.guestClanIgnorePlayersList());
		gimIgnored = Text.fromCSV(config.groupIronIgnorePlayersList());
		tradeIgnored = Text.fromCSV(config.tradeIgnorePlayersList());
		duelIgnored = Text.fromCSV(config.duelIgnorePlayersList());
	}

	@Provides
	ChatSoundsConfig provideConfig(ConfigManager configManager)
	{
		return configManager.getConfig(ChatSoundsConfig.class);
	}
}

package com.chatsounds;

import lombok.Getter;
import lombok.RequiredArgsConstructor;

@Getter
@RequiredArgsConstructor
public enum ChatSoundsMode
{
	DEFAULT("Default"),
	CUSTOM("Custom"),
	OFF("Off");

	private final String name;

	@Override
	public String toString()
	{
		return name;
	}
}

package com.chatsounds;

import lombok.Getter;
import lombok.RequiredArgsConstructor;

@Getter
@RequiredArgsConstructor
public enum GlobalSoundsMode
{
    ON("On"),
    OFF("Off");

    private final String name;

    @Override
    public String toString()
    {
        return name;
    }
}

package com.chatsounds;

import net.runelite.client.config.Config;
import net.runelite.client.config.ConfigGroup;
import net.runelite.client.config.ConfigItem;
import net.runelite.client.config.ConfigSection;
import net.runelite.client.config.Range;
import net.runelite.client.config.Units;

@ConfigGroup("chatSounds")
public interface ChatSoundsConfig extends Config
{
	/**************
	 * GLOBAL SETTINGS *
	 **************/
	@ConfigSection(
			name = "Global Settings",
			description = "Settings for all chats.",
			position = 0
	)
	String globalList = "globalList";

	@ConfigItem(
			keyName = "allChats",
			name = "Global Mute",
			description = "Turns all sound effects either on or off.",
			position = 1,
			section = globalList
	)
	default GlobalSoundsMode allChats()
	{
		return GlobalSoundsMode.OFF;
	}

	@ConfigItem(
			keyName = "allChatsIgnorePlayers",
			name = "Ignore player names",
			description = "A comma-separated list of player names to never play a sound for.",
			position = 2,
			section = globalList
	)
	default String allChatsIgnorePlayersList()
	{
		return "";
	}

	/**************
	* PUBLIC CHAT *
 	**************/
	@ConfigSection(
			name = "Public Chat",
			description = "Settings for public chat.",
			position = 3
	)
	String publicList = "publicList";

	@ConfigItem(
		keyName = "publicChat",
		name = "Public Chat",
		description = "The sound effect to use when receiving a public chat message.",
		position = 4,
		section = publicList
	)
	default ChatSoundsMode publicChat()
	{
		return ChatSoundsMode.OFF;
	}

	@Range(
			max = 100
	)
	@Units(
			value = "%"
	)
	@ConfigItem(
			keyName = "publicVolume",
			name = "Volume",
			description = "Sets the volume of the chat message sound effect.",
			position = 5,
			section = publicList
	)
	default int publicVolume()
	{
		return 100;
	}

	@ConfigItem(
			keyName = "publicIgnorePlayers",
			name = "Ignore player names",
			description = "A comma-separated list of player names to never play a sound for.",
			position = 6,
			section = publicList
	)
	default String publicIgnorePlayersList()
	{
		return "";
	}

	/***************
	* PRIVATE CHAT *
	****************/
	@ConfigSection(
			name = "Private Chat",
			description = "Settings for private chat.",
			position = 7
	)
	String privateList = "privateList";

	@ConfigItem(
		keyName = "privateChat",
		name = "Private Chat",
		description = "The sound effect to use when receiving a private chat message.",
		position = 8,
		section = privateList
	)
	default ChatSoundsMode privateChat()
	{
		return ChatSoundsMode.DEFAULT;
	}

	@Range(
			max = 100
	)
	@Units(
			value = "%"
	)
	@ConfigItem(
			keyName = "privateVolume",
			name = "Volume",
			description = "Sets the volume of the chat message sound effect.",
			position = 9,
			section = privateList
	)
	default int privateVolume()
	{
		return 100;
	}

	@ConfigItem(
			keyName = "privateIgnorePlayers",
			name = "Ignore player names",
			description = "A comma-separated list of player names to never play a sound for.",
			position = 10,
			section = privateList
	)
	default String privateIgnorePlayersList()
	{
		return "";
	}

	/****************
 	* CHAT-CHANNELS *
	****************/
	@ConfigSection(
			name = "Chat-channel",
			description = "Settings for chat-channels.",
			position = 11
	)
	String chatChannelList = "chatChannelList";

	@ConfigItem(
		keyName = "chatChannel",
		name = "Chat-channel",
		description = "The sound effect to use when receiving a chat-channel chat message.",
		position = 12,
		section = chatChannelList
	)
	default ChatSoundsMode chatChannel()
	{
		return ChatSoundsMode.OFF;
	}

	@ConfigItem(
			keyName = "chatChannelBroadcast",
			name = "Chat-channel Broadcast",
			description = "The sound effect to use when receiving a chat-channel broadcast message.",
			position = 13,
			section = chatChannelList
	)
	default ChatSoundsMode chatChannelBroadcast()
	{
		return ChatSoundsMode.OFF;
	}

	@Range(
			max = 100
	)
	@Units(
			value = "%"
	)
	@ConfigItem(
			keyName = "chatChannelVolume",
			name = "Volume",
			description = "Sets the volume of the chat message sound effect.",
			position = 14,
			section = chatChannelList
	)
	default int chatChannelVolume()
	{
		return 100;
	}

	@ConfigItem(
			keyName = "chatChannelIgnoreJoinLeave",
			name = "Ignore joined/left messages",
			description = "Do not play a sound for users joining or leaving chats.",
			position = 15,
			section = chatChannelList
	)
	default boolean chatChannelIgnoreJoinLeave()
	{
		return true;
	}

	@ConfigItem(
			keyName = "chatChannelIgnorePlayers",
			name = "Ignore player names",
			description = "A comma-separated list of player names to never play a sound for.",
			position = 16,
			section = chatChannelList
	)
	default String chatChannelIgnorePlayersList()
	{
		return "";
	}

	/*************
 	* CLAN CHATS *
 	*************/
	@ConfigSection(
			name = "Clan Chat",
			description = "Settings for clan chats.",
			position = 17
	)
	String clanChatList = "clanChatList";

	@ConfigItem(
		keyName = "clanChat",
		name = "Clan Chat",
		description = "The sound effect to use when receiving a clan chat message.",
		position = 18,
		section = clanChatList
	)
	default ChatSoundsMode clanChat()
	{
		return ChatSoundsMode.OFF;
	}

	@ConfigItem(
		keyName = "clanBroadcast",
		name = "Clan Broadcast",
		description = "The sound effect to use when receiving a clan broadcast message.",
		position = 19,
		section = clanChatList
	)
	default ChatSoundsMode clanBroadcast()
	{
		return ChatSoundsMode.OFF;
	}

	@Range(
			max = 100
	)
	@Units(
			value = "%"
	)
	@ConfigItem(
			keyName = "clanVolume",
			name = "Volume",
			description = "Sets the volume of the chat message sound effect.",
			position = 20,
			section = clanChatList
	)
	default int clanVolume()
	{
		return 100;
	}

	@ConfigItem(
			keyName = "clanIgnoreJoinLeave",
			name = "Ignore joined/left messages",
			description = "Do not play a sound for users joining or leaving chats.",
			position = 21,
			section = clanChatList
	)
	default boolean clanIgnoreJoinLeave()
	{
		return true;
	}

	@ConfigItem(
			keyName = "clanIgnorePlayers",
			name = "Ignore player names",
			description = "A comma-separated list of player names to never play a sound for.",
			position = 22,
			section = clanChatList
	)
	default String clanIgnorePlayersList()
	{
		return "";
	}

	/**************
 	* GUEST CLANS *
	**************/
	@ConfigSection(
			name = "Guest Clan Chat",
			description = "Settings for guest clan chats.",
			position = 23
	)
	String guestClanList = "guestClanList";

	@ConfigItem(
			keyName = "guestClanChat",
			name = "Guest Clan Chat",
			description = "The sound effect to use when receiving a guest clan chat message.",
			position = 24,
			section = guestClanList
	)
	default ChatSoundsMode guestClanChat()
	{
		return ChatSoundsMode.OFF;
	}

	@ConfigItem(
			keyName = "guestClanBroadcast",
			name = "Guest Clan Broadcast",
			description = "The sound effect to use when receiving a guest clan broadcast message.",
			position = 25,
			section = guestClanList
	)
	default ChatSoundsMode guestClanBroadcast()
	{
		return ChatSoundsMode.OFF;
	}

	@Range(
			max = 100
	)
	@Units(
			value = "%"
	)
	@ConfigItem(
			keyName = "guestClanChannelVolume",
			name = "Volume",
			description = "Sets the volume of the chat message sound effect.",
			position = 26,
			section = guestClanList
	)
	default int guestClanVolume()
	{
		return 100;
	}

	@ConfigItem(
			keyName = "guestClanIgnoreJoinLeave",
			name = "Ignore joined/left messages",
			description = "Do not play a sound for users joining or leaving chats.",
			position = 27,
			section = guestClanList
	)
	default boolean guestClanIgnoreJoinLeave()
	{
		return true;
	}

	@ConfigItem(
			keyName = "guestClanIgnorePlayers",
			name = "Ignore player names",
			description = "A comma-separated list of player names to never play a sound for.",
			position = 28,
			section = guestClanList
	)
	default String guestClanIgnorePlayersList()
	{
		return "";
	}

	/****************
 	* GROUP IRONMAN *
	****************/
	@ConfigSection(
			name = "Group Ironman Chat",
			description = "Settings for group ironman chats.",
			position = 29
	)
	String groupList = "groupList";

	@ConfigItem(
		keyName = "gimChat",
		name = "Group Ironman Chat",
		description = "The sound effect to use when receiving a group ironman chat message.",
		position = 30,
		section = groupList
	)
	default ChatSoundsMode gimChat()
	{
		return ChatSoundsMode.OFF;
	}

	@ConfigItem(
		keyName = "gimBroadcast",
		name = "Group Ironman Broadcast",
		description = "The sound effect to use when receiving a group ironman broadcast message.",
		position = 31,
		section = groupList
	)
	default ChatSoundsMode gimBroadcast()
	{
		return ChatSoundsMode.OFF;
	}

	@Range(
			max = 100
	)
	@Units(
			value = "%"
	)
	@ConfigItem(
			keyName = "groupIronVolume",
			name = "Volume",
			description = "Sets the volume of the chat message sound effect.",
			position = 32,
			section = groupList
	)
	default int groupIronVolume()
	{
		return 100;
	}

	@ConfigItem(
			keyName = "groupIronIgnorePlayers",
			name = "Ignore player names",
			description = "A comma-separated list of player names to never play a sound for.",
			position = 33,
			section = groupList
	)
	default String groupIronIgnorePlayersList()
	{
		return "";
	}

	/*********
	* TRADES *
	*********/
	@ConfigSection(
			name = "Trade Requests",
			description = "Settings for trade requests.",
			position = 34
	)
	String tradeList = "tradeList";

	@ConfigItem(
			keyName = "tradeRequest",
			name = "Trade Request",
			description = "The sound effect to use when receiving a trade request.",
			position = 35,
			section = tradeList
	)
	default ChatSoundsMode tradeRequest()
	{
		return ChatSoundsMode.OFF;
	}

	@Range(
			max = 100
	)
	@Units(
			value = "%"
	)
	@ConfigItem(
			keyName = "tradeVolume",
			name = "Trade Volume",
			description = "Sets the volume of the chat message sound effect.",
			position = 36,
			section = tradeList
	)
	default int tradeVolume()
	{
		return 100;
	}

	@ConfigItem(
			keyName = "tradeIgnorePlayers",
			name = "Ignore player names",
			description = "A comma-separated list of player names to never play a sound for.",
			position = 37,
			section = tradeList
	)
	default String tradeIgnorePlayersList()
	{
		return "";
	}

	/********
	* DUELS *
	********/
	@ConfigSection(
			name = "Duel Requests",
			description = "Settings for duel requests.",
			position = 38
	)
	String duelList = "duelList";

	@ConfigItem(
			keyName = "duelRequest",
			name = "Duel Request",
			description = "The sound effect to use when receiving a duel request.",
			position = 39,
			section = duelList
	)
	default ChatSoundsMode duelRequest()
	{
		return ChatSoundsMode.OFF;
	}

	@Range(
			max = 100
	)
	@Units(
			value = "%"
	)
	@ConfigItem(
			keyName = "duelVolume",
			name = "Duel Volume",
			description = "Sets the volume of the chat message sound effect.",
			position = 40,
			section = duelList
	)
	default int duelVolume()
	{
		return 100;
	}

	@ConfigItem(
			keyName = "duelIgnorePlayers",
			name = "Ignore player names",
			description = "A comma-separated list of player names to never play a sound for.",
			position = 41,
			section = duelList
	)
	default String duelIgnorePlayersList()
	{
		return "";
	}
}

package com.chatsounds;

import net.runelite.client.RuneLite;
import net.runelite.client.externalplugins.ExternalPluginManager;

public class ChatSoundsTest
{
	public static void main(String[] args) throws Exception
	{
		ExternalPluginManager.loadBuiltin(ChatSoundsPlugin.class);
		RuneLite.main(args);
	}
}
