package com.chatpanel;

import net.runelite.client.util.ImageUtil;
import javax.swing.JDialog;
import javax.swing.JFrame;
import javax.swing.JTabbedPane;
import javax.swing.JPanel;
import javax.swing.JButton;
import javax.swing.JTextPane;
import javax.swing.JTextField;
import javax.swing.JScrollPane;
import javax.swing.text.BadLocationException;
import javax.swing.text.DefaultHighlighter;
import java.awt.BorderLayout;
import java.awt.FlowLayout;
import java.awt.Color;
import java.awt.Container;
import java.awt.Component;
import java.awt.Point;
import java.awt.Rectangle;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.awt.event.WindowFocusListener;

public class ChatPanelSearch {
    public static class SearchWindow extends JDialog {
        private final JTabbedPane tabbedPane;
        private int currentIndex = -1;
        private final String originalTitle;

        public SearchWindow(JFrame popoutFrame, JTabbedPane tabbedPane, int tabIndex, Container panelLocation) {

            this.tabbedPane = tabbedPane;
            String tabName = tabbedPane.getTitleAt(tabIndex);
            originalTitle = "Search " + tabName;
            setTitle(originalTitle);
            setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
            setSize(250, 100);
            setAlwaysOnTop(true);
            if (popoutFrame.isVisible()) {
                Point popoutFrameLocation = popoutFrame.getLocation();
                int X = popoutFrameLocation.x + 10;
                int Y = popoutFrameLocation.y;
                setLocation(X, Y);
            } else {
                Point parentLocation = panelLocation.getLocationOnScreen();
                int x = parentLocation.x;
                int y = parentLocation.y - 20;
                setLocation(x, y);
            }
            if (!isUndecorated()){
                setIconImage(ImageUtil.loadImageResource(getClass(), "/ChatPanelimg.png"));
            }

            JPanel searchPanel = new JPanel();
            searchPanel.setLayout(new BorderLayout());
            getContentPane().add(searchPanel, BorderLayout.CENTER);

            JPanel searchBox = new JPanel();
            searchBox.setLayout(new FlowLayout());
            JTextField findField = new JTextField(15);
            searchBox.add(findField);
            searchPanel.add(searchBox, BorderLayout.NORTH);

            JPanel buttonPanel = new JPanel();
            buttonPanel.setLayout(new FlowLayout());
            JButton findLastButton = new JButton("Find Last");
            buttonPanel.add(findLastButton);
            JButton findNextButton = new JButton("Find Next");
            buttonPanel.add(findNextButton);
            searchPanel.add(buttonPanel, BorderLayout.SOUTH);

            findField.addActionListener(e -> {
                try {
                    find(findField.getText(), tabIndex, true);
                } catch (BadLocationException ignored) {}
            });
            findNextButton.addActionListener(e -> {
                try {
                    find(findField.getText(), tabIndex, true);
                } catch (BadLocationException ignored) {}
            });
            findLastButton.addActionListener(e -> {
                try {
                    find(findField.getText(), tabIndex, false);
                } catch (BadLocationException ignored) {}
            });
            addWindowFocusListener(new WindowFocusListener() {
                @Override
                public void windowGainedFocus(WindowEvent ignored) {}
                @Override
                public void windowLostFocus(WindowEvent e) {
                    Component tabComponent = tabbedPane.getComponentAt(tabIndex);
                        if (tabComponent instanceof JScrollPane) {
                            JTextPane chatArea = (JTextPane) ((JScrollPane) tabComponent).getViewport().getView();
                            DefaultHighlighter highlighter = (DefaultHighlighter) chatArea.getHighlighter();
                            highlighter.removeAllHighlights();
                        }
                        dispose();
                    }
                });
            addWindowListener(new WindowAdapter() {
                @Override
                public void windowClosing(WindowEvent e) {
                    Component tabComponent = tabbedPane.getComponentAt(tabIndex);
                    if (tabComponent instanceof JScrollPane) {
                        JTextPane chatArea = (JTextPane) ((JScrollPane) tabComponent).getViewport().getView();
                        DefaultHighlighter highlighter = (DefaultHighlighter) chatArea.getHighlighter();
                        highlighter.removeAllHighlights();
                    }
                }
            });
        }

        private void find(String searchText, int tabIndex, boolean direction) throws BadLocationException {
            Component tabComponent = tabbedPane.getComponentAt(tabIndex);
            if (tabComponent instanceof JScrollPane) {
                JTextPane chatArea = (JTextPane) ((JScrollPane) tabComponent).getViewport().getView();
                DefaultHighlighter highlighter = (DefaultHighlighter) chatArea.getHighlighter();
                highlighter.removeAllHighlights();
                String text = chatArea.getDocument().getText(0, chatArea.getDocument().getLength());
                int newIndex = getNewIndex(searchText, direction, text);
                if (newIndex != -1) {
                    highlight(chatArea, newIndex, searchText.length());
                    chatArea.setCaretPosition(newIndex);
                    Rectangle rect = (Rectangle) chatArea.modelToView2D(newIndex);
                    chatArea.scrollRectToVisible(rect);
                    setTitle(originalTitle);
                } else {
                    setTitle("No Match");
                }
                currentIndex = newIndex;
            }
        }

        private int getNewIndex(String searchText, boolean direction, String text) {
            int startIndex = direction ? currentIndex + 1 : currentIndex - searchText.length();
            if (startIndex < 0) {
                startIndex = direction ? 0 : text.length() - searchText.length();
            }
            int newIndex = direction ? text.toLowerCase().indexOf(searchText.toLowerCase(), startIndex) : text.toLowerCase().lastIndexOf(searchText.toLowerCase(), startIndex);
            if (newIndex == -1) { // Loop back to the start/end of the document
                newIndex = direction ? text.toLowerCase().indexOf(searchText.toLowerCase()) : text.toLowerCase().lastIndexOf(searchText.toLowerCase());
            }
            return newIndex;
        }

        private void highlight(JTextPane chatArea, int startIndex, int length) throws BadLocationException {
            Color textColor = chatArea.getForeground();
            Color oppositeColor = getOppositeColor(textColor);
            DefaultHighlighter highlighter = (DefaultHighlighter) chatArea.getHighlighter();
            highlighter.addHighlight(startIndex, startIndex + length, new DefaultHighlighter.DefaultHighlightPainter(oppositeColor));
        }

        private Color getOppositeColor(Color color) {
            int red = 255 - color.getRed();
            int green = 255 - color.getGreen();
            int blue = 255 - color.getBlue();
            return new Color(red, green, blue);
        }
    }
}

package com.chatpanel;

import com.google.inject.Provides;
import net.runelite.api.*;
import net.runelite.api.events.ActorDeath;
import net.runelite.api.events.ChatMessage;
import net.runelite.api.events.HitsplatApplied;
import net.runelite.client.config.ChatColorConfig;
import net.runelite.client.config.ConfigManager;
import net.runelite.client.eventbus.Subscribe;
import net.runelite.client.plugins.Plugin;
import net.runelite.client.plugins.PluginDescriptor;
import net.runelite.client.plugins.PluginManager;
import net.runelite.client.ui.ClientToolbar;
import net.runelite.client.ui.NavigationButton;
import net.runelite.client.util.ImageUtil;
import net.runelite.client.events.ConfigChanged;
import javax.inject.Inject;
import javax.swing.*;
import java.awt.image.BufferedImage;
import java.text.SimpleDateFormat;
import java.util.Date;

@PluginDescriptor(
        name = "Chat Panel",
        description = "Displays chat messages in a pop out window or the side panel",
        tags = {"chat", "panel", "window", "messages", "font", "size", "style", "private", "accessibility", "copy", "pop out", "export", "custom", "combat", "text", "log"}
)
public class ChatPanelPlugin extends Plugin
{
    @Inject
    private ClientToolbar clientToolbar;

    @Inject
    private ChatPanelConfig config;

    @Inject
    private Client client;

    private ChatPanelSidebar chatPanelSidebar;
    private NavigationButton navButton;
    @Inject
    private PluginManager pluginManager;
    @Inject
    private ChatColorConfig chatColorConfig;
    @Provides
    ChatPanelConfig provideConfig(ConfigManager configManager)
    {
        return configManager.getConfig(ChatPanelConfig.class);
    }

    @Override
    protected void startUp()
    {
        chatPanelSidebar = new ChatPanelSidebar(config, client, chatColorConfig);
        if (!config.hideSidebarIcon()) {
            navBuilder();
        }
    }

    @Override
    protected void shutDown()
    {
        if (navButton != null){
        clientToolbar.removeNavigation(navButton);}
        chatPanelSidebar.closePopout();
    }

    private void navBuilder (){
        final BufferedImage icon = ImageUtil.loadImageResource(getClass(), "/ChatPanelimg.png");
        navButton = NavigationButton.builder()
                .tooltip("Chat Panel")
                .icon(icon)
                .priority(config.iconPosition())
                .panel(chatPanelSidebar)
                .build();
        clientToolbar.addNavigation(navButton);
        displayUpdateMessage();
    }

    private static final double CURRENT_VERSION = 2.3;
    private void displayUpdateMessage()
    {
        double lastVersionShown = config.getVersion();
        String name = "Update";
        String updateMessage = "Chat Panel was updated, here are a few of the new features:\nCombat messages mention the HitSplat type (poison, burn, block, etc.).\nGame Highlights and RuneLite Highlights (Olm orbs, Examine prices, etc.).\nNew Message Type Coloring options for <col=00E7FF>Block</col>, <col=D55101>Burn</col>, <col=FF0000>Max Hit</col>, <col=00FF26>Poison</col>, and more!\nThe readme now includes a Chat Panel Discord.";
        String timestamp = getCurrentTimestamp();
        String eventName = "UPDATE_MESSAGE";

        if (lastVersionShown == 0){
            config.setVersion(CURRENT_VERSION);
            if (config.showPublicChat()) {
                chatPanelSidebar.addPublicChatMessage("", "", "Welcome to Chat Panel!   :)\nThere are many config options waiting for you in Configuration > Chat Panel.", eventName);
            }
        } else {
            if (lastVersionShown < CURRENT_VERSION)
            {
                config.setVersion(CURRENT_VERSION);
                if (config.showAllChat()) {
                    chatPanelSidebar.addAllChatMessage(timestamp, name, updateMessage, eventName);
                }
                if (config.showGameChat()) {
                    chatPanelSidebar.addGameChatMessage(timestamp, name, updateMessage, eventName);
                }
                if (config.showPublicChat()) {
                    chatPanelSidebar.addPublicChatMessage(timestamp, name, updateMessage, eventName);
                }
                if (config.showCustomChat()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, name, updateMessage, eventName);
                }
                if (config.showCustom2Chat()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, name, updateMessage, eventName);
                }
                if (config.showCustom3Chat()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, name, updateMessage, eventName);
                }
            }
            //I think I only need this for testing and mistakes.
            if (lastVersionShown > CURRENT_VERSION)
            {
                config.setVersion(CURRENT_VERSION);
            }
        }
    }
    @Subscribe
    public void onChatMessage(ChatMessage event) {
        String cleanedName = event.getType() == ChatMessageType.PRIVATECHATOUT ? "To " + cleanString(event.getName()) : event.getType() == ChatMessageType.PRIVATECHAT || event.getType() == ChatMessageType.MODPRIVATECHAT? "From " + cleanString(event.getName()) : cleanString(event.getName());
        String cleanedMessage = event.getType() == ChatMessageType.DIALOG ? cleanDialogMessage(event.getMessage()) : cleanString(event.getMessage());
        String timestamp = getCurrentTimestamp();
        String eventName = event.getType().name();
        String privateName = event.getName().replace("[", "").replace("]", "").trim();

        switch (event.getType()) {
            case PUBLICCHAT:
            case MODCHAT:
                if (config.showPublicChat()) {
                    chatPanelSidebar.addPublicChatMessage(timestamp, cleanedName, cleanedMessage, eventName);}
                break;
            case PRIVATECHAT:
            case MODPRIVATECHAT:
            case PRIVATECHATOUT:
                if (config.showPrivateChat() || config.splitPMs()) {
                    if (!chatPanelSidebar.privateChatNames.contains(privateName)) {
                        chatPanelSidebar.privateChatNames.add(privateName); }
                    chatPanelSidebar.addPrivateChatMessage(timestamp, cleanedName, cleanedMessage, eventName);}
                break;
            case LOGINLOGOUTNOTIFICATION:
                if ((config.showPrivateChat() || config.splitPMs()) && config.loginLogoutNotification()){
                    cleanedName = "";
                    chatPanelSidebar.addPrivateChatMessage(timestamp, cleanedName, cleanedMessage, eventName);
                    break;
                }
            case CLAN_CHAT:
            case CLAN_MESSAGE:
            case CLAN_GUEST_MESSAGE:
            case CLAN_GIM_CHAT:
            case CLAN_GIM_MESSAGE:
            case CLAN_GUEST_CHAT:
            case CHALREQ_CLANCHAT:
                if (config.showClanChat()) {
                    chatPanelSidebar.addClanChatMessage(timestamp, cleanedName, cleanedMessage, eventName);}
                break;
            case FRIENDSCHAT:
            case CHALREQ_FRIENDSCHAT:
            case FRIENDSCHATNOTIFICATION:
                if (config.showFriendsChat()) {
                    chatPanelSidebar.addFriendsChatMessage(timestamp, cleanedName, cleanedMessage, eventName);}
                break;
            case BROADCAST:
            case GAMEMESSAGE:
            case MESBOX:
            case ENGINE:
            case NPC_EXAMINE:
            case SPAM:
            case DIALOG:
            case DIDYOUKNOW:
            case NPC_SAY:
            case ITEM_EXAMINE:
            case OBJECT_EXAMINE:
            case WELCOME:
            case TRADE:
            case TRADE_SENT:
            case TRADEREQ:
            case CONSOLE:
            case MODAUTOTYPER:
            case CHALREQ_TRADE:
            case IGNORENOTIFICATION:
            case FRIENDNOTIFICATION:
                if (config.showGameChat()) {
                    chatPanelSidebar.addGameChatMessage(timestamp, cleanedName, cleanedMessage, eventName);}
                break;
            case UNKNOWN:
        }
        if (config.showAllChat()) {
            chatPanelSidebar.addAllChatMessage(timestamp, cleanedName, cleanedMessage, eventName);
        }
        if (config.showCustomChat() || config.showCustom2Chat() || config.showCustom3Chat()) {
            onCustomChatMessage(event, cleanedName, cleanedMessage, timestamp, eventName);
        }
    }
    private void onCustomChatMessage(ChatMessage event, String cleanedName, String cleanedMessage, String timestamp, String eventName) {
        String identifier = getIdentifier(cleanedName, event);
        switch (event.getType()) {
            case PUBLICCHAT:
                if (config.showCustomChat() && config.CustomPublicChatEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2PublicChatEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3PublicChatEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case MODCHAT:
                if (config.showCustomChat() && config.CustomModChatEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ModChatEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ModChatEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case PRIVATECHAT:
                if (config.showCustomChat() && config.CustomPrivateChatEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2PrivateChatEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3PrivateChatEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case MODPRIVATECHAT:
                if (config.showCustomChat() && config.CustomModPrivateChatEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ModPrivateChatEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ModPrivateChatEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case LOGINLOGOUTNOTIFICATION:
                if (config.showCustomChat() && config.CustomLoginLogoutEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2LoginLogoutEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3LoginLogoutEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case CLAN_CHAT:
                if (config.showCustomChat() && config.CustomClanChatEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ClanChatEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ClanChatEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case CLAN_MESSAGE:
                if (config.showCustomChat() && config.CustomClanMessageEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ClanMessageEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ClanMessageEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case CLAN_GUEST_MESSAGE:
                if (config.showCustomChat() && config.CustomClanGuestMessageEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ClanGuestMessageEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ClanGuestMessageEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case CLAN_GIM_CHAT:
                if (config.showCustomChat() && config.CustomClanGimChatEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ClanGimChatEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ClanGimChatEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case CLAN_GIM_MESSAGE:
                if (config.showCustomChat() && config.CustomClanGimMessageEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ClanGimMessageEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ClanGimMessageEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case CLAN_GUEST_CHAT:
                if (config.showCustomChat() && config.CustomClanGuestChatEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ClanGuestChatEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ClanGuestChatEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case CHALREQ_CLANCHAT:
                if (config.showCustomChat() && config.CustomChalreqClanChatEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ChalreqClanChatEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ChalreqClanChatEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case PRIVATECHATOUT:
                if (config.showCustomChat() && config.CustomPrivateChatoutEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2PrivateChatoutEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3PrivateChatoutEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case FRIENDSCHAT:
                if (config.showCustomChat() && config.CustomFriendsChatEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2FriendsChatEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3FriendsChatEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case CHALREQ_FRIENDSCHAT:
                if (config.showCustomChat() && config.CustomChalreqFriendsChatEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ChalreqFriendsChatEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ChalreqFriendsChatEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case FRIENDSCHATNOTIFICATION:
                if (config.showCustomChat() && config.CustomFriendsChatNotificationEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2FriendsChatNotificationEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3FriendsChatNotificationEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case BROADCAST:
                if (config.showCustomChat() && config.CustomBroadcastEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2BroadcastEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3BroadcastEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case DIDYOUKNOW:
                if (config.showCustomChat() && config.CustomDidYouKnowEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2DidYouKnowEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3DidYouKnowEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case GAMEMESSAGE:
                if (config.showCustomChat() && config.CustomGameMessageEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2GameMessageEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3GameMessageEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case ENGINE:
                if (config.showCustomChat() && config.CustomEngineEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2EngineEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3EngineEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case MESBOX:
                if (config.showCustomChat() && config.CustomMesboxEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2MesboxEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3MesboxEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case NPC_EXAMINE:
                if (config.showCustomChat() && config.CustomNpcExamineEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2NpcExamineEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3NpcExamineEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case NPC_SAY:
                if (config.showCustomChat() && config.CustomNpcSayEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2NpcSayEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3NpcSayEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case SPAM:
                if (config.showCustomChat() && config.CustomSpamEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2SpamEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3SpamEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case DIALOG:
                if (config.showCustomChat() && config.CustomDialogEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2DialogEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3DialogEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case ITEM_EXAMINE:
                if (config.showCustomChat() && config.CustomItemExamineEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ItemExamineEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ItemExamineEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case OBJECT_EXAMINE:
                if (config.showCustomChat() && config.CustomObjectExamineEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ObjectExamineEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ObjectExamineEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case WELCOME:
                if (config.showCustomChat() && config.CustomWelcomeEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2WelcomeEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3WelcomeEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case TRADE:
                if (config.showCustomChat() && config.CustomTradeEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2TradeEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3TradeEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case TRADE_SENT:
                if (config.showCustomChat() && config.CustomTradeSentEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2TradeSentEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3TradeSentEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case TRADEREQ:
                if (config.showCustomChat() && config.CustomTradeReqEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2TradeReqEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3TradeReqEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case CONSOLE:
                if (config.showCustomChat() && config.CustomConsoleEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ConsoleEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ConsoleEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case MODAUTOTYPER:
                if (config.showCustomChat() && config.CustomModAutoTyperEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ModAutoTyperEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ModAutoTyperEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case CHALREQ_TRADE:
                if (config.showCustomChat() && config.CustomChalreqTradeEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2ChalreqTradeEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3ChalreqTradeEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case IGNORENOTIFICATION:
                if (config.showCustomChat() && config.CustomIgnoreNotificationEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2IgnoreNotificationEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3IgnoreNotificationEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case FRIENDNOTIFICATION:
                if (config.showCustomChat() && config.CustomFriendNotificationEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2FriendNotificationEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3FriendNotificationEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
            case UNKNOWN:
                if (config.showCustomChat() && config.CustomUnknownEnabled()) {
                    chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom2Chat() && config.Custom2UnknownEnabled()) {
                    chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                if (config.showCustom3Chat() && config.Custom3UnknownEnabled()) {
                    chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : cleanedName, cleanedMessage, eventName);
                }
                break;
        }
    }

    @Subscribe
    public void onHitsplatApplied(HitsplatApplied hitsplatApplied) {
        if (config.showCombatTab() || config.CustomCombatEnabled() || config.Custom2CombatEnabled() || config.Custom3CombatEnabled())
        {
            if (hitsplatApplied.getHitsplat().isMine() || !config.onlyshowMyHitsplats())
            {
            Actor attacker = hitsplatApplied.getActor();
            Actor defender = attacker.getInteracting();
            String defenderName = attacker.getName();
            String attackerName = (defender != null) ? defender.getName() : attacker.getName();
            Hitsplat hitsplat = hitsplatApplied.getHitsplat();
            int hitsplatType = hitsplat.getHitsplatType();
            if (hitsplat.getAmount() == 0 && config.hidezerodamageHitsplats()) {
                return;
            }
            String adjective = "hit";

            int damageAmount = hitsplat.getAmount();
            String eventName;
               if (hitsplatType == 4 || hitsplatType == 5 || hitsplatType == 65) {
                    eventName = "COMBAT_POISON";
                    switch (hitsplatType){
                        case 65:
                            adjective = "poisoned";
                            break;
                        case 5:
                            adjective = "venomed";
                            break;
                        case 4:
                            adjective = "diseased";
                            break;
                    }
                } else if (hitsplatType == 43 || hitsplatType == 44 || hitsplatType == 45 || hitsplatType == 46 || hitsplatType == 47 || hitsplatType == 55) {
                    eventName = "COMBAT_MAX";
                    adjective = "critical hit";
                } else if (hitsplatType == 6 || hitsplatType == 72) {
                    eventName = "COMBAT_HEAL";
                    adjective = hitsplatType == 6 ? "healed" : "sanity restored";
                } else if (hitsplatType == 0 || hitsplatType == 60 || hitsplatType == 71 || hitsplatType == 73 ) {
                    eventName = "COMBAT_DRAIN";
                    switch (hitsplatType){
                        case 0:
                            adjective = "corrupted";
                            break;
                        case 60:
                            adjective = "prayer drained";
                            break;
                        case 71:
                            adjective = "sanity drained";
                            break;
                        case 73:
                            adjective = "doomed";
                    }
                } else if (hitsplatType == 67 || hitsplatType == 74) {
                    eventName = "COMBAT_BURN";
                    adjective = hitsplatType == 74 ?  "burned" : "bled";
                } else {
                    eventName = "COMBAT";
                    adjective = "hit";
                }
            String identifier = "Combat";
            String timestamp = getCurrentTimestamp();
            String combatMessage = (defender == null) ? defenderName  + " " + (adjective.equals("bled") ? "" : "was ") + adjective +  " for: " +damageAmount
                    : attackerName + " " + adjective + " " + defenderName + " for: " + damageAmount;
            if (hitsplatType == 12 || hitsplatType == 13) {
                    eventName = "COMBAT_BLOCK";
                    combatMessage = (defender != null) ? defenderName + " blocked " + attackerName : attackerName + " blocked";
                }
            if (config.legacyCombat()){
                    combatMessage = (defender == null) ? defenderName + " was hit for: " + damageAmount : attackerName + " hit " + defenderName + " for: " + damageAmount;
            }
            if (config.showCombatTab()) {
            chatPanelSidebar.addCombatMessage(timestamp, (config.identifierC()) ? "Combat" : "", combatMessage, eventName);
            }
            if (config.showCustomChat() && config.CustomCombatEnabled()) {
                chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : "", combatMessage, eventName);
            }
            if (config.showCustom2Chat() && config.Custom2CombatEnabled()) {
                chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : "", combatMessage, eventName);
            }
            if (config.showCustom3Chat() && config.Custom3CombatEnabled()) {
                chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : "", combatMessage, eventName);
            }
        }}
    }
    @Subscribe
    public void onActorDeath(ActorDeath actorDeath) {
        Actor actor = actorDeath.getActor();
        String actorName = actor.getName();

        String identifier = "Death";
        String eventName = "DEATH";
        String timestamp = getCurrentTimestamp();
        String deathMessage = actorName + " died.";

        if (config.showCombatTab() && config.displayDeaths()) {
            chatPanelSidebar.addCombatMessage(timestamp, (config.identifierC()) ? "Death" : "", deathMessage, eventName);
        }
        if (config.showCustomChat() && config.CustomCombatEnabled() && config.displayDeaths()) {
            chatPanelSidebar.addCustomChatMessage(timestamp, config.identifier1() ? identifier : "", deathMessage, eventName);
        }
        if (config.showCustom2Chat() && config.Custom2CombatEnabled() && config.displayDeaths()) {
            chatPanelSidebar.addCustom2ChatMessage(timestamp, config.identifier2() ? identifier : "", deathMessage, eventName);
        }
        if (config.showCustom3Chat() && config.Custom3CombatEnabled() && config.displayDeaths()) {
            chatPanelSidebar.addCustom3ChatMessage(timestamp, config.identifier3() ? identifier : "", deathMessage, eventName);
        }
    }

    private String getIdentifier(String cleanedName, ChatMessage event) {
        switch (event.getType()) {
            case PUBLICCHAT:
                return "Public - " + cleanedName;
            case MODCHAT:
                return "ModChat - " + cleanedName;
            case PRIVATECHAT:
                return "Private - " + cleanedName;
            case MODPRIVATECHAT:
                return "ModPrivate - " + cleanedName;
            case LOGINLOGOUTNOTIFICATION:
                return "Logged" + cleanedName;
            case CLAN_CHAT:
                return "Clan - " + cleanedName;
            case CLAN_MESSAGE:
                return "Clan Msg" + cleanedName;
            case CLAN_GUEST_MESSAGE:
                return "ClanGuest Msg" + cleanedName;
            case CLAN_GIM_CHAT:
                return "ClanGIM - " + cleanedName;
            case CLAN_GIM_MESSAGE:
                return "ClanGIM Msg" + cleanedName;
            case CLAN_GUEST_CHAT:
                return "ClanGuest - " + cleanedName;
            case CHALREQ_CLANCHAT:
                return "Chalreq Clan" + cleanedName;
            case PRIVATECHATOUT:
                return "Private Out - " + cleanedName;
            case FRIENDSCHAT:
                return "Friends Chat - " + cleanedName;
            case CHALREQ_FRIENDSCHAT:
                return "Chalreq Friends" + cleanedName;
            case FRIENDSCHATNOTIFICATION:
                return "FriendsChatNotify" + cleanedName;
            case BROADCAST:
                return "Broadcast" + cleanedName;
            case GAMEMESSAGE:
                return "Game Message" + cleanedName;
            case ENGINE:
                return "Engine" + cleanedName;
            case NPC_EXAMINE:
                return "NPC Examine" + cleanedName;
            case NPC_SAY:
                return "NPC Say" + cleanedName;
            case MESBOX:
                return "Mesbox" + cleanedName;
            case SPAM:
                return "Spam" + cleanedName;
            case DIALOG:
                return "Dialog" + cleanedName;
            case DIDYOUKNOW:
                return "DidYouKnow?" + cleanedName;
            case ITEM_EXAMINE:
                return "Item Examine" + cleanedName;
            case OBJECT_EXAMINE:
                return "Object Examine" + cleanedName;
            case WELCOME:
                return "Welcome" + cleanedName;
            case TRADE:
                return "Trade" + cleanedName;
            case TRADE_SENT:
                return "Trade Sent" + cleanedName;
            case TRADEREQ:
                return "Trade Req" + cleanedName;
            case CONSOLE:
                return "Console" + cleanedName;
            case MODAUTOTYPER:
                return "ModAutoTyper - " + cleanedName;
            case CHALREQ_TRADE:
                return "Chalreq Trade" + cleanedName;
            case IGNORENOTIFICATION:
                return "Ignore Notification" + cleanedName;
            case FRIENDNOTIFICATION:
                return "Friend Notification" + cleanedName;
            case UNKNOWN:
                return "Unknown" + cleanedName;
            default:
                return cleanedName;
        }
    }

    private String getCurrentTimestamp() {
        String customFormat = config.TimestampFormat();
        if (!customFormat.isEmpty()) {
              SimpleDateFormat dateFormat;
           try
           {
               dateFormat = new SimpleDateFormat(customFormat);
           }
           catch (IllegalArgumentException e) {
               dateFormat = new SimpleDateFormat("HH:mm");
            }
         return dateFormat.format(new Date());}
         return customFormat;
    }

    private String cleanString(String message)
    {
        return message.replaceAll("<img=[0-9]+>", "").replace("<lt>", "<").replace("<gt>", ">");
    }

    private String cleanDialogMessage(String message)
    {
        return message.replace("|", ": ");
    }

    @Subscribe
    public void onConfigChanged(ConfigChanged event) {
        if ("chatpanel".equals(event.getGroup()) && pluginManager.isPluginEnabled(this)) {
            SwingUtilities.invokeLater(() -> {
            if (event.getKey().startsWith("show")) {
                chatPanelSidebar.reloadPlugin();
            }
            if (event.getKey().equals("splitPMs")) {
                if (config.splitPMs()) {
                    chatPanelSidebar.splitIntoPMTabs();
                } else {
                    chatPanelSidebar.mergePMTabs();
                }
                chatPanelSidebar.reloadPlugin();
            }
            if (event.getKey().startsWith("Custom") && event.getKey().contains("tab")) {
                chatPanelSidebar.reloadPlugin();
            }
            if (event.getKey().startsWith("font") || event.getKey().endsWith("FontSize") || event.getKey().equals("tabFonts")) {
                chatPanelSidebar.updateFonts();
            }
            if (event.getKey().equals("fontFamily") && (config.fontFamily().equals(ChatPanelConfig.FontFamily.CUSTOM_FONT))) {
                chatPanelSidebar.fontLoadErrorShown = false;
                chatPanelSidebar.updateFonts();
                chatPanelSidebar.fontLoadErrorShown = true;
            }
            if (event.getKey().equals("AutoPop") && config.AutoPop() && !chatPanelSidebar.isPopout()) {
                chatPanelSidebar.togglePopout();
            }
            if (event.getKey().equals("hidePopoutIcon")) {
                if (!config.hidePopoutIcon() && chatPanelSidebar.isPopout()) {
                    chatPanelSidebar.popoutFrame.setIconImage(ImageUtil.loadImageResource(getClass(), "/ChatPanelimg.png"));
                } else if (config.hidePopoutIcon() && chatPanelSidebar.isPopout()) {
                    if (chatPanelSidebar.popoutFrame.isUndecorated()){
                        chatPanelSidebar.popoutFrame.setIconImage(null);
                    } else {
                        chatPanelSidebar.popoutFrame.setIconImage(new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB));}
                    }
            }
            if (event.getKey().equals("DisablePopOut")) {
                chatPanelSidebar.refreshPopout();
            }
            if (event.getKey().equals("hideSidebarIcon")) {
                if (config.hideSidebarIcon() && navButton != null) {
                    clientToolbar.removeNavigation(navButton);
                } else {
                    navBuilder();
                }
            }
            if (event.getKey().equals("iconPosition") && !config.hideSidebarIcon() && navButton != null) {
                clientToolbar.removeNavigation(navButton);
                navBuilder();
            } else {
                chatPanelSidebar.updateChatStyles();
                if (chatPanelSidebar.isPopout()) {
                    chatPanelSidebar.setCactus(config.popoutOpacity());
                }
            }
            if (event.getKey().startsWith("hideSidebar")) {
                if (config.hideSidebarIcon()) {
                    String message = "<html>Hide Sidebar Icon enabled.<br> Turn plugin off/on with Auto-Pop Out Window enabled to spawn a Chat Panel.</html>";
                    JOptionPane.showMessageDialog(client.getCanvas(), message, "Notice", JOptionPane.WARNING_MESSAGE);
                }
            }
            if (config.hideSidebarIcon() && !config.AutoPop()) {
                String message = "<html>Warning: Hide Sidebar Icon is enabled but Auto-pop out window is not.<br>Enable Auto-pop out or disable Hide Sidebar Icon to access to Chat Panel.</html>";
                JOptionPane.showMessageDialog(client.getCanvas(), message, "Configuration Issue", JOptionPane.WARNING_MESSAGE);
            }});
        }
    }
}

package com.chatpanel;

import net.runelite.api.Client;
import net.runelite.client.RuneLite;
import net.runelite.client.config.ChatColorConfig;
import net.runelite.client.ui.ColorScheme;
import net.runelite.client.ui.PluginPanel;

import javax.inject.Inject;
import javax.swing.*;
import javax.swing.border.EmptyBorder;
import java.awt.*;
import java.awt.event.*;
import javax.swing.filechooser.FileNameExtensionFilter;
import javax.swing.text.*;

import net.runelite.client.util.ImageUtil;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.awt.IllegalComponentStateException;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.io.InputStream;
import java.io.FileInputStream;
import java.io.PrintWriter;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.List;
import java.util.ArrayList;
import java.util.Objects;
import java.util.Map;
import java.util.HashMap;
import java.util.regex.Matcher;
import java.util.regex.Pattern;


public class ChatPanelSidebar extends PluginPanel {
    private final JTextPane publicChatArea;
    private final JTextPane privateChatArea;
    private final JTextPane clanChatArea;
    private final JTextPane friendsChatArea;
    private final JTextPane allChatArea;
    private final JTextPane customChatArea;
    private final JTextPane customChatArea2;
    private final JTextPane customChatArea3;
    private final JTextPane gameChatArea;
    private final JTextPane combatArea;
    private final JTabbedPane tabbedPane;
    private final ChatPanelConfig config;
    private static final Logger logger = LoggerFactory.getLogger(ChatPanelSidebar.class);
    private boolean isPopout = false;
    JFrame popoutFrame;
    private JFrame popoutTab;
    private JButton popoutButton;
    private JButton popinButton;
    private JButton popinButton2;
    private boolean overrideUndecorated;
    private static final int AUTO_POP_DELAY_MS = 180; //This prevents the pop out window from messing up RL's icon.
    private Timer autoPopTimer;
    private final List<JFrame> popoutTabs = new ArrayList<>();
    private final Client client;
    @Inject
    private final ChatColorConfig chatColorConfig;

    public ChatPanelSidebar(ChatPanelConfig config, Client client, ChatColorConfig chatColorConfig) {
        this.config = config;
        this.client = client;
        this.chatColorConfig = chatColorConfig;
        setLayout(new BorderLayout());
        popoutButton = new JButton("Pop out");
        popoutButton.addActionListener(e -> togglePopout());
        if (!config.hidepopoutButtons()) {
            popoutButton.setVisible(true);
            add(popoutButton, BorderLayout.SOUTH);
        }

        if (!CHAT_PANEL_DIR.exists()) {
               createDirectory();
        }

        publicChatArea = createTextPane();
        privateChatArea = createTextPane();
        clanChatArea = createTextPane();
        friendsChatArea = createTextPane();
        gameChatArea = createTextPane();
        allChatArea = createTextPane();
        customChatArea = createTextPane();
        customChatArea2 = createTextPane();
        customChatArea3 = createTextPane();
        combatArea = createTextPane();

        tabbedPane = new JTabbedPane();
        createTabs();

        add(tabbedPane, BorderLayout.CENTER);
        updateChatStyles();
        updateFonts();
        tabbedPane.addMouseListener(new MouseAdapter() {
            @Override
            public void mouseClicked(MouseEvent e) {
                SwingUtilities.isMiddleMouseButton(e);
                if (SwingUtilities.isRightMouseButton(e)) {
                    int tabIndex = tabbedPane.indexAtLocation(e.getX(), e.getY());
                    if (tabIndex != -1) {
                        tabbedPane.setSelectedIndex(tabIndex);
                        tabbedPane.setBackgroundAt(tabIndex, ColorScheme.DARK_GRAY_COLOR);
                        showPopupMenu(e.getComponent(), e.getX(), e.getY(), tabIndex);
                    }
                }
                if (SwingUtilities.isMiddleMouseButton(e)) {
                    int tabIndex = tabbedPane.indexAtLocation(e.getX(), e.getY());
                    if (tabIndex != -1) {
                        popOutTab(tabIndex);
                    }
                }
                if (SwingUtilities.isLeftMouseButton(e)) {
                    int tabIndex = tabbedPane.indexAtLocation(e.getX(), e.getY());
                    if (tabIndex != -1) {
                        tabbedPane.setBackgroundAt(tabIndex, ColorScheme.DARK_GRAY_COLOR);
                    }
                }
            }
        });
        if (config.AutoPop() && !isPopout()) {
            autoPopTimer = new Timer(AUTO_POP_DELAY_MS, new ActionListener() {
                @Override
                public void actionPerformed(ActionEvent e) {
                    togglePopout();
                    autoPopTimer.stop();
                }
            });
            autoPopTimer.start();
        }
    }

    private void showPopupMenu(Component component, int x, int y, int tabIndex) {
        JPopupMenu popupMenu = new JPopupMenu();

        JMenuItem popoutItem = new JMenuItem("Pop Out");
        popoutItem.addActionListener(e -> popOutTab(tabIndex));
        popupMenu.add(popoutItem);

        JMenuItem resetHistoryItem = new JMenuItem("Reset History");
        resetHistoryItem.addActionListener(e -> resetTabHistory(tabIndex));
        popupMenu.add(resetHistoryItem);

        JMenuItem exportItem = new JMenuItem("Export Log");
        exportItem.addActionListener(e -> exportChatLog(tabIndex));
        popupMenu.add(exportItem);

        JMenuItem searchItem = new JMenuItem("Search");
        popupMenu.add(searchItem);
        searchItem.addActionListener(e -> {
            ChatPanelSearch.SearchWindow searchWindow = new ChatPanelSearch.SearchWindow(popoutFrame, tabbedPane, tabIndex, getParent());
            searchWindow.setVisible(true);
        });

        String tabTitle = tabbedPane.getTitleAt(tabIndex);
        if (privateChatTabs.containsKey(tabTitle)|| ("Private".equals(tabTitle) && !config.showPrivateChat())) {
            JMenuItem closeTabItem = new JMenuItem("Close Tab");
            closeTabItem.addActionListener(e -> {
                tabbedPane.remove(tabIndex);
                privateChatTabs.remove(tabTitle);
                privateChatNames.remove(tabTitle);
            });
            popupMenu.add(closeTabItem);
        }
        popupMenu.show(component, x, y);
    }

    private void createTabs() {
        tabbedPane.removeAll();

        if (config.showPublicChat()) {
            tabbedPane.addTab("Public", createScrollPane(publicChatArea));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab("Public"), "Right click for options. MMB to pop out tab");
        }

        if (config.showPrivateChat() || maxPMmessageshown || mergedPMs) {
            tabbedPane.addTab("Private", createScrollPane(privateChatArea));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab("Private"), "Right click for options. MMB to pop out tab");
        }

        if (config.showClanChat()) {
            tabbedPane.addTab("Clan", createScrollPane(clanChatArea));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab("Clan"), "Right click for options. MMB to pop out tab");
        }

        if (config.showGameChat()) {
            tabbedPane.addTab("Game", createScrollPane(gameChatArea));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab("Game"), "Right click for options. MMB to pop out tab");
        }

        if (config.showAllChat()) {
            tabbedPane.addTab("All", createScrollPane(allChatArea));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab("All"), "Right click for options. MMB to pop out tab");
        }

        if (config.showFriendsChat()) {
            tabbedPane.addTab("Friends", createScrollPane(friendsChatArea));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab("Friends"), "Right click for options. MMB to pop out tab");
        }

        if (config.showCustomChat()) {
            String tabTitle = config.custom1Tabname();
            tabbedPane.addTab(tabTitle, createScrollPane(customChatArea));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab(tabTitle), "Right click for options. MMB to pop out tab");
        }

        if (config.showCustom2Chat()) {
            String tabTitle = config.custom2Tabname();
            tabbedPane.addTab(tabTitle, createScrollPane(customChatArea2));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab(tabTitle), "Right click for options. MMB to pop out tab");
        }

        if (config.showCustom3Chat()) {
            String tabTitle = config.custom3Tabname();
            tabbedPane.addTab(tabTitle, createScrollPane(customChatArea3));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab(tabTitle), "Right click for options. MMB to pop out tab");
        }

        if (config.showCombatTab()) {
            String tabTitle = "Combat";
            tabbedPane.addTab(tabTitle, createScrollPane(combatArea));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab(tabTitle), "Right click for options. MMB to pop out tab");
        }

        for (Map.Entry<String, JTextPane> entry : privateChatTabs.entrySet()) {
            String tabName = entry.getKey();
            JTextPane chatArea = entry.getValue();
            tabbedPane.addTab(tabName, createScrollPane(chatArea));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab(tabName), "Right click for options or to remove tab. MMB to pop out tab");
        }
    }


    public final List<String> privateChatNames = new ArrayList<>(); // List to store private chat names for dropdown menu in Chat Out (future).
    private final Map<String, JTextPane> privateChatTabs = new HashMap<>();
    boolean maxPMmessageshown = false;

    private JTextPane createPrivateChatTabs(String name) {
        String tabName;
        if (name.startsWith("To ")) {
            tabName = name.substring(3);
        } else if (name.startsWith("From ")) {
            tabName = name.substring(5);
        } else {
            tabName = name;
        }

        JTextPane pmTab = privateChatTabs.get(tabName);

        if (pmTab == null) {
            if (privateChatTabs.size() >= config.maxPMTabs()) {
                if (!maxPMmessageshown){
                    JOptionPane.showMessageDialog(this, "Maximum number of PM tabs reached, new PMs will be sent to Private tab. \nYou can right-click > 'Remove tab' on a PM tab to create room for more PM tabs.", "Too many friends", JOptionPane.WARNING_MESSAGE);
                    maxPMmessageshown = true;
                }
                if (tabbedPane.indexOfTab("Private") == -1 && popoutTabs.stream().noneMatch(f -> "Private".equals(f.getTitle()))) {
                    tabbedPane.addTab("Private", createScrollPane(privateChatArea));
                    tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab("Private"), "Right click for options. MMB to pop out tab");
                }
               return privateChatArea;
            }
            pmTab = createTextPane();
            privateChatTabs.put(tabName, pmTab);
            tabbedPane.addTab(tabName, createScrollPane(pmTab));
            tabbedPane.setToolTipTextAt(tabbedPane.indexOfTab(tabName), "Right click for options or to remove tab. MMB to pop out tab");
            updateChatStyles();
            updateFonts();
            maxPMmessageshown = false;
        }

        return pmTab;
    }

    private String[] reMessage(String line) { // This is literally just so people don't lose PMs when toggling the Split PMs setting..... Seems crazy... And it keeps pretty formatting too... XD
        String extractedTimestamp;
        String nameWithPrefix;
        String message;
        String eventType = "PRIVATECHAT";

        int toIndex = line.indexOf("[To");
        int fromIndex = line.indexOf("[From");
        int prefixIndex = (toIndex != -1) ? toIndex : fromIndex;

        if (toIndex != -1 && fromIndex != -1) { // This is in case the message actually contains '[To' or '[From'.
            prefixIndex = Math.min(toIndex, fromIndex);
        }

        if (prefixIndex == -1) {
            return null;
        } else {
            if  (prefixIndex == toIndex) {
                eventType = "PRIVATECHATOUT";
            }
        }

        extractedTimestamp = line.substring(0, prefixIndex).trim();
        if (extractedTimestamp.startsWith("[") && extractedTimestamp.endsWith("]")) {
            extractedTimestamp = extractedTimestamp.substring(1, extractedTimestamp.length() - 1);
        }

        int nameEndIndex = line.indexOf("]:", prefixIndex);
        if (nameEndIndex == -1) {
            return null;
        }

        nameWithPrefix = line.substring(prefixIndex + 1, nameEndIndex).trim();
        message = line.substring(nameEndIndex + 2).trim();
        return new String[]{extractedTimestamp, nameWithPrefix, message, eventType};
    }

    void splitIntoPMTabs() {
        try {
            String text = privateChatArea.getStyledDocument().getText(0, privateChatArea.getStyledDocument().getLength());
            for (String line : text.split("\n")) {
                String[] chatLineData = reMessage(line);
                if (chatLineData != null) {
                    String timestamp = chatLineData[0];
                    String name = chatLineData[1];
                    String message = chatLineData[2];
                    String eventType = chatLineData[3];
                    String notifier = "";

                    JTextPane chatArea = createPrivateChatTabs(name);
                    addMessageToChatArea(chatArea, timestamp, name, message, eventType, notifier);
                    updateChatStyles();
                    updateFonts();
                    mergedPMs = false;
                }
            }
        } catch (BadLocationException ignored) {}
        privateChatArea.setText("");
    }

    boolean mergedPMs = false;
    void mergePMTabs() {
       for (Map.Entry<String, JTextPane> entry : privateChatTabs.entrySet()) {
           JTextPane chatArea = entry.getValue();
           try {
               String text = chatArea.getStyledDocument().getText(0, chatArea.getStyledDocument().getLength());
               for (String line : text.split("\n")) {
                   String[] chatLineData = reMessage(line);
                   if (chatLineData != null) {
                       String timestamp = chatLineData[0];
                       String name = chatLineData[1];
                       String message = chatLineData[2];
                       String eventType = chatLineData[3];
                       if (!privateChatArea.getText().contains(line)) {
                           String notifier = "";
                           addMessageToChatArea(privateChatArea, timestamp, name, message, eventType, notifier);
                       }
                       updateChatStyles();
                       updateFonts();
                       mergedPMs = true;
                   }
               }
           } catch (Exception ignored) {}
       }
       privateChatTabs.clear();
    }

    public void reloadPlugin() {
        for (JFrame popoutTab : popoutTabs) {
            popoutTab.dispose();
        }
        popoutTabs.clear();
        createTabs();
    }


    private void exportChatLog(int tabIndex) {
        Component tabComponent = tabbedPane.getComponentAt(tabIndex);
        if (tabComponent instanceof JScrollPane) {
            JTextPane chatArea = (JTextPane) ((JScrollPane) tabComponent).getViewport().getView();
            String chatLog = chatArea.getText();
            JFileChooser fileChooser = new JFileChooser();

            if (config.getLastDIR() != null) {
                fileChooser.setCurrentDirectory(new File(config.getLastDIR()));
            }

            String tabName = tabbedPane.getTitleAt(tabIndex);
            tabName = tabName.replaceAll("[^a-zA-Z0-9]", "_");
            SimpleDateFormat dateFormat;
            switch (config.exportLogDate()) {
                case MM_dd_yy:
                    dateFormat = new SimpleDateFormat("MM_dd_yy");
                    break;
                case dd_MM:
                    dateFormat = new SimpleDateFormat("dd_MM");
                    break;
                case MM_dd:
                    dateFormat = new SimpleDateFormat("MM_dd");
                    break;
                case dd_MM_yy:
                default:
                    dateFormat = new SimpleDateFormat("dd_MM_yy");
                    break;
            }
            String currentTime = dateFormat.format(new Date());
            String defaultFileName = tabName + "_" + currentTime + ".txt";
            fileChooser.setSelectedFile(new File(defaultFileName));
            fileChooser.setFileFilter(new FileNameExtensionFilter("Text files (*.txt)", "txt"));

            while (true) {
                int result = fileChooser.showSaveDialog(this);
                if (result == JFileChooser.APPROVE_OPTION) {
                    File selectedFile = fileChooser.getSelectedFile();
                    if (selectedFile.exists()) {
                        int overwriteResult = JOptionPane.showConfirmDialog(this,
                                "File already exists. Do you want to overwrite it?",
                                "Confirm Overwrite",
                                JOptionPane.YES_NO_OPTION);
                        if (overwriteResult == JOptionPane.NO_OPTION) {
                            continue;
                        }
                    }
                    try (PrintWriter writer = new PrintWriter(selectedFile)) {
                        writer.println(chatLog);
                        JOptionPane.showMessageDialog(this, "Chat log exported successfully!", "", JOptionPane.INFORMATION_MESSAGE);
                        config.setLastDIR(selectedFile.getParent());
                    } catch (IOException ex) {
                        JOptionPane.showMessageDialog(this, "Error exporting chat log: " + ex.getMessage(), "Unknown Error", JOptionPane.ERROR_MESSAGE);
                    }
                    break;
                } else {
                    break;
                }
            }
        }
    }

    private void resetTabHistory(int tabIndex) {
        int result = JOptionPane.showOptionDialog(
                tabbedPane,
                "Are you sure you want to delete this tab's entire chat history?",
                "Erase tab?",
                JOptionPane.YES_NO_OPTION,
                JOptionPane.ERROR_MESSAGE,
                null,
                new Object[] {"Yes", "No"},
                "No"
        );
        if (result != JOptionPane.YES_OPTION) return;
        Component tabComponent = tabbedPane.getComponentAt(tabIndex);
        if (tabComponent instanceof JScrollPane) {
            JTextPane chatArea = (JTextPane) ((JScrollPane) tabComponent).getViewport().getView();
            chatArea.setText("");
        }
    }

    private static final int COOLDOWN = 100;

    private final Timer positionCoolDown = new Timer(COOLDOWN, e -> {
        savePopoutBounds();
    });
    {
        positionCoolDown.setRepeats(false);
    }
    void togglePopout() {
        if (isPopout) {
            // Restore to side panel
            isPopout = false;
                if (popoutTab != null) {
                popoutTab.dispose();
                }
            popoutFrame.dispose();
            addComponentsForSidePanel();
            add(tabbedPane, BorderLayout.CENTER);
            updateChatStyles();
            reloadPlugin();
        } else {
            isPopout = true;
            popoutFrame = new JFrame("Chat Panel") {
                @Override
                public boolean isUndecorated() {
                    return overrideUndecorated || super.isUndecorated();
                }
            };

            if (!config.hidePopoutIcon()){
                popoutFrame.setIconImage(ImageUtil.loadImageResource(getClass(), "/ChatPanelimg.png"));
            } else if (!popoutFrame.isUndecorated()){
            popoutFrame.setIconImage(new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB));
            } else {
                popoutFrame.setIconImage(null);
            }

            boolean appliedSize = false;
            if (config.rememberPopoutPosition()) {
                appliedSize = restorePopoutBounds();
                if (config.isPopoutMaximized()) {
                    popoutFrame.setExtendedState(JFrame.MAXIMIZED_BOTH);
                }
            }

            if (!appliedSize) {
                popoutFrame.setSize(config.popoutSize());
                popoutFrame.setLocationRelativeTo(getParent());
            }

            addComponentsForPopout();
            popoutFrame.add(tabbedPane);
            popoutFrame.setMinimumSize(new Dimension(40, 10));
            popoutFrame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);
            if (config.popoutAlwaysOnTop()) {
                popoutFrame.setAlwaysOnTop(true);
            }
            setCactus(config.popoutOpacity() / 100.0f);

            popoutFrame.addWindowListener(new WindowAdapter() {
                @Override
                public void windowClosing(WindowEvent e) {
                    if (config.hideSidebarIcon() && popoutFrame != null && !config.hidePopoutWarning()) {
                        //JCheckBox checkBox = new JCheckBox("Do not show this message again. I have read and understand how to retrieve the pop out window"); Can't get working :C
                        Object[] options = {"OK", "Cancel",};
                        int choice = JOptionPane.showOptionDialog(
                                popoutFrame,
                                "<html><body style='width: 500px;'>The sidebar icon is currently set to hidden (Pop out button hidden too). <br> To relaunch the pop out window, toggle the plugin off/on with Auto-Pop option on. <br> This warning can be turned off in config.</body></html>",
                                "Closing Pop Out with Sidebar Icon Hidden",
                                JOptionPane.OK_CANCEL_OPTION,
                                JOptionPane.INFORMATION_MESSAGE,
                                null,
                                options,
                                options[0]
                        );
                        if (choice == JOptionPane.CANCEL_OPTION) {
                            e.getWindow().setVisible(true);
                        } else if (choice == JOptionPane.OK_OPTION) {
                            // if (checkBox.isSelected()) Can't get working yet.
                           // {
                           //     config.hidePopoutWarning();
                           // }
                            isPopout = false;
                            popoutFrame.dispose();
                            addComponentsForSidePanel();
                            add(tabbedPane, BorderLayout.CENTER);
                            updateChatStyles();
                        }
                    } else {
                        isPopout = false;
                        if (popoutFrame != null) {
                            popoutFrame.dispose();
                        }
                        addComponentsForSidePanel();
                        add(tabbedPane, BorderLayout.CENTER);
                        updateChatStyles();
                    }
                }
            });
            //On moved instead of on closed because if RL closes first it doesn't always save position.
            popoutFrame.addComponentListener(new ComponentAdapter() {
                @Override
                public void componentMoved(ComponentEvent e) {
                    savePopoutBounds();
                }
                @Override
                public void componentResized(ComponentEvent e) {
                    savePopoutBounds();
                }
                private void savePopoutBounds() {
                    if (config.rememberPopoutPosition()) {
                        positionCoolDown.restart();
                    }
                }
            });
            popoutFrame.setVisible(true);
        }
    }

    private void popOutTab(int tabIndex) {
        Component tabComponent = tabbedPane.getComponentAt(tabIndex);
        String tabTitle = tabbedPane.getTitleAt(tabIndex);
        if (tabComponent instanceof JScrollPane) {
            JTextPane chatArea = (JTextPane) ((JScrollPane) tabComponent).getViewport().getView();
            tabbedPane.remove(tabIndex);

            popoutTab = new JFrame(tabTitle) {
                @Override
                public boolean isUndecorated() {
                    return overrideUndecorated || super.isUndecorated();
                }
            };

            if (!config.hidePopoutIcon()){
                popoutTab.setIconImage(ImageUtil.loadImageResource(getClass(), "/ChatPanelimg.png"));
            } else  if (!popoutTab.isUndecorated()){
                popoutTab.setIconImage(new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB));
            } else {
                popoutTab.setIconImage(null);
            }

            popoutTab.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
            popoutTab.setAlwaysOnTop(config.popoutAlwaysOnTop());
            popoutTab.addWindowListener(new WindowAdapter() {
                @Override
                public void windowClosing(WindowEvent e) {
                    restorePoppedOutTab(tabIndex, chatArea, tabTitle);
                }
            });
            popoutTabs.add(popoutTab);
            JScrollPane scrollPane = new JScrollPane(chatArea);
            scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);
            popoutTab.add(scrollPane);
            setCactus(config.popoutOpacity() / 100.0f);
            if (isPopout){
                popoutTab.setLocationRelativeTo(popoutFrame);
            } else {
                popoutTab.setLocation(this.getLocationOnScreen());
            }

            popoutTab.setSize(config.popoutSize());
            popoutTab.setVisible(true);
            popoutTab.setMinimumSize(new Dimension(40, 10));
        }
    }

    private void restorePoppedOutTab(int tabIndex, JTextPane chatArea, String tabTitle) {
        JScrollPane scrollPane = new JScrollPane(chatArea);
        scrollPane.setPreferredSize(new Dimension(Integer.MAX_VALUE, config.chatAreaHeight()));
        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);
        tabbedPane.insertTab(tabTitle, null, scrollPane, null, tabbedPane.getTabCount());
        tabbedPane.setSelectedIndex(tabbedPane.getTabCount() - 1);
    }

    private boolean restorePopoutBounds() {
        Rectangle bounds = config.getPopoutBounds();
        if (bounds != null) {
            popoutFrame.setBounds(bounds);
            return true;
        }
        return false;
    }

    private void savePopoutBounds() {
        if (popoutFrame.getExtendedState() == JFrame.MAXIMIZED_BOTH) {
            config.setPopoutMaximized(true);
        } else {
            config.setPopoutMaximized(false);
            config.setPopoutBounds(popoutFrame.getBounds());
        }
    }

    void setCactus(float opacity) {
        overrideUndecorated = true;
        try {
            if (popoutTab != null) {
                popoutTab.setOpacity(config.popoutOpacity() / 100.0f);
            }
            if (popoutFrame != null) {
                popoutFrame.setOpacity(config.popoutOpacity() / 100.0f);
            }
        } catch (IllegalComponentStateException | UnsupportedOperationException | IllegalArgumentException ignored) {
            //I don't want to spam the log, this seems to only happen on systems where opacity also can't be applied to RL. Maybe a GPU driver thing?
        } finally {
            overrideUndecorated = false;
        }
    }

    private void addComponentsForSidePanel() {
        if (popoutButton != null) {
            popoutButton.setVisible(true);
        }
        if (popinButton != null) {
            popinButton.setVisible(false);
            if (!config.hidepopoutButtons()) {
                add(popoutButton, BorderLayout.SOUTH);
            }
            remove(popinButton);
        }
        if (popinButton2 != null) {
            popinButton2.setVisible(false);
        }
    }

    private void addComponentsForPopout() {
        if (!config.hidepopoutButtons()) {
            popinButton = new JButton("Pop In");
            popinButton.addActionListener(e -> {
                if (config.hideSidebarIcon() && popoutFrame != null && !config.hidePopoutWarning()) {
                    //JCheckBox checkBox = new JCheckBox("Do not show this message again. I have read and understand how to retrieve the pop out window"); Can't get working yet
                    Object[] options = {"OK", "Cancel"};
                    int choice = JOptionPane.showOptionDialog(
                            popoutFrame,
                            "<html><body style='width: 500px;'>The sidebar icon is currently set to hidden (Pop out button hidden too). <br> To relaunch the pop out window, toggle the plugin off/on with Auto-Pop option on. <br> This warning can be turned off in config.</body></html>",
                            "Closing Pop Out with Sidebar Icon Hidden",
                            JOptionPane.OK_CANCEL_OPTION,
                            JOptionPane.INFORMATION_MESSAGE,
                            null,
                            options,
                            options[0]
                    );
                    if (choice == JOptionPane.CANCEL_OPTION) {
                        setVisible(true);
                    } else if (choice == JOptionPane.OK_OPTION) {
                        // if (checkBox.isSelected()) Can't get working yet.
                        //{
                       //     config.hidePopoutWarning();
                        //}
                        togglePopout();
                    }
                } else {
                    togglePopout();
                }
            });
            popoutFrame.add(popinButton, BorderLayout.SOUTH);
        }
        popinButton2 = new JButton("Pop in");
        popinButton2.addActionListener(e -> togglePopout());
        add(popinButton2, BorderLayout.SOUTH);
        if (popoutButton != null){
            remove(popoutButton);
        }
        if (popinButton2 != null) {
            popinButton2.setVisible(true);
            add(popinButton2, BorderLayout.SOUTH);
        }
    }

    public boolean isPopout() {
        return isPopout;
    }

    public void closePopout() {
        for (JFrame popoutTab : popoutTabs) {
            popoutTab.dispose();
        }
        popoutTabs.clear();
        if (popoutFrame != null) {
            popoutFrame.dispose();
        }
        isPopout = false;
    }
    public void refreshPopout() {
        SwingUtilities.invokeLater(() -> {
        if (!config.hidepopoutButtons()) {
            if (popinButton == null && popoutFrame != null) {
                popinButton = new JButton("Pop In");
                popinButton.addActionListener(e -> togglePopout());
                popoutFrame.add(popinButton, BorderLayout.SOUTH);
                popinButton.setVisible(true);

            }
            popoutButton = new JButton("Pop Out");
            popoutButton.addActionListener(e -> togglePopout());
            add(popoutButton, BorderLayout.SOUTH);
            popoutButton.setVisible(true);

        } else {
            if (popinButton != null) {
                popoutFrame.remove(popinButton);
                popinButton = null;
            }
            if (popoutButton != null) {
                remove(popoutButton);
                popoutButton.setVisible(false);
            }
        }
        if (popoutFrame != null){
            popoutFrame.revalidate();
            popoutFrame.repaint();
        }});
    }

    //Wrap editor is to mimic wrapping that was in JTextArea, before switching to JTextPane. smh, must be a better way.
    public static class WrapEditorKit extends StyledEditorKit {
        @Override
        public ViewFactory getViewFactory() {
            return new WrapColumnFactory();
        }

        static class WrapColumnFactory implements ViewFactory {
            @Override
            public View create(Element elem) {
                String kind = elem.getName();
                if (kind != null) {
                    switch (kind) {
                        case AbstractDocument.ContentElementName:
                            return new WrapLabelView(elem);
                        case AbstractDocument.ParagraphElementName:
                            return new ParagraphView(elem);
                        case AbstractDocument.SectionElementName:
                            return new BoxView(elem, View.Y_AXIS);
                        case StyleConstants.ComponentElementName:
                            return new ComponentView(elem);
                        case StyleConstants.IconElementName:
                            return new IconView(elem);
                    }
                }
                return new LabelView(elem);
            }
        }

        static class WrapLabelView extends LabelView {
            public WrapLabelView(Element elem) {
                super(elem);
            }

            @Override
            public float getMinimumSpan(int axis) {
                switch (axis) {
                    case View.X_AXIS:
                        return 0;
                    case View.Y_AXIS:
                        return super.getMinimumSpan(axis);
                    default:
                        throw new IllegalArgumentException("Invalid axis: " + axis);
                }
            }
        }
    }

    private JTextPane createTextPane() {
        JTextPane textPane = new JTextPane();
        textPane.setEditable(false);
        textPane.setBorder(new EmptyBorder(5, 2, 5, 2));
        SimpleAttributeSet attributes = new SimpleAttributeSet();
        textPane.getStyledDocument().setParagraphAttributes(0, textPane.getDocument().getLength(), attributes, false);
        textPane.setEditorKit(new WrapEditorKit());
        return textPane;
    }

    private JScrollPane createScrollPane(JTextPane chatArea) {
        JScrollPane scrollPane = new JScrollPane(chatArea);
        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);
        setScrollPaneSize(scrollPane);
        return scrollPane;
    }

    private void setScrollPaneSize(JScrollPane scrollPane) {
       scrollPane.setMaximumSize(new Dimension(Integer.MAX_VALUE, config.chatAreaHeight()));
       scrollPane.setPreferredSize(new Dimension(Integer.MAX_VALUE, config.chatAreaHeight()));
    }

    public void updateChatStyles() {
        setColors();
        setScrollPaneSizes();
    }

    public void updateFonts(){
        setFontSize();
    }

    private void setFontSize() {
        publicChatArea.setFont(getFontFromConfig(config.publicChatFontSize()));
        privateChatArea.setFont(getFontFromConfig(config.privateChatFontSize()));
        clanChatArea.setFont(getFontFromConfig(config.clanChatFontSize()));
        friendsChatArea.setFont(getFontFromConfig(config.friendsChatFontSize()));
        gameChatArea.setFont(getFontFromConfig(config.gameChatFontSize()));
        allChatArea.setFont(getFontFromConfig(config.allChatFontSize()));
        customChatArea.setFont(getFontFromConfig(config.customChatFontSize()));
        customChatArea2.setFont(getFontFromConfig(config.custom2ChatFontSize()));
        customChatArea3.setFont(getFontFromConfig(config.custom3ChatFontSize()));
        combatArea.setFont(getFontFromConfig(config.combatFontSize()));
        if (config.tabFonts() && config.fontFamily() != ChatPanelConfig.FontFamily.NORMAL){
            tabbedPane.setFont(getFontFromConfig(config.tabFontSize()));
        } else {
            tabbedPane.setFont(new Font("RuneScape", Font.PLAIN,config.tabFontSize()));
        }
        tabbedPane.revalidate();
        tabbedPane.repaint();

        for (Map.Entry<String, JTextPane> entry : privateChatTabs.entrySet()) {
            JTextPane chatArea = entry.getValue();
            chatArea.setFont(getFontFromConfig(config.privateChatFontSize()));
        }
    }

    public static final File CHAT_PANEL_DIR = new File(RuneLite.RUNELITE_DIR.getPath() + File.separator + "chat-panel");
    private static final File CUSTOM_FONT_FILE = new File(CHAT_PANEL_DIR, "customfont.ttf");
    boolean fontLoadErrorShown = true;
    private Font getFontFromConfig(int fontSize) {
        Font baseFont;
        switch (config.fontStyle()) {
            case BOLD:
                baseFont = new Font("Bold", Font.BOLD, fontSize);
                break;
            case ITALIC:
                baseFont = new Font("Italic", Font.ITALIC, fontSize);
                break;
            case ITALIC_BOLD:
                baseFont = new Font("Italic Bold", Font.ITALIC + Font.BOLD, fontSize);
                break;
            default:
                baseFont = new Font("Plain", Font.PLAIN, fontSize);
                break;
        }
        Font selectedFont;

        switch (config.fontFamily()) {
            case CUSTOM_FONT:
                selectedFont = customFontLoader(fontSize, baseFont.getStyle());
                break;
            case SUPERFUNKY:
                selectedFont = fontLoader("/SuperFunky.ttf", fontSize, baseFont.getStyle());
                break;
            case FONT2:
                selectedFont = fontLoader("/MisterPixel.otf", fontSize, baseFont.getStyle());
                break;
            case FONT3:
                selectedFont = fontLoader("/Qaz.ttf", fontSize, baseFont.getStyle());
                break;
            case FONT4:
                selectedFont = fontLoader("/Fonarto.ttf", fontSize, baseFont.getStyle());
                break;
            case FONT5:
                selectedFont = fontLoader("/HomeVideo.ttf", fontSize, baseFont.getStyle());
                break;
            case FONT6:
                selectedFont = fontLoader("/DecemberShow.ttf", fontSize, baseFont.getStyle());
                break;
            case FONT7:
                selectedFont = fontLoader("/Avara.ttf", fontSize, baseFont.getStyle());
                break;
            case FONT8:
                selectedFont = fontLoader("/Funtype.ttf", fontSize, baseFont.getStyle());
                break;
            case NORMAL:
            default:
                selectedFont = baseFont;
                break;
        }
        return selectedFont;
    }

    private Font fontLoader(String fontFileName, int fontSize, int fontStyle) {
        try (InputStream fontStream = getClass().getResourceAsStream(fontFileName)) {
            GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();
            Font customFont = Font.createFont(Font.TRUETYPE_FONT, fontStream);
            ge.registerFont(customFont);
            return customFont.deriveFont(fontStyle, (float) fontSize);
        } catch (FontFormatException | IOException ignored) {
            return new Font("Default", fontStyle, fontSize);
        }
    }

    private Font customFontLoader(int fontSize, int fontStyle) {
        if (!CUSTOM_FONT_FILE.exists()) {
            if (!fontLoadErrorShown) {
                String message = "The Custom Font file is empty. \nTo use a Custom Font place a .ttf or .otf file named customfont.ttf into:\n /.runelite/chat-panel/\nFor more info, right click 'Chat Panel', then click 'Support'.";
                String[] options = {"Open Location", "OK"};
                fontLoadErrorShown = true;
                int choice = JOptionPane.showOptionDialog(client.getCanvas(), message, "Empty Font File", JOptionPane.DEFAULT_OPTION, JOptionPane.INFORMATION_MESSAGE, null, options, options[0]);
                if (choice == 0) {
                    openDIR();
                }
            }
            return new Font("Default", fontStyle, fontSize);
        } else {
            try (InputStream fontStream = new FileInputStream(CUSTOM_FONT_FILE)) {
                GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();
                Font customFont = Font.createFont(Font.TRUETYPE_FONT, fontStream);
                ge.registerFont(customFont);
                return customFont.deriveFont(fontStyle, (float) fontSize);
            } catch (FontFormatException | IOException e) {
                if (!fontLoadErrorShown) {
                    String message = "Error loading custom font, some fonts don't work.  :( \nHere is the error message that was created:\n" + e.getMessage();
                    String[] options = {"Open Location", "OK"};
                    int choice = JOptionPane.showOptionDialog(client.getCanvas(), message, "Font Loading Error", JOptionPane.DEFAULT_OPTION, JOptionPane.ERROR_MESSAGE, null, options, options[0]);
                    fontLoadErrorShown = true;
                    if (choice == 0) {
                        openDIR();
                    }
                }
                return new Font("Default", fontStyle, fontSize);
            }
        }
    }

    private void createDirectory() {
        if (!CHAT_PANEL_DIR.exists()) {
            try {
                boolean dirCreated = CHAT_PANEL_DIR.mkdirs();
                if (!dirCreated) {
                    logger.warn("Failed to create directories. Maybe permission issue?");
                }
            } catch (Exception e) {
                logger.error("Error creating directory: {}", e.getMessage());
            }
        }
    }

    private void openDIR() {
        if (CHAT_PANEL_DIR.exists()) {
            try {
                Desktop desktop = Desktop.getDesktop();
                desktop.open(CUSTOM_FONT_FILE.getParentFile());
            } catch (IOException e) {
                JOptionPane.showMessageDialog(client.getCanvas(), "Error opening file browser \nHere is the error message that was created:\n" + e.getMessage(), "Unknown Error", JOptionPane.ERROR_MESSAGE);
            }
        } else {
            JOptionPane.showMessageDialog(client.getCanvas(), "The Chat Panel directory can't be found in /.runelite/\nThis might be caused by a permission issue.\nYou can try creating the /.runelite/chat-panel/ directory manually.", "Directory Not Found", JOptionPane.ERROR_MESSAGE);
            fontLoadErrorShown = true;
        }
    }

    public void highlightTabByTitle(JTabbedPane tabbedPane, String title) {
        SwingUtilities.invokeLater(() -> {
            for (int i = 0; i < tabbedPane.getTabCount(); i++) {
                if (title.equals(tabbedPane.getTitleAt(i))) {
                    if (tabbedPane.getSelectedIndex() != i) {
                        tabbedPane.setBackgroundAt(i, config.notificationColor());
                    } else {
                        tabbedPane.setBackgroundAt(i, ColorScheme.DARK_GRAY_COLOR);
                    }
                    break;
                }
            }
        });
    }

    public void notifier(String title) {
        if (title != ""){
        ChatPanelConfig.NotifiableTab tab;
        tab = title.startsWith("PMTab") ? ChatPanelConfig.NotifiableTab.PMTabs : ChatPanelConfig.NotifiableTab.valueOf(title);
        if (config.notifiableTabs().contains(tab)) {
            if(title.startsWith("PMTab")){
                highlightTabByTitle(tabbedPane, title.substring(5));
            }
            switch (title) {
                case "Custom1":
                    highlightTabByTitle(tabbedPane, config.custom1Tabname());
                    break;
                case "Custom2":
                    highlightTabByTitle(tabbedPane, config.custom2Tabname());
                    break;
                case "Custom3":
                    highlightTabByTitle(tabbedPane, config.custom3Tabname());
                    break;
                default:
                    highlightTabByTitle(tabbedPane, title);
                    break;
            }
        }}
    }

    private Color getColorForCase(String eventName, JTextPane chatArea) {
        Color color;

        switch (eventName) {
            case "BROADCAST":
                color = config.broadcastColor();
                break;
            case "CHALREQ_CLANCHAT":
                color = config.chalReqClanColor();
                break;
            case "CHALREQ_FRIENDSCHAT":
                color = config.chalReqFriendsColor();
                break;
            case "CHALREQ_TRADE":
                color = config.chalReqTradeColor();
                break;
            case "CLAN_CHAT":
                color = config.clanColor();
                break;
            case "CLAN_GUEST_CHAT":
                color = config.clanGuestChatColor();
                break;
            case "CLAN_GUEST_MESSAGE":
                color = config.clanGuestMessageColor();
                break;
            case "CLAN_GIM_CHAT":
                color = config.clanGimChatColor();
                break;
            case "CLAN_GIM_MESSAGE":
                color = config.clanGimMessageColor();
                break;
            case "CLAN_MESSAGE":
                color = config.clanMessageColor();
                break;
            case "COMBAT":
                color = config.combatColor();
                break;
            case "COMBAT_BLOCK":
                color = config.combatBlockColor() != null ? config.combatBlockColor() : config.combatColor();
                break;
            case "COMBAT_BURN":
                color = config.combatBurnColor() != null ? config.combatBurnColor() : config.combatColor();
                break;
            case "COMBAT_DRAIN":
                color = config.combatDrainColor() != null ? config.combatDrainColor() : config.combatColor();
                break;
            case "COMBAT_HEAL":
                color = config.combatHealColor() != null ? config.combatHealColor() : config.combatColor();;
                break;
            case "COMBAT_MAX":
                color = config.combatMaxColor() != null ? config.combatMaxColor() : config.combatColor();
                break;
            case "COMBAT_POISON":
                color = config.combatPoisonColor() != null ? config.combatPoisonColor() : config.combatColor();;
                break;
            case "CONSOLE":
                color = config.consoleColor();
                break;
            case "DEATH":
                color = config.deathColor();
                break;
            case "DIALOG":
                color = config.dialogColor();
                break;
            case "DIDYOUKNOW":
                color = config.didYouKnowColor();
                break;
            case "ENGINE":
                color = config.engineColor();
                break;
            case "FRIENDSCHAT":
                color = config.friendsColor();
                break;
            case "FRIENDSCHATNOTIFICATION":
                color = config.friendsChatNotificationColor();
                break;
            case "FRIENDNOTIFICATION":
                color = config.friendNotificationColor();
                break;
            case "GAMEMESSAGE":
                color = config.gameMessageColor();
                break;
            case "IGNORENOTIFICATION":
                color = config.ignoreNotificationColor();
                break;
            case "ITEM_EXAMINE":
                color = config.itemExamineColor();
                break;
            case "LOGINLOGOUTNOTIFICATION":
                color = config.loginLogoutColor();
                break;
            case "MESBOX":
                color = config.mesboxColor();
                break;
            case "MODAUTOTYPER":
                color = config.modAutoTyperColor();
                break;
            case "MODCHAT":
                color = config.modChatColor();
                break;
            case "MODPRIVATECHAT":
                color = config.modPrivateChatColor();
                break;
            case "NPC_EXAMINE":
                color = config.npcExamineColor();
                break;
            case "NPC_SAY":
                color = config.npcSayColor();
                break;
            case "OBJECT_EXAMINE":
                color = config.objectExamineColor();
                break;
            case "PRIVATECHAT":
                color = config.privateColor();
                break;
            case "PRIVATECHATOUT":
                color = config.privateChatOutColor();
                break;
            case "PUBLICCHAT":
                color = config.publicColor();
                break;
            case "SPAM":
                color = config.spamColor();
                break;
            case "TRADE":
                color = config.tradeColor();
                break;
            case "TRADE_SENT":
                color = config.tradeSentColor();
                break;
            case "TRADEREQ":
                color = config.tradeReqColor();
                break;
            case "UNKNOWN":
                color = config.unknownColor();
                break;
            case "WELCOME":
                color = config.welcomeColor();
                break;
            default:
                color = chatArea.getForeground();
        }

        if (color == null) {
            return chatArea.getForeground();
        }
        return color;
    }

    private void setColors() {
		if (config.chatColorOffset()!= 0) {

			int offset = config.chatColorOffset();}
		else {
			int offset = 0;
		}
		int offset = 0;

        publicChatArea.setBackground(config.publicChatBackground());
        publicChatArea.setForeground(adjustColor(config.publicChatColor(), offset));
        privateChatArea.setBackground(config.privateChatBackground());
        privateChatArea.setForeground(adjustColor(config.privateChatColor(), offset));
        clanChatArea.setBackground(config.clanChatBackgroundColor());
        clanChatArea.setForeground(adjustColor(config.clanChatColor(), offset));
        friendsChatArea.setBackground(config.friendsChatBackground());
        friendsChatArea.setForeground(adjustColor(config.friendsChatColor(), offset));
        gameChatArea.setBackground(config.gameChatBackgroundColor());
        gameChatArea.setForeground(adjustColor(config.gameChatColor(), offset));
        allChatArea.setBackground(config.allChatBackground());
        allChatArea.setForeground(adjustColor(config.allChatColor(), offset));
        customChatArea.setBackground(config.customChatBackgroundColor());
        customChatArea.setForeground(adjustColor(config.customChatColor(), offset));
        customChatArea2.setBackground(config.custom2ChatBackgroundColor());
        customChatArea2.setForeground(adjustColor(config.custom2ChatColor(), offset));
        customChatArea3.setBackground(config.custom3ChatBackgroundColor());
        customChatArea3.setForeground(adjustColor(config.custom3ChatColor(), offset));
        combatArea.setBackground(config.combatBackgroundColor());
        combatArea.setForeground(adjustColor(config.combatTextColor(), offset));
        tabbedPane.setForeground(config.tabTextColor());
        UIManager.put("TabbedPane.underlineColor", config.underlineColor());
        UIManager.put("TabbedPane.inactiveUnderlineColor", config.underlineColor());
        SwingUtilities.invokeLater(() -> {
            SwingUtilities.updateComponentTreeUI(tabbedPane);
        });
        for (Map.Entry<String, JTextPane> entry : privateChatTabs.entrySet()) {
            JTextPane chatArea = entry.getValue();
            chatArea.setBackground(config.privateChatBackground());
            chatArea.setForeground(adjustColor(config.privateChatColor(), offset));

        }
    }

    private static final String[] Identifiers = {"Public - ", "Clan - ", "Friends Chat - ", "ClanGuest - ", "ClanGIM - ", "ModChat - ", "ModPrivate - "};
    private Color NameColor(JTextPane chatArea, String cleanedName, String eventName) {
        if (config.enableMyNameColor()) {
            String baseName = cleanedName;
            for (String identifier : Identifiers) {
                if (cleanedName.startsWith(identifier)) {
                    baseName = cleanedName.substring(identifier.length()).trim();
                    break;
                }
            }
            if (client.getLocalPlayer()!=null) {
                if (Objects.equals(client.getLocalPlayer().getName(), baseName)) {
                    return config.myNameColor();
                }
            }
        }
        if (config.OverrideNameColor() && (getColorForCase(eventName, chatArea) != chatArea.getForeground())) {
            return getColorForCase(eventName, chatArea);
        }

        if (chatArea == publicChatArea) {
            return config.publicChatNameColor();
        } else if (chatArea == privateChatArea) {
            return config.privateChatNameColor();
        } else if (chatArea == clanChatArea) {
            return config.clanChatNameColor();
        } else if (chatArea == friendsChatArea) {
            return config.friendsChatNameColor();
        } else if (chatArea == gameChatArea) {
            return config.gameChatNameColor();
        } else if (chatArea == allChatArea) {
            return config.allChatNameColor();
        } else if (chatArea == customChatArea) {
            return config.customChatNameColor();
        } else if (chatArea == customChatArea2) {
            return config.custom2ChatNameColor();
        } else if (chatArea == customChatArea3) {
            return config.custom3ChatNameColor();
        } else if (chatArea == combatArea) {
            return config.combatLabelColor();
        }
        for (JTextPane privateChatArea : privateChatTabs.values()) {
            if (chatArea == privateChatArea) {
                return config.privateChatNameColor();
            }
        }
        return (Color.YELLOW);
    }

    private Color TimestampColor(JTextPane chatArea, String eventName) {
        if (config.OverrideTimestampColor() && (getColorForCase(eventName, chatArea) != chatArea.getForeground())) {
            return getColorForCase(eventName, chatArea);
        }
        if (chatArea == publicChatArea) {
            return config.publicChatTimestampColor();
        } else if (chatArea == privateChatArea) {
            return config.privateChatTimestampColor();
        } else if (chatArea == clanChatArea) {
            return config.clanChatTimestampColor();
        } else if (chatArea == friendsChatArea) {
            return config.friendsChatTimestampColor();
        } else if (chatArea == gameChatArea) {
            return config.gameChatTimestampColor();
        } else if (chatArea == allChatArea) {
            return config.allChatTimestampColor();
        } else if (chatArea == customChatArea) {
            return config.customChatTimestampColor();
        } else if (chatArea == customChatArea2) {
            return config.custom2ChatTimestampColor();
        } else if (chatArea == customChatArea3) {
            return config.custom3ChatTimestampColor();
        } else if (chatArea == combatArea) {
            return config.combatTimestampColor();
        }
        for (JTextPane privateChatArea : privateChatTabs.values()) {
            if (chatArea == privateChatArea) {
                return config.privateChatTimestampColor();
            }
        }
        return Color.YELLOW;
    }
    private Color GroupColor(JTextPane chatArea, String eventName) {
        if (config.OverrideGroupNameColor() && (getColorForCase(eventName, chatArea) != chatArea.getForeground())) {
            return getColorForCase(eventName, chatArea);
        }
        if (chatArea == clanChatArea) {
            return config.clanChatGroupNameColor();
        } else if (chatArea == friendsChatArea) {
            return config.friendsChatGroupNameColor();
        } else if (chatArea == allChatArea) {
            return config.allChatGroupNameColor();
        } else if (chatArea == customChatArea) {
            return config.customChatGroupNameColor();
        } else if (chatArea == customChatArea2) {
            return config.custom2ChatGroupNameColor();
        } else if (chatArea == customChatArea3) {
            return config.custom3ChatGroupNameColor();
        }
        return Color.YELLOW;
    }


    private Color adjustColor(Color color, int offset) {
        int red = Math.max(0, Math.min(255, color.getRed() + (offset * 255 / 100)));
        int green = Math.max(0, Math.min(255, color.getGreen() + (offset * 255 / 100)));
        int blue = Math.max(0, Math.min(255, color.getBlue() + (offset * 255 / 100)));
        return new Color(red, green, blue);
    }

    private void highlightWords(String message, String[] highlightWords, Color highlightColor, boolean partialMatching, StyledDocument doc) {
        List<String> highlightWordsList = new ArrayList<>();
        for (String word : highlightWords) {
            if (!word.trim().isEmpty()) {
                String escapedWord = Pattern.quote(word);
                highlightWordsList.add(escapedWord);
            }
        }
        Pattern pattern = Pattern.compile((partialMatching? "" : "\\b") + "(" + String.join("|", highlightWordsList) + ")" + (partialMatching? "" : "\\b"), Pattern.CASE_INSENSITIVE);
        Matcher matcher = pattern.matcher(message);
        while (matcher.find()) {
            String matchedWord = matcher.group();
            int startIndex = doc.getLength() - message.length() + matcher.start();
            SimpleAttributeSet highlightAttrs = new SimpleAttributeSet();
            StyleConstants.setForeground(highlightAttrs, highlightColor);
            doc.setCharacterAttributes(startIndex, matchedWord.length(), highlightAttrs, false);
        }
    }
    private Color runeLiteColors(String eventName)
    {
        switch (eventName)
        {
            case "PUBLICCHAT":
            case "MODCHAT":
                return chatColorConfig.transparentPublicChatHighlight();
            case "PRIVATECHATOUT":
                return chatColorConfig.transparentPrivateMessageSentHighlight();
            case "PRIVATECHAT":
            case "MODPRIVATECHAT":
                return chatColorConfig.transparentPrivateMessageReceivedHighlight();
            case "FRIENDSCHATNOTIFICATION":
                return chatColorConfig.transparentFriendsChatInfoHighlight();
            case "FRIENDSCHAT":
                return chatColorConfig.transparentFriendsChatMessageHighlight();
            case "CLAN_GIM_MESSAGE":
            case "CLAN_MESSAGE":
                return chatColorConfig.transparentClanChatInfoHighlight();
            case "CLAN_CHAT":
            case "CLAN_GIM_CHAT":
                return chatColorConfig.transparentClanChatMessageHighlight();
            case "CLAN_GUEST_MESSAGE":
                return chatColorConfig.transparentClanChatGuestInfoHighlight();
            case "CLAN_GUEST_CHAT":
                return chatColorConfig.transparentClanChatGuestMessageHighlight();
            case "TRADEREQ":
                return chatColorConfig.transparentTradeChatMessageHighlight();
            case "GAMEMESSAGE":
            case "ENGINE":
                return chatColorConfig.transparentServerMessageHighlight();
            case "CONSOLE":
                return chatColorConfig.transparentGameMessageHighlight();
            case "ITEM_EXAMINE":
            case "OBJECT_EXAMINE":
            case "NPC_EXAMINE":
                return chatColorConfig.transparentExamineHighlight();
            case "SPAM":
                return chatColorConfig.transparentFilteredHighlight();
            default:
            return Color.GREEN;
        }
    }

    private void inheritColors(String rawMessage, StyledDocument doc, boolean isOddLine, Color baseColor, String eventName) throws BadLocationException {
        Color normalColor = isOddLine ? adjustColor(baseColor, config.chatColorOffset()) : baseColor;
        Color inheritedColor = runeLiteColors(eventName) != null ? runeLiteColors(eventName): normalColor;
        Color inheritedOdd = isOddLine ? adjustColor(inheritedColor, config.chatColorOffset()) : inheritedColor;
        Color color = normalColor;

        int last = 0;
        Pattern pattern = Pattern.compile("(?i)<col(?:=)?([a-z0-9#]+)>|</col>");
        Matcher matcher = pattern.matcher(rawMessage);

        while (matcher.find()) {
            if (matcher.start() > last) {
                SimpleAttributeSet attrs = new SimpleAttributeSet();
                StyleConstants.setForeground(attrs, color);
                doc.insertString(doc.getLength(), rawMessage.substring(last, matcher.start()), attrs);
            }
            String tag = matcher.group(1);
            if (tag == null) {
                color = normalColor;
            } else {
                if (config.runeLiteHighlights()) {
                    if (tag.equals("NORMAL")) {
                        color = normalColor;
                    } else if (tag.equals("HIGHLIGHT")) {
                        color = inheritedOdd;
                    }
                }
                if (config.gameHighlights() && !tag.equals("HIGHLIGHT") && !tag.equals("NORMAL")) {
                    try {
                        color = Color.decode("#" + tag);
                    } catch (NumberFormatException e) {
                        color = baseColor;
                    }
                }
            }
            last = matcher.end();
        }
        if (last < rawMessage.length()) {
            SimpleAttributeSet attrs = new SimpleAttributeSet();
            StyleConstants.setForeground(attrs, color);
            doc.insertString(doc.getLength(), rawMessage.substring(last), attrs);
        }
    }


    private void setScrollPaneSizes() {
        if (tabbedPane.getTabCount() > 0) {
            setScrollPaneSize((JScrollPane) tabbedPane.getComponentAt(0));
        }
        if (tabbedPane.getTabCount() > 1) {
            setScrollPaneSize((JScrollPane) tabbedPane.getComponentAt(1));
        }
        if (tabbedPane.getTabCount() > 2) {
            setScrollPaneSize((JScrollPane) tabbedPane.getComponentAt(2));
        }
        if (tabbedPane.getTabCount() > 3) {
            setScrollPaneSize((JScrollPane) tabbedPane.getComponentAt(3));
        }
        if (tabbedPane.getTabCount() > 4) {
            setScrollPaneSize((JScrollPane) tabbedPane.getComponentAt(4));
        }
        if (tabbedPane.getTabCount() > 5) {
            setScrollPaneSize((JScrollPane) tabbedPane.getComponentAt(5));
        }
        if (tabbedPane.getTabCount() > 6) {
            setScrollPaneSize((JScrollPane) tabbedPane.getComponentAt(6));
        }
        if (tabbedPane.getTabCount() > 7) {
            setScrollPaneSize((JScrollPane) tabbedPane.getComponentAt(7));
        }
        if (tabbedPane.getTabCount() > 8) {
            setScrollPaneSize((JScrollPane) tabbedPane.getComponentAt(8));
        }
        if (tabbedPane.getTabCount() > 9) {
            setScrollPaneSize((JScrollPane) tabbedPane.getComponentAt(9));
        }
    }

    public String groupNameFinder(String eventName) {
        String groupName = null;
        if (((eventName.contains("CLAN") || eventName.equals("CHALREQ_CLANCHAT")) && !eventName.contains("GUEST")) && client.getClanChannel() != null && config.showClanName()) {
            groupName = client.getClanChannel().getName();
        } else if ((eventName.equals("CLAN_GUEST_MESSAGE") || eventName.equals("CLAN_GUEST_CHAT")) && client.getGuestClanChannel() != null && config.showClanName()) {
            groupName = client.getGuestClanChannel().getName();
        } else if (eventName.contains("FRIENDS") && client.getFriendsChatManager() != null && config.showFCName()) {
            groupName = client.getFriendsChatManager().getName();
        }
        return groupName;
    }


    public void addPublicChatMessage(String timestamp, String cleanedName, String message, String eventName) {
        String notifier ="Public";
        addMessageToChatArea(publicChatArea, timestamp, cleanedName, message, eventName, notifier);
    }

    public void addPrivateChatMessage(String timestamp, String name, String message, String eventName) {
        if (config.splitPMs()){
            JTextPane chatArea;
            if (eventName.equals("LOGINLOGOUTNOTIFICATION")) {
                String nameTag = message.replace(" has logged out.", "").replace(" has logged in.", "");
                JTextPane pmTab = privateChatTabs.get(nameTag);
                if (pmTab != null) {
                    chatArea = createPrivateChatTabs(nameTag);
                    String notifier ="PMTab" + (nameTag);

                    addMessageToChatArea(chatArea, timestamp, name, message, eventName, notifier);
                }
            } else {
                chatArea = createPrivateChatTabs(name);
                String notifier = "PMTab" + (name.substring(name.indexOf(' ') + 1));
                addMessageToChatArea(chatArea, timestamp, name, message, eventName, notifier);
            }
        }
        if (config.showPrivateChat() && !maxPMmessageshown || mergedPMs) {
            String notifier = "Private";
            addMessageToChatArea(privateChatArea, timestamp, name, message, eventName, notifier);
        }
    }

    public void addClanChatMessage(String timestamp, String name, String cleanedMessage, String eventName) {
        String notifier = "Clan";
        addMessageToChatArea(clanChatArea, timestamp, name, cleanedMessage, eventName, notifier);
    }

    public void addFriendsChatMessage(String timestamp, String name, String cleanedMessage, String eventName) {
        String notifier = "Friends";
        addMessageToChatArea(friendsChatArea, timestamp, name, cleanedMessage, eventName, notifier);
    }

    public void addAllChatMessage(String timestamp, String cleanedName, String cleanedMessage, String eventName) {
        String notifier = "All";
        addMessageToChatArea(allChatArea, timestamp, cleanedName, cleanedMessage, eventName, notifier);
    }

    public void addCustomChatMessage(String timestamp, String cleanedName, String cleanedMessage, String eventName) {
        String notifier = "Custom1";
        addMessageToChatArea(customChatArea, timestamp, cleanedName, cleanedMessage, eventName, notifier);
    }

    public void addCustom2ChatMessage(String timestamp, String cleanedName, String cleanedMessage, String eventName) {
        String notifier = "Custom2";
        addMessageToChatArea(customChatArea2, timestamp, cleanedName, cleanedMessage, eventName, notifier);
    }

    public void addCustom3ChatMessage(String timestamp, String cleanedName, String cleanedMessage, String eventName) {
        String notifier = "Custom3";
        addMessageToChatArea(customChatArea3, timestamp, cleanedName, cleanedMessage, eventName, notifier);
    }

    public void addGameChatMessage(String timestamp, String cleanedName, String cleanedMessage, String eventName) {
        String notifier = "Game";
        addMessageToChatArea(gameChatArea, timestamp, cleanedName, cleanedMessage, eventName, notifier);
    }

    public void addCombatMessage(String timestamp, String cleanedName, String combatMessage, String eventName) {
        String notifier = "Combat";
        addMessageToChatArea(combatArea, timestamp, cleanedName, combatMessage, eventName, notifier);
    }

    private String filterAllChatMessage(String message) {
        return message.replaceAll("<col=[0-9a-fA-F]+>|</col>", "").replace("<br>", " ").replace("<colHIGHLIGHT>", "").replace("<colNORMAL>", "");
    }

    private void addMessageToChatArea(JTextPane chatArea, String timestamp, String cleanedName, String message, String eventName, String notifier) {
        SwingUtilities.invokeLater(() -> {
            String groupName = groupNameFinder(eventName);
            StyledDocument doc = chatArea.getStyledDocument();
            JScrollPane scrollPane = (JScrollPane) chatArea.getParent().getParent();
            JScrollBar verticalScrollBar = scrollPane.getVerticalScrollBar();

            boolean shouldAutoScroll = (verticalScrollBar.getValue() + verticalScrollBar.getVisibleAmount() == verticalScrollBar.getMaximum());

            int extraLines = config.lineSpacing();
            int offset = extraLines;


            final String[] tempMessage = new String[] { message };
            if (config.replaceInsteadOfRemove()) {
                for (String filter : config.filteredMessages().trim().split("\\s*,\\s*")) {
                    if (filter.trim().isEmpty()) continue;
                    if (message.toLowerCase().contains(filter.toLowerCase())) {
                        return;
                    }
                }
            } else {
                for (String filter : config.filteredMessages().trim().split("\\s*,\\s*")) {
                    if (filter.trim().isEmpty()) continue;
                    String regex = "(?i)" + Pattern.quote(filter);
                    tempMessage[0] = tempMessage[0].replaceAll(regex, "*".repeat(filter.length()));
                }
            }

            notifier(notifier);
            String filteredMessage = tempMessage[0];

            Color baseColor = getColorForCase(eventName, chatArea);
            int lineCount = doc.getDefaultRootElement().getElementCount();
            int effectiveLineCount = (lineCount + extraLines - 1) / (extraLines + 1);
            boolean isOddLine = (effectiveLineCount - 1) % 2!= 0;


            SimpleAttributeSet timestampAttrs = new SimpleAttributeSet();
            Color timestampColor;
            timestampColor = isOddLine ? adjustColor(TimestampColor(chatArea, eventName), config.chatColorOffset()) : TimestampColor(chatArea, eventName);
            StyleConstants.setForeground(timestampAttrs, timestampColor);

            SimpleAttributeSet groupAttrs = new SimpleAttributeSet();
            Color groupColor = isOddLine ? adjustColor(GroupColor(chatArea, eventName), config.chatColorOffset()) : GroupColor(chatArea, eventName);
            StyleConstants.setForeground(groupAttrs, groupColor);

            SimpleAttributeSet nameAttrs = new SimpleAttributeSet();
            Color nameColor = isOddLine ? adjustColor(NameColor(chatArea, cleanedName, eventName), config.chatColorOffset()) : NameColor(chatArea, cleanedName, eventName);
            StyleConstants.setForeground(nameAttrs, nameColor);

            java.util.function.Supplier<Color> getRandomBrightColor = () -> {
                int r, g, b;
                do {
                    r = (int)(Math.random() * 256);
                    g = (int)(Math.random() * 256);
                    b = (int)(Math.random() * 256);
                    double brightness = 0.299 * r + 0.587 * g + 0.114 * b; // Apparently, ITU-R BT.601 is the values used by video games to determine what colors are perceived to be bright? Very cool, what a world.
                    if (brightness >= config.randomColorsMinBrightness()) break;
                } while (true);
                return new Color(r, g, b);
            };

            try {
				if (!timestamp.isEmpty()) {
					doc.insertString(doc.getLength(), "[" + timestamp + "] ", timestampAttrs);
				}
                if ((config.showClanName() || config.showFCName()) && groupName != null) {
                    doc.insertString(doc.getLength(), "[" + groupName + "] ", groupAttrs);
                }
				if (!cleanedName.isEmpty()) {
                    doc.insertString(doc.getLength(), "[" + cleanedName + "]: ", nameAttrs);
                }

                if (config.randomColors()) {
                    for (char c : filteredMessage.toCharArray()) {
                        SimpleAttributeSet charAttrs = new SimpleAttributeSet();
                        Color randomColor = getRandomBrightColor.get();
                        StyleConstants.setForeground(charAttrs, randomColor);
                        doc.insertString(doc.getLength(), String.valueOf(c), charAttrs);
                    }
                } else if (config.gameHighlights() || config.runeLiteHighlights()){
                    inheritColors(filteredMessage, doc, isOddLine, baseColor, eventName);
                    filteredMessage = filterAllChatMessage(message);
                } else {
                    filteredMessage = filterAllChatMessage(message);

                    SimpleAttributeSet messageAttrs = new SimpleAttributeSet();
                    Color messageColor = isOddLine ? adjustColor(baseColor, config.chatColorOffset()) : baseColor;
                    StyleConstants.setForeground(messageAttrs, messageColor);
                    doc.insertString(doc.getLength(), filteredMessage, messageAttrs);
                }

                if (config.damageNumberColor() != 0 && eventName.contains("COMBAT")) {
                    Matcher matcher = Pattern.compile("(:\\s*)(\\d+)$").matcher(filteredMessage);
                    if (matcher.find()) {
                        int matchStart = doc.getLength() - filteredMessage.length() + matcher.start(2);
                        int matchEnd = doc.getLength() - filteredMessage.length() + matcher.end(2);

                        SimpleAttributeSet numberAttrs = new SimpleAttributeSet();
                        Color messageColor = isOddLine ? adjustColor(baseColor, config.chatColorOffset()) : baseColor;
                        StyleConstants.setForeground(numberAttrs, adjustColor(messageColor, config.damageNumberColor()));
                        doc.setCharacterAttributes(matchStart, matchEnd - matchStart, numberAttrs, false);
                    }
                }

                if (!config.highlightWords3().trim().isEmpty()) {
                    String[] highlightWords3Array = config.highlightWords3().split("\\s*,\\s*");
                    highlightWords(filteredMessage, highlightWords3Array, config.highlightColor3(), config.PartialMatching(), doc);
                }
                if (!config.highlightWords2().trim().isEmpty()) {
                    String[] highlightWords2Array = config.highlightWords2().split("\\s*,\\s*");
                    highlightWords(filteredMessage, highlightWords2Array, config.highlightColor2(), config.PartialMatching(), doc);
                }
                if (!config.highlightWords().trim().isEmpty()) {
                    String[] highlightWordsArray = config.highlightWords().split("\\s*,\\s*");
                    highlightWords(filteredMessage, highlightWordsArray, config.highlightColor(), config.PartialMatching(), doc);
                }

                doc.insertString(doc.getLength(), "\n", null);

                for (int i = 0; i < extraLines; i++) {
                    doc.insertString(doc.getLength(), "\n", null);
                }

                int excess = doc.getDefaultRootElement().getElementCount() - config.maxLines();
                if (excess > 1) {
                    try {
                        Element root = doc.getDefaultRootElement();
                        int linesToRemove = (excess + extraLines);
                        int endOffset = 0;
                        for (int i = 0; i < linesToRemove; i++) {
                            Element line = root.getElement(i);
                            endOffset = line.getEndOffset();
                        }
                        doc.remove(0, endOffset);
                    } catch (BadLocationException e) {
                        logger.error("Error removing excess lines from chat", e);
                    }
                }
            } catch (BadLocationException e) {
                logger.error("Error managing chat lines", e);
            }

            if (shouldAutoScroll) {
                chatArea.setCaretPosition(doc.getLength());
            }
        });
    }
}
package com.chatpanel;

import net.runelite.client.config.*;

import java.awt.*;
import java.util.Collections;
import java.util.Set;

@ConfigGroup("chatpanel")
public interface ChatPanelConfig extends Config {

    enum FontFamily {
        NORMAL("-Default-"),
        FONT7("Avara"),
        FONT6("December Show"),
        FONT4("Fonarto"),
        FONT8("Funtype"),
        FONT5("Home Video"),
        FONT2("Mr. Pixel"),
        FONT3("Qaz"),
        SUPERFUNKY("Super Funky"),
        CUSTOM_FONT("-Custom Font-");
        private final String name;
        FontFamily(String name) {
            this.name = name;
        }

        @Override
        public String toString() {
            return name;
        }

    }
    enum FontStyle {
        PLAIN("Plain"),
        BOLD("Bold"),
        ITALIC("Italic"),
        ITALIC_BOLD("Italic Bold");
        private final String name;
        FontStyle(String name) {
            this.name = name;
        }

        @Override
        public String toString() {
            return name;
        }

    }

    enum ExportLogDate {
        dd_MM_yy(" dd_MM_yy"),
        MM_dd_yy(" MM_dd_yy"),
        dd_MM(" dd_MM"),
        MM_dd(" MM_dd");
        private final String name;
        ExportLogDate(String name) {
            this.name = name;
        }

        @Override
        public String toString() {
            return name;
        }

    }

    enum NotifiableTab {
        All,
        Clan,
        Combat,
        Friends,
        Game,
        Private,
        PMTabs,
        Public,
        Custom1,
        Custom2,
        Custom3,
    }

    @ConfigSection(
            name = "General",
            description = "General settings that affect all tabs",
            closedByDefault = true,
            position = 0
    )
    String generalSection = "general";

    @ConfigSection(
            name = "Public Chat",
            description = "Settings for the Public Chat tab",
            closedByDefault = true,
            position = 11
    )
    String publicChatSection = "publicChat";

    @ConfigSection(
            name = "Private Chat",
            description = "Settings for the Private Chat tab",
            closedByDefault = true,
            position = 10
    )
    String privateChatSection = "privateChat";

    @ConfigSection(
            name = "Clan Chat",
            description = "Settings for the Clan Chat tab",
            closedByDefault = true,
            position = 6
    )
    String clanChatSection = "clanChat";

    @ConfigSection(
            name = "Friends Chat",
            description = "Settings for the Friends Chat tab",
            closedByDefault = true,
            position = 8
    )
    String friendsChatSection = "friendsChat";

    @ConfigSection(
            name = "Game Chat",
            description = "Settings for the Game Chat tab",
            closedByDefault = true,
            position = 9
    )
    String gameChatSection = "gameChat";

    @ConfigSection(
            name = "All Chat",
            description = "Settings for the All Chat tab, not all of the chat.",
            closedByDefault = true,
            position = 5
    )
    String allChatSection = "allChat";

    @ConfigSection(
            name = "Custom Chat",
            description = "Settings for the Custom Chat tab, select all desired chat channels to be displayed. Long list.",
            closedByDefault = true,
            position = 12
    )
    String customChatSection = "customChat";

    @ConfigSection(
            name = "Custom Chat 2",
            description = "Settings for the second Custom Chat tab, select all desired chat channels to be displayed. Long list.",
            closedByDefault = true,
            position = 13
    )
    String custom2ChatSection = "custom2Chat";

    @ConfigSection(
            name = "Custom Chat 3",
            description = "Settings for the third Custom Chat tab, select all desired chat channels to be displayed. Long list.",
            closedByDefault = true,
            position = 14
    )
    String custom3ChatSection = "custom3Chat";

    @ConfigSection(
            name = "Combat",
            description = "Settings for the Combat tab. (Goblin hits Player for: 2), If target unknown: (Player was hit for: 1). Relies on what you are targeting.",
            closedByDefault = true,
            position = 7
    )
    String combatSection = "combat";

    @ConfigSection(
            name = "Pop Out Window",
            description = "Settings for the pop out window",
            closedByDefault = true,
            position = 1
    )
    String popoutSection = "popoutwindow";

    @ConfigSection(
            name = "Highlighting & Filtering",
            description = "Word highlighting and filtering settings",
            closedByDefault = true,
            position = 14
    )
    String highlightingSection = "highlightingSection";

    @ConfigSection(
            name = "Notifications",
            description = "Notifications settings",
            closedByDefault = true,
            position = 16
    )
    String notificationsSection = "notificationsSection";


    @ConfigSection(
            name = "Tabs",
            description = "Tab selection. (Recommended 4)",
            closedByDefault = true,
            position = 4
    )
    String tabSection = "tabselection";

    @ConfigSection(
            name = "Message Type Coloring",
            description = "Override colors by chat message type. Affects all Chat Tabs.",
            closedByDefault = true,
            position = 15
    )
    String eventSection = "events";
    
    @ConfigSection(
            name = "Extras",
            description = "Additional settings and tweaks",
            closedByDefault = true,
            position = 22
    )
    String extrasSection = "extras";

    @Range(min = -100, max = 100)
    @ConfigItem(
            keyName = "chatColorOffset",
            name = "Odd Row Shading",
            description = "Tints the colors of odd rows. Negative numbers darken, positive brighten. (Min -100, max 100).",
            section = generalSection,
            position = 1
    )
    default int chatColorOffset() {
        return 0;
    }

    @ConfigItem(
            keyName = "fontFamily",
            name = "Font",
            description = "Choose the font for the Chat Panel. <br>You can place a font file named customfont.ttf into /.runelite/chat-panel/ to use your own font. <br>See README for more info.",
            section = generalSection,
            position = 4
    )
    default FontFamily fontFamily()
    {
        return FontFamily.NORMAL;
    }

    @ConfigItem(
            keyName = "fontStyle",
            name = "Font Style",
            description = "Choose the font style for the chat panel",
            section = generalSection,
            position = 5
    )
    default FontStyle fontStyle()
    {
        return FontStyle.PLAIN;
    }

    @ConfigItem(
            keyName = "TimestampFormat",
            name = "Timestamp Format",
            description = "Enter a custom format (e.g. HH:mm. Sets to this on incorrect entry). Many more options for SimpleDateFormat if searched online",
            section = generalSection,
            position = 7
    )
    default String TimestampFormat()
    {
        return "";
    }

    @Range(min = 50, max = 5000)
    @ConfigItem(
            keyName = "chatAreaHeight",
            name = "Chat Area Height",
            description = "Configures the height of the chat area of the side panel. Recommended below window height",
            section = extrasSection,
            position = 3
    )
    default int chatAreaHeight()
    {
        return 435;
    }

    @Range(min = 1, max = 50) // Switching profiles with an icon at priority 0 causes errors.
    @ConfigItem(
            keyName = "iconPosition",
            name = "Icon Position",
            description = "Set the priority for the sidebar icon's position.",
            position = 2,
            section = extrasSection
    )
    default int iconPosition()
    {
        return 5;
    }

    @ConfigItem(
            keyName = "hideSidebarIcon",
            name = "Hide Sidebar Icon",
            description = "ONLY use with Auto-Pop out and if you REALLY don't want a sidebar icon. Toggle plugin on/off to restore pop out window if closed.",
            section = extrasSection,
            position = 3
    )
    default boolean hideSidebarIcon()
    {
        return false;
    }

    @ConfigItem(
            keyName = "publicChatColor",
            name = "Public Chat Color",
            description = "Configures the font color of the public chat messages.",
            section = publicChatSection,
            position = 1
    )
    default Color publicChatColor()
    {
        return new Color(0xF1FF00);
    }

    @ConfigItem(
            keyName = "publicChatBackground",
            name = "Public Chat Background",
            description = "Configures the background color of the public chat.",
            section = publicChatSection,
            position = 0

    )
    default Color publicChatBackground()
    {
        return new Color(0x282828);
    }

    @ConfigItem(
            keyName = "publicChatNameColor",
            name = "Public Chat Name Color",
            description = "Configures the player name color for public chat.",
            section = publicChatSection,
            position = 2
    )
    default Color publicChatNameColor()
    {
        return publicChatColor();
    }

    @ConfigItem(
            keyName = "publicChatTimestampColor",
            name = "Public Chat Timestamp Color",
            description = "Configures the timestamp color for public chat.",
            section = publicChatSection,
            position = 2
    )
    default Color publicChatTimestampColor()
    {
        return publicChatColor();
    }

    @Range(min = 5, max = 200)
    @ConfigItem(
            keyName = "publicChatFontSize",
            name = "Public Chat Font Size",
            description = "Configures the font size of the public chat messages.",
            section = publicChatSection,
            position = 3
    )
    default int publicChatFontSize()
    {
        return 10;
    }

    @ConfigItem(
            keyName = "privateChatColor",
            name = "Private Chat Color",
            description = "Configures the font color of the private chat messages.",
            section = privateChatSection,
            position = 1
    )
    default Color privateChatColor()
    {
        return new Color(0x0AFF00);
    }

    @ConfigItem(
            keyName = "privateChatBackground",
            name = "Private Chat Background",
            description = "Configures the background color of the private chat.",
            section = privateChatSection,
            position = 0
    )
    default Color privateChatBackground()
    {
        return new Color(0x282828);
    }

    @ConfigItem(
            keyName = "privateChatNameColor",
            name = "Private Chat Name Color",
            description = "Configures the player name color for private chat.",
            section = privateChatSection,
            position = 2
    )
    default Color privateChatNameColor()
    {
        return privateChatColor();
    }

    @ConfigItem(
            keyName = "privateChatTimestampColor",
            name = "Private Chat Timestamp Color",
            description = "Configures the timestamp color for private chat.",
            section = privateChatSection,
            position = 2
    )
    default Color privateChatTimestampColor()
    {
        return privateChatColor();
    }

    @Range(min = 5, max = 200)
    @ConfigItem(
            keyName = "privateChatFontSize",
            name = "Private Chat Font Size",
            description = "Configures the font size of the private chat messages.",
            section = privateChatSection,
            position = 3
    )
    default int privateChatFontSize()
    {
        return 14;
    }


    @ConfigItem(
            keyName = "loginLogoutNotification",
            name = "Login/Logout Notification",
            description = "Adds the login and logout notification for friends.",
            section = privateChatSection,
            position = 6
    )
    default boolean loginLogoutNotification()
    {
        return false;
    }

    @ConfigItem(
            keyName = "splitPMs",
            name = "Split PMs",
            description = "Spawns a new chat tab for each private chat conversation. (PM Tabs)",
            section = privateChatSection,
            position = 7
    )
    default boolean splitPMs()
    {
        return true;
    }

    @Range (min = 1, max = 100) // Anyone with more than 100 conversations is up to no good.
    @ConfigItem(
            keyName = "maxPMTabs",
            name = "Max PM Tabs",
            description = "Maximum number of PM tabs to spawn before sending new conversations to the private tab.",
            section = privateChatSection,
            position = 8
    )
    default int maxPMTabs()
    {
        return 50;
    }

    @ConfigItem(
            keyName = "clanChatColor",
            name = "Chat Color",
            description = "Configures the font color of messages in the Clan tab.",
            section = clanChatSection,
            position = 1
    )
    default Color clanChatColor()
    {
        return new Color(0x007DFF);
    }

    @ConfigItem(
            keyName = "clanChatBackgroundColor",
            name = "Background Color",
            description = "Configures the background color of the Clan tab.",
            section = clanChatSection,
            position = 0
    )
    default Color clanChatBackgroundColor()
    {
        return new Color(0x282828);
    }

    @ConfigItem(
            keyName = "clanChatNameColor",
            name = "Name Color",
            description = "Configures the player name color for Clan tab.",
            section = clanChatSection,
            position = 2
    )
    default Color clanChatNameColor()
    {
        return clanChatColor();
    }

    @ConfigItem(
            keyName = "clanChatTimestampColor",
            name = "Timestamp Color",
            description = "Configures the timestamp color for Clan tab.",
            section = clanChatSection,
            position = 2
    )
    default Color clanChatTimestampColor()
    {
        return clanChatColor();
    }

    @ConfigItem(
            keyName = "clanChatGroupNameColor",
            name = "Clan Name Color",
            description = "Configures the color of the Clan name in the Clan tab.",
            section = clanChatSection,
            position = 5
    )
    default Color clanChatGroupNameColor()
    {
        return clanChatColor();
    }

    @Range(min = 5, max = 200)
    @ConfigItem(
            keyName = "clanChatFontSize",
            name = "Font Size",
            description = "Configures the font size of the Clan tab messages.",
            section = clanChatSection,
            position = 6
    )
    default int clanChatFontSize()
    {
        return 12;
    }

    @ConfigItem(
            keyName = "displayClanName",
            name = "Show Clan Name",
            description = "Adds the clan name to all clan messages, including other tabs.",
            section = clanChatSection,
            position = 8
    )
    default boolean showClanName()
    {
        return false;
    }

    @ConfigItem(
            keyName = "friendsChatColor",
            name = "Chat Color",
            description = "Configures the font color of the Friends Chat tab.",
            section = friendsChatSection,
            position = 1
    )
    default Color friendsChatColor()
    {
        return new Color(0x28FF71);
    }

    @ConfigItem(
            keyName = "friendsChatBackground",
            name = "Background Color",
            description = "Configures the background color of the Friends Chat tab.",
            section = friendsChatSection,
            position = 0
    )
    default Color friendsChatBackground()
    {
        return new Color(0x282828);
    }

    @ConfigItem(
            keyName = "friendsChatNameColor",
            name = "Name Color",
            description = "Configures the player name color for the Friends Chat tab.",
            section = friendsChatSection,
            position = 2
    )
    default Color friendsChatNameColor()
    {
        return friendsChatColor();
    }

    @ConfigItem(
            keyName = "friendsChatTimestampColor",
            name = "Timestamp Color",
            description = "Configures the timestamp color for Friends Chat tab.",
            section = friendsChatSection,
            position = 2
    )
    default Color friendsChatTimestampColor()
    {
        return friendsChatColor();
    }

    @ConfigItem(
            keyName = "friendsChatGroupNameColor",
            name = "FC Name Color",
            description = "Configures the color of the FC name in the Friends Chat tab.",
            section = friendsChatSection,
            position = 3
    )
    default Color friendsChatGroupNameColor()
    {
        return friendsChatColor();
    }

    @Range(min = 5, max = 200)
    @ConfigItem(
            keyName = "friendsChatFontSize",
            name = "Font Size",
            description = "Configures the font size of the Friends Chat tab.",
            section = friendsChatSection,
            position = 3
    )
    default int friendsChatFontSize()
    {
        return 10;
    }

    @ConfigItem(
            keyName = "displayFCName",
            name = "Show FC Name",
            description = "Adds the FC name to all FC messages, including other tabs.",
            section = friendsChatSection,
            position = 8
    )
    default boolean showFCName()
    {
        return false;
    }

    @ConfigItem(
            keyName = "gameChatColor",
            name = "Game Chat Color",
            description = "Configures the font color of the game chat messages.",
            section = gameChatSection,
            position = 1
    )
    default Color gameChatColor()
    {
        return new Color(0xFFFFFF);
    }

    @ConfigItem(
            keyName = "gameChatBackgroundColor",
            name = "Game Chat Background",
            description = "Configures the background color of the game chat.",
            section = gameChatSection,
            position = 0
    )
    default Color gameChatBackgroundColor()
    {
        return new Color(0x282828);
    }

    @ConfigItem(
            keyName = "gameChatNameColor",
            name = "Game Chat Name Color",
            description = "Configures the name color for game chat.",
            section = gameChatSection,
            position = 2
    )
    default Color gameChatNameColor()
    {
        return gameChatColor();
    }

    @ConfigItem(
            keyName = "gameChatTimestampColor",
            name = "Game Chat Timestamp Color",
            description = "Configures the timestamp color for game chat.",
            section = gameChatSection,
            position = 2
    )
    default Color gameChatTimestampColor()
    {
        return gameChatColor();
    }

    @Range(min = 5, max = 200)
    @ConfigItem(
            keyName = "gameChatFontSize",
            name = "Game Chat Font Size",
            description = "Configures the font size of the game chat messages.",
            section = gameChatSection,
            position = 3
    )
    default int gameChatFontSize()
    {
        return 12;
    }

    @ConfigItem(
            keyName = "allChatColor",
            name = "All Chat Color",
            description = "Configures the font color of the All Chat messages.",
            section = allChatSection,
            position = 1
    )
    default Color allChatColor()
    {
        return new Color(0xFFFFFF);
    }

    @ConfigItem(
            keyName = "allChatBackground",
            name = "All Chat Background",
            description = "Configures the background color of the All Chat.",
            section = allChatSection,
            position = 0
    )
    default Color allChatBackground()
    {
        return new Color(0x282828);
    }

    @ConfigItem(
            keyName = "allChatNameColor",
            name = "All Chat Name Color",
            description = "Configures the name color for all chat.",
            section = allChatSection,
            position = 2
    )
    default Color allChatNameColor()
    {
        return allChatColor();
    }

    @ConfigItem(
            keyName = "allChatTimestampColor",
            name = "All Chat Timestamp Color",
            description = "Configures the timestamp color for all chat.",
            section = allChatSection,
            position = 2
    )
    default Color allChatTimestampColor()
    {
        return allChatColor();
    }

    @ConfigItem(
            keyName = "allChatGroupNameColor",
            name = "Group Name Color",
            description = "Configures the color of the Clan/FC name in the All tab.",
            section = allChatSection,
            position = 2
    )
    default Color allChatGroupNameColor()
    {
        return allChatColor();
    }

    @Range(min = 5, max = 200)
    @ConfigItem(
            keyName = "allChatFontSize",
            name = "All Chat Font Size",
            description = "Configures the font size of the All Chat messages.",
            section = allChatSection,
            position = 3
    )
    default int allChatFontSize()
    {
        return 10;
    }

    @ConfigItem(
            keyName = "Customtab1",
            name = "Name of Tab",
            description = "Configures the display name of the tab.",
            section = customChatSection,
            position = 0
    )
    default String custom1Tabname()
    {
        return "Custom";
    }

    @ConfigItem(
            keyName = "customChatColor",
            name = "Text Color",
            description = "Configures the font color.",
            section = customChatSection,
            position = 2
    )
    default Color customChatColor()
    {
        return new Color(0xFFFFFF);
    }

    @ConfigItem(
            keyName = "customChatBackgroundColor",
            name = "Background Color",
            description = "Configures the background color.",
            section = customChatSection,
            position = 1
    )
    default Color customChatBackgroundColor()
    {
        return new Color(0x282828);
    }

    @ConfigItem(
            keyName = "customChatNameColor",
            name = "Name Color",
            description = "Configures the name color.",
            section = customChatSection,
            position = 3
    )
    default Color customChatNameColor()
    {
        return customChatColor();
    }

    @ConfigItem(
            keyName = "customChatTimestampColor",
            name = "Timestamp Color",
            description = "Configures the timestamp color.",
            section = customChatSection,
            position = 3
    )
    default Color customChatTimestampColor()
    {
        return customChatColor();
    }

    @ConfigItem(
            keyName = "customChatGroupNameColor",
            name = "Group Name Color",
            description = "Configures the color of the Clan/FC name in the Custom tab.",
            section = customChatSection,
            position = 4
    )
    default Color customChatGroupNameColor()
    {
        return customChatColor();
    }

    @Range(min = 5, max = 200)
    @ConfigItem(
            keyName = "customChatFontSize",
            name = "Font Size",
            description = "Configures the font size.",
            section = customChatSection,
            position = 5
    )
    default int customChatFontSize()
    {
        return 12;
    }

    @ConfigItem(
            keyName = "identifier1",
            name = "Identify Sources of Messages",
            description = "Show sources of messages (e.g. [Clan - Player]: Hello!)",
            section = customChatSection,
            position = 5
    )
    default boolean identifier1()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Custom2tab",
            name = "Name of Tab",
            description = "Configures the display name of the tab.",
            section = custom2ChatSection,
            position = 0
    )
    default String custom2Tabname()
    {
        return "Custom 2";
    }

    @ConfigItem(
            keyName = "custom2ChatColor",
            name = "Text Color",
            description = "Configures the font color.",
            section = custom2ChatSection,
            position = 2
    )
    default Color custom2ChatColor()
    {
        return new Color(0xFFFFFF);
    }

    @ConfigItem(
            keyName = "custom2ChatBackgroundColor",
            name = "Background Color",
            description = "Configures the background color.",
            section = custom2ChatSection,
            position = 1
    )
    default Color custom2ChatBackgroundColor()
    {
        return new Color(0x282828);
    }

    @ConfigItem(
            keyName = "custom2ChatNameColor",
            name = "Name Color",
            description = "Configures the name color.",
            section = custom2ChatSection,
            position = 3
    )
    default Color custom2ChatNameColor()
    {
        return custom2ChatColor();
    }

    @ConfigItem(
            keyName = "custom2ChatTimestampColor",
            name = "Timestamp Color",
            description = "Configures the timestamp color.",
            section = custom2ChatSection,
            position = 3
    )
    default Color custom2ChatTimestampColor()
    {
        return custom2ChatColor();
    }

    @ConfigItem(
            keyName = "custom2ChatGroupNameColor",
            name = "Group Name Color",
            description = "Configures the color of the Clan/FC name in the Custom tab.",
            section = custom2ChatSection,
            position = 4
    )
    default Color custom2ChatGroupNameColor()
    {
        return custom2ChatColor();
    }

    @Range(min = 5, max = 200)
    @ConfigItem(
            keyName = "custom2ChatFontSize",
            name = "Font Size",
            description = "Configures the font size.",
            section = custom2ChatSection,
            position = 5
    )
    default int custom2ChatFontSize()
    {
        return 12;
    }

    @ConfigItem(
            keyName = "identifier2",
            name = "Identify Sources of Messages",
            description = "Show sources of messages (e.g. [Clan - Player]: Hello!)",
            section = custom2ChatSection,
            position = 5
    )
    default boolean identifier2()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Custom3tab",
            name = "Name of Tab",
            description = "Configures the display name of the tab.",
            section = custom3ChatSection,
            position = 0
    )
    default String custom3Tabname()
    {
        return "Custom 3";
    }

    @ConfigItem(
            keyName = "custom3ChatColor",
            name = "Text Color",
            description = "Configures the font color.",
            section = custom3ChatSection,
            position = 2
    )
    default Color custom3ChatColor()
    {
        return new Color(0xFFFFFF);
    }

    @ConfigItem(
            keyName = "custom3ChatBackgroundColor",
            name = "Background Color",
            description = "Configures the background color.",
            section = custom3ChatSection,
            position = 1
    )
    default Color custom3ChatBackgroundColor()
    {
        return new Color(0x282828);
    }

    @ConfigItem(
            keyName = "custom3ChatNameColor",
            name = "Name Color",
            description = "Configures the name color.",
            section = custom3ChatSection,
            position = 3
    )
    default Color custom3ChatNameColor()
    {
        return custom3ChatColor();
    }

    @ConfigItem(
            keyName = "custom3ChatTimestampColor",
            name = "Timestamp Color",
            description = "Configures the timestamp color.",
            section = custom3ChatSection,
            position = 3
    )
    default Color custom3ChatTimestampColor()
    {
        return custom3ChatColor();
    }

    @ConfigItem(
            keyName = "custom3ChatGroupNameColor",
            name = "Group Name Color",
            description = "Configures the color of the Clan/FC name in the Custom tab.",
            section = custom3ChatSection,
            position = 4
    )
    default Color custom3ChatGroupNameColor()
    {
        return custom3ChatColor();
    }

    @Range(min = 5, max = 200)
    @ConfigItem(
            keyName = "custom3ChatFontSize",
            name = "Font Size",
            description = "Configures the font size.",
            section = custom3ChatSection,
            position = 5
    )
    default int custom3ChatFontSize()
    {
        return 12;
    }

    @ConfigItem(
            keyName = "identifier3",
            name = "Identify Sources of Messages",
            description = "Show sources of messages (e.g. [Clan - Player]: Hello!)",
            section = custom3ChatSection,
            position = 5
    )
    default boolean identifier3()
    {
        return false;
    }

    @ConfigItem(
            keyName = "combatTextColor",
            name = "Text Color",
            description = "Configures the font color.",
            section = combatSection,
            position = 2
    )
    default Color combatTextColor()
    {
        return new Color(0xFFFFFF);
    }

    @ConfigItem(
            keyName = "combatBackgroundColor",
            name = "Background Color",
            description = "Configures the background color.",
            section = combatSection,
            position = 1
    )
    default Color combatBackgroundColor()
    {
        return new Color(0x282828);
    }

    @ConfigItem(
            keyName = "combatLabelColor",
            name = "Label Color",
            description = "Configures the color of the labels in this tab (e.g. Combat, Death).",
            section = combatSection,
            position = 3
    )
    default Color combatLabelColor()
    {
        return combatTextColor();
    }

    @ConfigItem(
            keyName = "combatTimestampColor",
            name = "Timestamp Color",
            description = "Configures the timestamp color.",
            section = combatSection,
            position = 3
    )
    default Color combatTimestampColor()
    {
        return combatTextColor();
    }

    @Range(min = -100, max = 100)
    @ConfigItem(
            keyName = "damageNumberColor",
            name = "Damage Brightness",
            description = "Configures the brightness of the damage number, applies to all tabs.<br>Negative numbers darken, positive brighten. (Min -100, max 100)",
            section = combatSection,
            position = 4
    )
    default int damageNumberColor() {
        return 0;
    }

    @ConfigItem(
            keyName = "onlyshowMyHitsplats",
            name = "Only Show My Combat Events",
            description = "Show only damage events related to you, or shows all nearby player's events.",
            section = combatSection,
            position = 5
    )
    default boolean onlyshowMyHitsplats()
    {
        return true;
    }

    @ConfigItem(
            keyName = "hidezerodamageHitsplats",
            name = "Hide Zero Damage Events",
            description = "Hide when things hit 0's",
            section = combatSection,
            position = 7
    )
    default boolean hidezerodamageHitsplats()
    {
        return false;
    }

    @Range(min = 5, max = 200)
    @ConfigItem(
            keyName = "combatFontSize",
            name = "Font Size",
            description = "Configures the font size.",
            section = combatSection,
            position = 4
    )
    default int combatFontSize()
    {
        return 12;
    }

    @ConfigItem(
            keyName = "displayDeaths",
            name = "Show Deaths",
            description = "Displays a message when things die",
            section = combatSection,
            position = 6
    )
    default boolean displayDeaths()
    {
        return true;
    }

    @ConfigItem(
            keyName = "identifierC",
            name = "Add Combat Labels",
            description = "Add labels (Combat, Death) before messages",
            section = combatSection,
            position = 12
    )
    default boolean identifierC()
    {
        return false;
    }

    @ConfigItem(
            keyName = "legacyCombat",
            name = "Legacy Combat Messages",
            description = "Displays combat messages in the old style (pre 2.3).<br> <span style='color:#00FFFF'>Guard was hit for: 0 </span> instead of <span style='color:#00FFFF'>Guard blocked</span>.<br>  <span style='color:red'>Important!</span> If you prefer the old style please let me know on the Chat Panel Discord or Github, <span style='color:red'>I plan to remove this option otherwise.</span>",
            section = combatSection,
            position = 20
    )
    default boolean legacyCombat()
    {
        return false;
    }

    @Range(max = 10)
    @ConfigItem(
            keyName = "lineSpacing",
            name = "Line Spacing",
            description = "Adjust the spacing between chat messages",
            section = generalSection,
            position = 2

    )
    default int lineSpacing()
    {
        return 0;
    }

    @ConfigItem(
            keyName = "popoutAlwaysOnTop",
            name = "Always on Top",
            description = "Keep the pop out window always on top of other windows",
            section = popoutSection,
            position = 2
    )
    default boolean popoutAlwaysOnTop()
    {
        return false;
    }

    @ConfigItem(
            keyName = "popoutSize",
            name = "Size",
            description = "Set the initial size of the pop out window",
            section = popoutSection,
            position = 0
    )
    default Dimension popoutSize()
    {
        return new Dimension(300, 400);
    }

    @Range(min = 10, max = 100)
    @ConfigItem(
            keyName = "PopoutOpacity",
            name = "Window Opacity",
            description = "Set the pop out window's opacity",
            position = 1,
            section = popoutSection
    )
    default int popoutOpacity()
    {
        return 100;
    }

    @ConfigItem(
            keyName = "PopoutWarning",
            name = "Hide Pop Out Closure Warning",
            description = "Show the warning on closing the pop out window with Hide Sidebar Icon on",
            section = extrasSection,
            position = 6
    )
    default boolean hidePopoutWarning()
    {
        return false;
    }

    @ConfigItem(
            keyName = "AutoPop",
            name = "Auto-Pop Out Window",
            description = "Pop out window opens automatically when plugin turned on, including on launch",
            position = 5,
            section = popoutSection
    )
    default boolean AutoPop()
    {
        return false;
    }

    @ConfigItem(
            keyName = "rememberPopoutPosition",
            name = "Remember Pop Out Position",
            description = "Remember the position and size of the pop out window between launches.<br>If you lose track of your pop out window, turn this setting off and pop in and out.",
            section = popoutSection,
            position = 7
    )
    default boolean rememberPopoutPosition() {
        return false;
    }

    @ConfigItem(
            keyName = "DisablePopOut",
            name = "Hide Pop Out/Pop In Buttons",
            description = "Hides pop out button and pop in button, except in empty side panel.",
            position = 5,
            section = extrasSection
    )
    default boolean hidepopoutButtons()
    {
        return false;
    }

    @ConfigItem(
            keyName = "notifiableTabs",
            name = "Notification Tabs",
            description = "Highlights selected tabs when they receive new content.<br>(Ctrl + Click to select multiple)",
            section = notificationsSection,
            position = 2
    )
    default Set<NotifiableTab> notifiableTabs() {
        return Collections.singleton(NotifiableTab.Private);
    }

    @ConfigItem(
            keyName = "notificationColor",
            name = "Notification Color",
            description = "Color of the tab notifications.",
            section = notificationsSection,
            position = 4
    )
    default Color notificationColor()
    {
        return new Color(0x9B6400);
    }

    @ConfigItem(
            keyName = "tabTextColor",
            name = "Tab Name",
            description = "Color of the text in the tab names.",
            section = tabSection,
            position = 0
    )
    default Color tabTextColor()
    {
        return null;
    }

    @Range(min = 5, max = 500)
    @ConfigItem(
            keyName = "tabFontSize",
            name = "Tab Font Size",
            description = "Sets the size of tab names. <br>May need to resize window to view all tabs.",
            section = tabSection,
            position = 0
    )
    default int tabFontSize()
    {
        return 16;
    }

    @Range(min = 5, max = 500)
    @ConfigItem(
            keyName = "tabFonts",
            name = "Tab Fonts",
            description = "Allows the tabs to use chosen fonts.",
            section = tabSection,
            position = 0
    )
    default boolean tabFonts()
    {
        return false;
    }



    @ConfigItem(
            keyName = "underlineColor",
            name = "Selection Underline",
            description = "Sets the color of the selected tab indicator.",
            section = tabSection,
            position = 1
    )
    default Color underlineColor()
    {
        return null;
    }



    @ConfigItem(
            keyName = "showPublicChat",
            name = "Show Public Chat",
            description = "Show/hide the Public Chat tab",
            section = tabSection,
            position = 6
    )
    default boolean showPublicChat()
    {
        return true;
    }

    @ConfigItem(
            keyName = "showPrivateChat",
            name = "Show Private Chat",
            description = "Show/hide the Private Chat tab",
            section = tabSection,
            position = 5
    )
    default boolean showPrivateChat()
    {
        return true;
    }

    @ConfigItem(
            keyName = "showClanChat",
            name = "Show Clan Chat",
            description = "Show/hide the Clan Chat tab",
            section = tabSection,
            position = 1
    )
    default boolean showClanChat()
    {
        return true;
    }

    @ConfigItem(
            keyName = "showGameChat",
            name = "Show Game Chat",
            description = "Show/hide the Game tab",
            section = tabSection,
            position = 4
    )
    default boolean showGameChat()
    {
        return true;
    }

    @ConfigItem(
            keyName = "showAllChat",
            name = "Show All Chat",
            description = "Show/hide the All Chat tab",
            section = tabSection,
            position = 1
    )
    default boolean showAllChat()
    {
        return false;
    }

    @ConfigItem(
            keyName = "showFriendsChat",
            name = "Show Friends Chat Channel",
            description = "Show/hide the Friends Chat tab",
            section = tabSection,
            position = 3
    )
    default boolean showFriendsChat()
    {
        return false;
    }

    @ConfigItem(
            keyName = "showCustomChat",
            name = "Show Custom Chat",
            description = "Show/hide the Custom Chat tab, have fun!",
            section = tabSection,
            position = 9
    )
    default boolean showCustomChat()
    {
        return false;
    }

    @ConfigItem(
            keyName = "showCustom2Chat",
            name = "Show Custom Chat 2",
            description = "Show/hide the second Custom Chat tab, have more fun!",
            section = tabSection,
            position = 10
    )
    default boolean showCustom2Chat()
    {
        return false;
    }

    @ConfigItem(
            keyName = "showCustom3Chat",
            name = "Show Custom Chat 3",
            description = "Show/hide the third Custom Chat tab, have all the fun!",
            section = tabSection,
            position = 11
    )
    default boolean showCustom3Chat()
    {
        return false;
    }

    @ConfigItem(
            keyName = "showCombatTab",
            name = "Show Combat Tab",
            description = "Show/hide Combat tab. (Goblin hits Player for: 2), If target unknown: (Player was hit for: 1) <br> Provides very basic combat logging, there are other plugins for more advanced logging",
            section = tabSection,
            position = 2
    )
    default boolean showCombatTab()
    {
        return false;
    }

    @Range(min = 20, max = 200000)
    @ConfigItem(
            keyName = "maxchatlines",
            name = "Max Lines",
            description = "Max lines to display in each tab, starts getting laggy above 15,000 but feel free. (Min 20, Max 200,000)",
            section = extrasSection,
            position = 0
    )
    default int maxLines()
    {
        return 10000;
    }

	@ConfigItem(
		keyName = "enableMyName",
		name = "Enable My Name Color",
		description = "Enables recoloring your username, overriding chat colors. Select color below.",
		section = extrasSection,
		position = 8
	)
	default boolean enableMyNameColor()
	{
		return false;
	}

	@ConfigItem(
		keyName = "myNameColor",
		name = "My Name Color",
		description = "Configures the color of your username, overriding name color for chat tabs. Requires Enable My Name Color to be checked.",
		section = extrasSection,
		position = 9
	)
	default Color myNameColor()
	{
		return new Color(0xFFFFFF);
	}


    @ConfigItem(
            keyName = "randomColors",
            name = "Random Colors",
            description = "Colors each letter of messages randomly-ish. ",
            section = extrasSection,
            position = 11
    )
    default boolean randomColors()
    {
        return false;
    }

    @Range(min = 10, max = 225)
    @ConfigItem(
            keyName = "randomColorsMinBrightness",
            name = "Random Colors Minimum Brightness",
            description = "The minimum brightness value for the random color for each letter. (Avoids dark colors) ",
            section = extrasSection,
            position = 12
    )
    default int randomColorsMinBrightness()
    {
        return 125;
    }

    @ConfigItem(
            keyName = "hidePopoutIcon",
            name = "Hide Title Bar Icon",
            description = "Removes the icon from the title bar of the pop out windows, if they have one.",
            section = extrasSection,
            position = 4
    )
    default boolean hidePopoutIcon()
    {
        return false;
    }

    @ConfigItem(
            keyName = "exportLogDate",
            name = "Export Log Date",
            description = "Choose the date format for Export Log.",
            section = extrasSection,
            position = 7
    )
    default ExportLogDate exportLogDate()
    {
        return ExportLogDate.dd_MM_yy;
    }

	@ConfigItem(
		keyName = "highlightWords",
		name = "Highlight Words",
		description = "List of words to highlight, separated by commas.",
		section = highlightingSection,
		position = 1
	)
	default String highlightWords()
	{
		return "";
	}

    @ConfigItem(
            keyName = "highlightColor",
            name = "Highlight Color",
            description = "Configures the color of highlighted words.",
            section = highlightingSection,
            position = 4
    )
    default Color highlightColor()
    {
        return new Color(0x00FF0A);
    }

    @ConfigItem(
            keyName = "highlightWords2",
            name = "Highlight Words 2",
            description = "Second list of words to highlight, separated by commas.",
            section = highlightingSection,
            position = 6
    )
    default String highlightWords2()
    {
        return "";
    }

    @ConfigItem(
            keyName = "highlightColor2",
            name = "Highlight Color 2",
            description = "Configures the color of Highlight Words 2.",
            section = highlightingSection,
            position = 7
    )
    default Color highlightColor2()
    {
        return new Color(0xFFA07A);
    }


    @ConfigItem(
            keyName = "highlightWords3",
            name = "Highlight Words 3",
            description = "Third list of words to highlight, separated by commas.",
            section = highlightingSection,
            position = 9
    )
    default String highlightWords3()
    {
        return "";
    }

    @ConfigItem(
            keyName = "highlightColor3",
            name = "Highlight Color 3",
            description = "Configures the color of Highlight Words 3.",
            section = highlightingSection,
            position = 10
    )
    default Color highlightColor3()
    {
        return new Color(0xA0FF7A);
    }

    @ConfigItem(
            keyName = "partialMatching",
            name = "Partial Word Highlighting",
            description = "Allows partial matches of highlight words. Sell would highlight like: <span style='color:yellow'>Sell</span>ing",
            section = highlightingSection,
            position = 12
    )
    default boolean PartialMatching()
    {
        return true;
    }

    @ConfigItem(
            keyName = "gameHighlights",
            name = "Game Highlights",
            description = "Keeps text color highlights given by the game. (Olm orbs, Tempoross attacks)",
            section = highlightingSection,
            position = 13
    )
    default boolean gameHighlights()
    {
        return true;
    }

    @ConfigItem(
            keyName = "runeLiteHighlights",
            name = "RuneLite Highlights",
            description = "Keeps text color highlights given by RuneLite. (GE Average<span style='color:yellow'> 92</span> HA value <span style='color:yellow'>2</span>)<br>Uses the colors from the Transparent section in the Chat Color plugin.",
            section = highlightingSection,
            position = 13
    )
    default boolean runeLiteHighlights()
    {
        return true;
    }

    @ConfigItem(
            keyName = "filteredMessages",
            name = "Filtered Words",
            description = "List of phrases or words to filter out of chat, separated by commas.",
            section = highlightingSection,
            position = 19
    )
    default String filteredMessages()
    {
        return "";
    }

    @ConfigItem(
            keyName = "replaceFiltered",
            name = "Remove Filtered Message",
            description = "This removes the whole message if it contains a filtered word, otherwise the word is censored.",
            section = highlightingSection,
            position = 20
    )
    default boolean replaceInsteadOfRemove()
    {
        return false;
    }



    // Start of hidden entries



    @ConfigItem(
            keyName = "versionNumber",
            name = "Get Version",
            description = "",
            hidden = true
    )
    default double getVersion()
    {
        return 0;
    }

    @ConfigItem(
            keyName = "versionNumber",
            name = "Set Version",
            description = "The version when the update message was last shown.",
            hidden = true
    )
    void setVersion(double version);

    @ConfigItem(
            keyName = "lastDir",
            name = "Get Last Directory",
            description = "",
            hidden = true
    )
    default String getLastDIR()
    {
        return"";
    }

    @ConfigItem(
            keyName = "lastDir",
            name = "Set Last Directory",
            description = "Sets the last directory used to export log.",
            hidden = true
    )
    void setLastDIR(String String);

    @ConfigItem(
            keyName = "popoutMaximized",
            name = "Get Maximized",
            description = "Get if the pop out window was maximized",
            hidden = true
    )
    default boolean isPopoutMaximized() {
        return false;
    }

    @ConfigItem(
            keyName = "popoutMaximized",
            name = "Set Maximized",
            description = "Set if the pop out window was maximized",
            hidden = true
    )
    void setPopoutMaximized(boolean maximized);

    @ConfigItem(
            keyName = "popoutBounds",
            name = "Get Bounds",
            description = "Get bounds of pop out window",
            hidden = true
    )
    default Rectangle getPopoutBounds() {
        return null;
    }

    @ConfigItem(
            keyName = "popoutBounds",
            name = "Set Bounds",
            description = "Set bounds of pop out window",
            hidden = true
    )
    void setPopoutBounds(Rectangle bounds);



    // Start of Custom Chat channels...



    @ConfigItem(
            keyName = "Broadcast",
            name = "Broadcast",
            description = "Display broadcast messages",
            section = customChatSection,
            position = 7
    )
    default boolean CustomBroadcastEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ChalreqClanChat",
            name = "Chalreq Clan Chat",
            description = "Display chalreq clan chat messages",
            section = customChatSection,
            position = 8
    )
    default boolean CustomChalreqClanChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ChalreqFriendsChat",
            name = "Chalreq Friends Chat",
            description = "Display chalreq friends chat messages",
            section = customChatSection,
            position = 9
    )
    default boolean CustomChalreqFriendsChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ChalreqTrade",
            name = "Chalreq Trade",
            description = "Display chalreq trade messages",
            section = customChatSection,
            position = 10
    )
    default boolean CustomChalreqTradeEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanChat",
            name = "Clan Chat",
            description = "Display clan chat messages",
            section = customChatSection,
            position = 11
    )
    default boolean CustomClanChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGimChat",
            name = "Clan GIM Chat",
            description = "Display clan GIM chat messages",
            section = customChatSection,
            position = 12
    )
    default boolean CustomClanGimChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGimMessage",
            name = "Clan GIM Message",
            description = "Display clan GIM messages",
            section = customChatSection,
            position = 13
    )
    default boolean CustomClanGimMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGuestChat",
            name = "Clan Guest Chat",
            description = "Display clan guest chat messages",
            section = customChatSection,
            position = 14
    )
    default boolean CustomClanGuestChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGuestMessage",
            name = "Clan Guest Message",
            description = "Display clan guest messages",
            section = customChatSection,
            position = 15
    )
    default boolean CustomClanGuestMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanMessage",
            name = "Clan Message",
            description = "Display clan messages",
            section = customChatSection,
            position = 16
    )
    default boolean CustomClanMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Combat",
            name = "Combat",
            description = "Display combat messages",
            section = customChatSection,
            position = 17
    )
    default boolean CustomCombatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Console",
            name = "Console",
            description = "Display console messages",
            section = customChatSection,
            position = 18
    )
    default boolean CustomConsoleEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Dialog",
            name = "Dialog",
            description = "Display dialog messages",
            section = customChatSection,
            position = 19
    )
    default boolean CustomDialogEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "DidYouKnow",
            name = "Did You Know?",
            description = "Display 'Did You Know?' messages",
            section = customChatSection,
            position = 19
    )
    default boolean CustomDidYouKnowEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Engine",
            name = "Engine",
            description = "Display engine messages",
            section = customChatSection,
            position = 20
    )
    default boolean CustomEngineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "FriendNotification",
            name = "Friend Notification",
            description = "Display friend notifications",
            section = customChatSection,
            position = 21
    )
    default boolean CustomFriendNotificationEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "FriendsChat",
            name = "Friends Chat",
            description = "Display friends chat messages",
            section = customChatSection,
            position = 22
    )
    default boolean CustomFriendsChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "FriendsChatNotification",
            name = "Friends Chat Notification",
            description = "Display friends chat notifications",
            section = customChatSection,
            position = 23
    )
    default boolean CustomFriendsChatNotificationEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "GameMessage",
            name = "Game Message",
            description = "Display game messages",
            section = customChatSection,
            position = 24
    )
    default boolean CustomGameMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "IgnoreNotification",
            name = "Ignore Notification",
            description = "Display ignore notifications",
            section = customChatSection,
            position = 25
    )
    default boolean CustomIgnoreNotificationEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ItemExamine",
            name = "Item Examine",
            description = "Display item examine messages",
            section = customChatSection,
            position = 26
    )
    default boolean CustomItemExamineEnabled()
    {
        return false;
    }
    @ConfigItem(
            keyName = "CustomLoginLogoutEnabled",
            name = "Login Logout",
            description = "Display friend's Login and Logout messages",
            section = customChatSection,
            position = 27
    )
    default boolean CustomLoginLogoutEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Mesbox",
            name = "Mesbox",
            description = "Display Mesbox messages",
            section = customChatSection,
            position = 27
    )
    default boolean CustomMesboxEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ModAutoTyper",
            name = "Mod Auto Typer",
            description = "Display mod auto-typer messages",
            section = customChatSection,
            position = 27
    )
    default boolean CustomModAutoTyperEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ModChat",
            name = "Mod Chat",
            description = "Display mod chat messages",
            section = customChatSection,
            position = 28
    )
    default boolean CustomModChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ModPrivateChat",
            name = "Mod Private Chat",
            description = "Display mod private chat messages",
            section = customChatSection,
            position = 29
    )
    default boolean CustomModPrivateChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "NpcExamine",
            name = "NPC Examine",
            description = "Display NPC examine messages",
            section = customChatSection,
            position = 30
    )
    default boolean CustomNpcExamineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "NpcSay",
            name = "NPC Say",
            description = "Display NPC Say messages",
            section = customChatSection,
            position = 30
    )
    default boolean CustomNpcSayEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ObjectExamine",
            name = "Object Examine",
            description = "Display object examine messages",
            section = customChatSection,
            position = 31
    )
    default boolean CustomObjectExamineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "PrivateChat",
            name = "Private Chat",
            description = "Display private chat messages",
            section = customChatSection,
            position = 32
    )
    default boolean CustomPrivateChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "PrivateChatout",
            name = "Private Chat Out",
            description = "Display private chat out messages",
            section = customChatSection,
            position = 33
    )
    default boolean CustomPrivateChatoutEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "PublicChat",
            name = "Public Chat",
            description = "Display public chat messages",
            section = customChatSection,
            position = 34
    )
    default boolean CustomPublicChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Spam",
            name = "Spam",
            description = "Display spam messages",
            section = customChatSection,
            position = 35
    )
    default boolean CustomSpamEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Trade",
            name = "Trade",
            description = "Display trade messages",
            section = customChatSection,
            position = 36
    )
    default boolean CustomTradeEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "TradeReq",
            name = "Trade Req",
            description = "Display trade request messages",
            section = customChatSection,
            position = 37
    )
    default boolean CustomTradeReqEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "TradeSent",
            name = "Trade Sent",
            description = "Display trade sent messages",
            section = customChatSection,
            position = 38
    )
    default boolean CustomTradeSentEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Unknown",
            name = "Unknown",
            description = "Display 'unknown' chat channel",
            section = customChatSection,
            position = 39
    )
    default boolean CustomUnknownEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Welcome",
            name = "Welcome",
            description = "Display welcome messages",
            section = customChatSection,
            position = 40
    )
    default boolean CustomWelcomeEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Broadcast2",
            name = "Broadcast",
            description = "Display broadcast messages",
            section = custom2ChatSection,
            position = 7
    )
    default boolean Custom2BroadcastEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ChalreqClanChat2",
            name = "Chalreq Clan Chat",
            description = "Display chalreq clan chat messages",
            section = custom2ChatSection,
            position = 8
    )
    default boolean Custom2ChalreqClanChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ChalreqFriendsChat2",
            name = "Chalreq Friends Chat",
            description = "Display chalreq friends chat messages",
            section = custom2ChatSection,
            position = 9
    )
    default boolean Custom2ChalreqFriendsChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ChalreqTrade2",
            name = "Chalreq Trade",
            description = "Display chalreq trade messages",
            section = custom2ChatSection,
            position = 10
    )
    default boolean Custom2ChalreqTradeEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanChat2",
            name = "Clan Chat",
            description = "Display clan chat messages",
            section = custom2ChatSection,
            position = 11
    )
    default boolean Custom2ClanChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGimChat2",
            name = "Clan GIM Chat",
            description = "Display clan GIM chat messages",
            section = custom2ChatSection,
            position = 12
    )
    default boolean Custom2ClanGimChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGimMessage2",
            name = "Clan GIM Message",
            description = "Display clan GIM messages",
            section = custom2ChatSection,
            position = 13
    )
    default boolean Custom2ClanGimMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGuestChat2",
            name = "Clan Guest Chat",
            description = "Display clan guest chat messages",
            section = custom2ChatSection,
            position = 14
    )
    default boolean Custom2ClanGuestChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGuestMessage2",
            name = "Clan Guest Message",
            description = "Display clan guest messages",
            section = custom2ChatSection,
            position = 15
    )
    default boolean Custom2ClanGuestMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanMessage2",
            name = "Clan Message",
            description = "Display clan messages",
            section = custom2ChatSection,
            position = 16
    )
    default boolean Custom2ClanMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Combat2",
            name = "Combat",
            description = "Display combat messages",
            section = custom2ChatSection,
            position = 17
    )
    default boolean Custom2CombatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Console2",
            name = "Console",
            description = "Display console messages",
            section = custom2ChatSection,
            position = 18
    )
    default boolean Custom2ConsoleEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Dialog2",
            name = "Dialog",
            description = "Display dialog messages",
            section = custom2ChatSection,
            position = 19
    )
    default boolean Custom2DialogEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "DidYouKnow2",
            name = "Did You Know?",
            description = "Display 'Did You Know?' messages",
            section = custom2ChatSection,
            position = 19
    )
    default boolean Custom2DidYouKnowEnabled()
    {
        return false;
    }
    @ConfigItem(
            keyName = "Engine2",
            name = "Engine",
            description = "Display engine messages",
            section = custom2ChatSection,
            position = 20
    )
    default boolean Custom2EngineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "FriendNotification2",
            name = "Friend Notification",
            description = "Display friend notifications",
            section = custom2ChatSection,
            position = 21
    )
    default boolean Custom2FriendNotificationEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "FriendsChat2",
            name = "Friends Chat",
            description = "Display friends chat messages",
            section = custom2ChatSection,
            position = 22
    )
    default boolean Custom2FriendsChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "FriendsChatNotification2",
            name = "Friends Chat Notification",
            description = "Display friends chat notifications",
            section = custom2ChatSection,
            position = 23
    )
    default boolean Custom2FriendsChatNotificationEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "GameMessage2",
            name = "Game Message",
            description = "Display game messages",
            section = custom2ChatSection,
            position = 24
    )
    default boolean Custom2GameMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "IgnoreNotification2",
            name = "Ignore Notification",
            description = "Display ignore notifications",
            section = custom2ChatSection,
            position = 25
    )
    default boolean Custom2IgnoreNotificationEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ItemExamine2",
            name = "Item Examine",
            description = "Display item examine messages",
            section = custom2ChatSection,
            position = 26
    )
    default boolean Custom2ItemExamineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Custom2LoginLogoutEnabled",
            name = "Login Logout",
            description = "Display friend's Login and Logout messages",
            section = custom2ChatSection,
            position = 27
    )
    default boolean Custom2LoginLogoutEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Mesbox2",
            name = "Mesbox",
            description = "Display Mesbox messages",
            section = custom2ChatSection,
            position = 27
    )
    default boolean Custom2MesboxEnabled()
    {
        return false;
    }
    
    @ConfigItem(
            keyName = "ModAutoTyper2",
            name = "Mod Auto Typer",
            description = "Display mod auto-typer messages",
            section = custom2ChatSection,
            position = 27
    )
    default boolean Custom2ModAutoTyperEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ModChat2",
            name = "Mod Chat",
            description = "Display mod chat messages",
            section = custom2ChatSection,
            position = 28
    )
    default boolean Custom2ModChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ModPrivateChat2",
            name = "Mod Private Chat",
            description = "Display mod private chat messages",
            section = custom2ChatSection,
            position = 29
    )
    default boolean Custom2ModPrivateChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "NpcExamine2",
            name = "NPC Examine",
            description = "Display NPC examine messages",
            section = custom2ChatSection,
            position = 30
    )
    default boolean Custom2NpcExamineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "NpcSay2",
            name = "NPC Say",
            description = "Display NPC Say messages",
            section = custom2ChatSection,
            position = 30
    )
    default boolean Custom2NpcSayEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ObjectExamine2",
            name = "Object Examine",
            description = "Display object examine messages",
            section = custom2ChatSection,
            position = 31
    )
    default boolean Custom2ObjectExamineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "PrivateChat2",
            name = "Private Chat",
            description = "Display private chat messages",
            section = custom2ChatSection,
            position = 32
    )
    default boolean Custom2PrivateChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "PrivateChatout2",
            name = "Private Chat Out",
            description = "Display private chat out messages",
            section = custom2ChatSection,
            position = 33
    )
    default boolean Custom2PrivateChatoutEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "PublicChat2",
            name = "Public Chat",
            description = "Display public chat messages",
            section = custom2ChatSection,
            position = 34
    )
    default boolean Custom2PublicChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Spam2",
            name = "Spam",
            description = "Display spam messages",
            section = custom2ChatSection,
            position = 35
    )
    default boolean Custom2SpamEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Trade2",
            name = "Trade",
            description = "Display trade messages",
            section = custom2ChatSection,
            position = 36
    )
    default boolean Custom2TradeEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "TradeReq2",
            name = "Trade Req",
            description = "Display trade request messages",
            section = custom2ChatSection,
            position = 37
    )
    default boolean Custom2TradeReqEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "TradeSent2",
            name = "Trade Sent",
            description = "Display trade sent messages",
            section = custom2ChatSection,
            position = 38
    )
    default boolean Custom2TradeSentEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Unknown2",
            name = "Unknown",
            description = "Display 'unknown' chat channel",
            section = custom2ChatSection,
            position = 39
    )
    default boolean Custom2UnknownEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Welcome2",
            name = "Welcome",
            description = "Display welcome messages",
            section = custom2ChatSection,
            position = 40
    )
    default boolean Custom2WelcomeEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Broadcast3",
            name = "Broadcast",
            description = "Display broadcast messages",
            section = custom3ChatSection,
            position = 7
    )
    default boolean Custom3BroadcastEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ChalreqClanChat3",
            name = "Chalreq Clan Chat",
            description = "Display chalreq clan chat messages",
            section = custom3ChatSection,
            position = 8
    )
    default boolean Custom3ChalreqClanChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ChalreqFriendsChat3",
            name = "Chalreq Friends Chat",
            description = "Display chalreq friends chat messages",
            section = custom3ChatSection,
            position = 9
    )
    default boolean Custom3ChalreqFriendsChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ChalreqTrade3",
            name = "Chalreq Trade",
            description = "Display chalreq trade messages",
            section = custom3ChatSection,
            position = 10
    )
    default boolean Custom3ChalreqTradeEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanChat3",
            name = "Clan Chat",
            description = "Display clan chat messages",
            section = custom3ChatSection,
            position = 11
    )
    default boolean Custom3ClanChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGimChat3",
            name = "Clan GIM Chat",
            description = "Display clan GIM chat messages",
            section = custom3ChatSection,
            position = 12
    )
    default boolean Custom3ClanGimChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGimMessage3",
            name = "Clan GIM Message",
            description = "Display clan GIM messages",
            section = custom3ChatSection,
            position = 13
    )
    default boolean Custom3ClanGimMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGuestChat3",
            name = "Clan Guest Chat",
            description = "Display clan guest chat messages",
            section = custom3ChatSection,
            position = 14
    )
    default boolean Custom3ClanGuestChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanGuestMessage3",
            name = "Clan Guest Message",
            description = "Display clan guest messages",
            section = custom3ChatSection,
            position = 15
    )
    default boolean Custom3ClanGuestMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ClanMessage3",
            name = "Clan Message",
            description = "Display clan messages",
            section = custom3ChatSection,
            position = 16
    )
    default boolean Custom3ClanMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Combat3",
            name = "Combat",
            description = "Display combat messages",
            section = custom3ChatSection,
            position = 17
    )
    default boolean Custom3CombatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Console3",
            name = "Console",
            description = "Display console messages",
            section = custom3ChatSection,
            position = 18
    )
    default boolean Custom3ConsoleEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Dialog3",
            name = "Dialog",
            description = "Display dialog messages",
            section = custom3ChatSection,
            position = 19
    )
    default boolean Custom3DialogEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "DidYouKnow3",
            name = "Did You Know?",
            description = "Display 'Did You Know?' messages",
            section = custom3ChatSection,
            position = 19
    )
    default boolean Custom3DidYouKnowEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Engine3",
            name = "Engine",
            description = "Display engine messages",
            section = custom3ChatSection,
            position = 20
    )
    default boolean Custom3EngineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "FriendNotification3",
            name = "Friend Notification",
            description = "Display friend notifications",
            section = custom3ChatSection,
            position = 21
    )
    default boolean Custom3FriendNotificationEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "FriendsChat3",
            name = "Friends Chat",
            description = "Display friends chat messages",
            section = custom3ChatSection,
            position = 22
    )
    default boolean Custom3FriendsChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "FriendsChatNotification3",
            name = "Friends Chat Notification",
            description = "Display friends chat notifications",
            section = custom3ChatSection,
            position = 23
    )
    default boolean Custom3FriendsChatNotificationEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "GameMessage3",
            name = "Game Message",
            description = "Display game messages",
            section = custom3ChatSection,
            position = 24
    )
    default boolean Custom3GameMessageEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "IgnoreNotification3",
            name = "Ignore Notification",
            description = "Display ignore notifications",
            section = custom3ChatSection,
            position = 25
    )
    default boolean Custom3IgnoreNotificationEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ItemExamine3",
            name = "Item Examine",
            description = "Display item examine messages",
            section = custom3ChatSection,
            position = 26
    )
    default boolean Custom3ItemExamineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Custom3LoginLogoutEnabled",
            name = "Login Logout",
            description = "Display friend's Login and Logout messages",
            section = custom3ChatSection,
            position = 27
    )
    default boolean Custom3LoginLogoutEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Mesbox3",
            name = "Mesbox",
            description = "Display Mesbox messages",
            section = custom3ChatSection,
            position = 27
    )
    default boolean Custom3MesboxEnabled()
    {
        return false;
    }
    
    @ConfigItem(
            keyName = "ModAutoTyper3",
            name = "Mod Auto Typer",
            description = "Display mod auto-typer messages",
            section = custom3ChatSection,
            position = 27
    )
    default boolean Custom3ModAutoTyperEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ModChat3",
            name = "Mod Chat",
            description = "Display mod chat messages",
            section = custom3ChatSection,
            position = 28
    )
    default boolean Custom3ModChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ModPrivateChat3",
            name = "Mod Private Chat",
            description = "Display mod private chat messages",
            section = custom3ChatSection,
            position = 29
    )
    default boolean Custom3ModPrivateChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "NpcExamine3",
            name = "NPC Examine",
            description = "Display NPC examine messages",
            section = custom3ChatSection,
            position = 30
    )
    default boolean Custom3NpcExamineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "NpcSay3",
            name = "NPC Say",
            description = "Display NPC Say messages",
            section = custom3ChatSection,
            position = 30
    )
    default boolean Custom3NpcSayEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "ObjectExamine3",
            name = "Object Examine",
            description = "Display object examine messages",
            section = custom3ChatSection,
            position = 31
    )
    default boolean Custom3ObjectExamineEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "PrivateChat3",
            name = "Private Chat",
            description = "Display private chat messages",
            section = custom3ChatSection,
            position = 32
    )
    default boolean Custom3PrivateChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "PrivateChatout3",
            name = "Private Chat Out",
            description = "Display private chat out messages",
            section = custom3ChatSection,
            position = 33
    )
    default boolean Custom3PrivateChatoutEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "PublicChat3",
            name = "Public Chat",
            description = "Display public chat messages",
            section = custom3ChatSection,
            position = 34
    )
    default boolean Custom3PublicChatEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Spam3",
            name = "Spam",
            description = "Display spam messages",
            section = custom3ChatSection,
            position = 35
    )
    default boolean Custom3SpamEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Trade3",
            name = "Trade",
            description = "Display trade messages",
            section = custom3ChatSection,
            position = 36
    )
    default boolean Custom3TradeEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "TradeReq3",
            name = "Trade Req",
            description = "Display trade request messages",
            section = custom3ChatSection,
            position = 37
    )
    default boolean Custom3TradeReqEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "TradeSent3",
            name = "Trade Sent",
            description = "Display trade sent messages",
            section = custom3ChatSection,
            position = 38
    )
    default boolean Custom3TradeSentEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Unknown3",
            name = "Unknown",
            description = "Display 'unknown' chat channel",
            section = custom3ChatSection,
            position = 39
    )
    default boolean Custom3UnknownEnabled()
    {
        return false;
    }

    @ConfigItem(
            keyName = "Welcome3",
            name = "Welcome",
            description = "Display welcome messages",
            section = custom3ChatSection,
            position = 40
    )
    default boolean Custom3WelcomeEnabled()
    {
        return false;
    }


    // Start of type based coloring entries.



    @ConfigItem(
            keyName = "overrideNameColor",
            name = "Override Name Color",
            description = "Use message type color for the name/identifier.",
            section = eventSection,
            position = 0
    )
    default boolean OverrideNameColor()
    {
        return false;
    }

    @ConfigItem(
            keyName = "overrideTimestampColor",
            name = "Override Timestamp Color",
            description = "Use message type color for the timestamp.",
            section = eventSection,
            position = 0
    )
    default boolean OverrideTimestampColor()
    {
        return false;
    }

    @ConfigItem(
            keyName = "OverrideGroupNameColor",
            name = "Override Group Name Color",
            description = "Use message type color for the group name.",
            section = eventSection,
            position = 1
    )
    default boolean OverrideGroupNameColor()
    {
        return false;
    }

    @ConfigItem(
            keyName = "broadcastColor",
            name = "Broadcast",
            description = "Configures the text color for broadcast messages.",
            section = eventSection,
            position = 2
    )
    default Color broadcastColor() {
        return null;
    }

    @ConfigItem(
            keyName = "chalReqClanColor",
            name = "ChalReq Clan",
            description = "Configures the text color for clan challenge requests.",
            section = eventSection,
            position = 2
    )
    default Color chalReqClanColor() {
        return null;
    }

    @ConfigItem(
            keyName = "chalReqFriendsColor",
            name = "ChalReq Friends",
            description = "Configures the text color for friends challenge requests.",
            section = eventSection,
            position = 3
    )
    default Color chalReqFriendsColor() {
        return null;
    }

    @ConfigItem(
            keyName = "chalReqTradeColor",
            name = "ChalReq Trade",
            description = "Configures the text color for trade challenge requests.",
            section = eventSection,
            position = 4
    )
    default Color chalReqTradeColor() {
        return null;
    }

    @ConfigItem(
            keyName = "clanColor",
            name = "Clan Chat",
            description = "Configures the text color for clan chat messages.",
            section = eventSection,
            position = 5
    )
    default Color clanColor() {
        return null;
    }

    @ConfigItem(
            keyName = "clanGuestChatColor",
            name = "Clan Guest Chat",
            description = "Configures the text color for clan guest chat messages.",
            section = eventSection,
            position = 6
    )
    default Color clanGuestChatColor() {
        return null;
    }

    @ConfigItem(
            keyName = "clanGuestMessageColor",
            name = "Clan Guest Message",
            description = "Configures the text color for clan guest messages.",
            section = eventSection,
            position = 7
    )
    default Color clanGuestMessageColor() {
        return null;
    }

    @ConfigItem(
            keyName = "clanGimChatColor",
            name = "Clan GIM Chat",
            description = "Configures the text color for clan GIM chat messages.",
            section = eventSection,
            position = 8
    )
    default Color clanGimChatColor() {
        return null;
    }

    @ConfigItem(
            keyName = "clanGimMessageColor",
            name = "Clan GIM Message",
            description = "Configures the text color for clan GIM messages.",
            section = eventSection,
            position = 9
    )
    default Color clanGimMessageColor() {
        return null;
    }

    @ConfigItem(
            keyName = "clanMessageColor",
            name = "Clan Message",
            description = "Configures the text color for clan messages.",
            section = eventSection,
            position = 10
    )
    default Color clanMessageColor() {
        return null;
    }

    @ConfigItem(
            keyName = "combatColor",
            name = "Combat",
            description = "Configures the text color for all combat messages, before other combat type recoloring.",
            section = eventSection,
            position = 11
    )
    default Color combatColor() {
        return null;
    }

    @ConfigItem(
            keyName = "combatBlockColor",
            name = "Combat - Block",
            description = "Configures the color for Block and Miss (0 damage) combat messages.",
            section = eventSection,
            position = 11
    )
    default Color combatBlockColor() {
        return null;
    }

    @ConfigItem(
            keyName = "combatPoisonColor",
            name = "Combat - Poison",
            description = "Configures the color for Poison, Venom, and Disease combat messages.",
            section = eventSection,
            position = 11
    )
    default Color combatPoisonColor() {
        return null;
    }

    @ConfigItem(
            keyName = "combatMaxColor",
            name = "Combat - Max Hit",
            description = "Configures the color for Max Hit combat messages.",
            section = eventSection,
            position = 11
    )
    default Color combatMaxColor() {
        return null;
    }

    @ConfigItem(
            keyName = "combatHealColor",
            name = "Combat - Heal",
            description = "Configures the color for Heal and Sanity_Restore combat messages. (Not food healing, like Soulreaper healing)",
            section = eventSection,
            position = 11
    )
    default Color combatHealColor() {
        return null;
    }

    @ConfigItem(
            keyName = "combatDrainColor",
            name = "Combat - Drain",
            description = "Configures the color for Corruption, Prayer_Drain, Sanity_Drain, and Doom combat messages.",
            section = eventSection,
            position = 11
    )
    default Color combatDrainColor() {
        return null;
    }

    @ConfigItem(
            keyName = "combatDotColor",
            name = "Combat - Burn",
            description = "Configures the color for Burn and Bleed combat messages.",
            section = eventSection,
            position = 11
    )
    default Color combatBurnColor() {
        return null;
    }

    @ConfigItem(
            keyName = "consoleColor",
            name = "Console",
            description = "Configures the text color for console messages.",
            section = eventSection,
            position = 12
    )
    default Color consoleColor() {
        return null;
    }

    @ConfigItem(
            keyName = "deatholor",
            name = "Death",
            description = "Configures the text color for death messages.",
            section = eventSection,
            position = 13
    )
    default Color deathColor() {
        return null;
    }

    @ConfigItem(
            keyName = "dialogColor",
            name = "Dialog",
            description = "Configures the text color for dialog messages.",
            section = eventSection,
            position = 13
    )
    default Color dialogColor() {
        return null;
    }

    @ConfigItem(
            keyName = "DidYouKnowColor",
            name = "Did You Know?",
            description = "Configures the text color for 'Did You Know?' messages.",
            section = eventSection,
            position = 13
    )
    default Color didYouKnowColor() {
        return null;
    }

    @ConfigItem(
            keyName = "engineColor",
            name = "Engine",
            description = "Configures the text color for engine messages.",
            section = eventSection,
            position = 14
    )
    default Color engineColor() {
        return null;
    }

    @ConfigItem(
            keyName = "friendNotificationColor",
            name = "Friend Notification",
            description = "Configures the text color for friend notifications.",
            section = eventSection,
            position = 15
    )
    default Color friendNotificationColor() {
        return null;
    }

    @ConfigItem(
            keyName = "friendsColor",
            name = "Friends Chat",
            description = "Configures the text color for friends chat messages.",
            section = eventSection,
            position = 16
    )
    default Color friendsColor() {
        return null;
    }

    @ConfigItem(
            keyName = "friendsChatNotificationColor",
            name = "Friends Chat Notification",
            description = "Configures the text color for friends chat notifications.",
            section = eventSection,
            position = 16
    )
    default Color friendsChatNotificationColor() {
        return null;
    }

    @ConfigItem(
            keyName = "gameMessageColor",
            name = "Game Message",
            description = "Configures the text color for game messages.",
            section = eventSection,
            position = 17
    )
    default Color gameMessageColor() {
        return null;
    }

        @ConfigItem(
            keyName = "ignoreNotificationColor",
            name = "Ignore Notification",
            description = "Configures the text color for ignore notifications.",
            section = eventSection,
            position = 18
    )
    default Color ignoreNotificationColor() {
            return null;
    }

    @ConfigItem(
            keyName = "itemExamineColor",
            name = "Item Examine",
            description = "Configures the text color for item examine messages.",
            section = eventSection,
            position = 18
    )
    default Color itemExamineColor() {
        return null;
    }

    @ConfigItem(
            keyName = "loginLogoutColor",
            name = "Login Logout",
            description = "Configures the text color for Login and Logout messages.",
            section = eventSection,
            position = 19
    )
    default Color loginLogoutColor() {
        return null;
    }

    @ConfigItem(
            keyName = "mesBoxColor",
            name = "Message Box",
            description = "Configures the text color for message box messages.",
            section = eventSection,
            position = 19
    )
    default Color mesboxColor() {
        return null;
    }

    @ConfigItem(
            keyName = "modAutoTyperColor",
            name = "Mod Auto-Typer",
            description = "Configures the text color for mod auto-typer messages.",
            section = eventSection,
            position = 20
    )
    default Color modAutoTyperColor() {
        return null;
    }

    @ConfigItem(
            keyName = "modChatColor",
            name = "Mod Chat",
            description = "Configures the text color for ModChat messages.",
            section = eventSection,
            position = 21
    )
    default Color modChatColor() {
        return null;
    }

    @ConfigItem(
            keyName = "modPrivateChatColor",
            name = "Mod Private Chat",
            description = "Configures the text color for Mod private chat messages.",
            section = eventSection,
            position = 22
    )
    default Color modPrivateChatColor() {
        return null;
    }

    @ConfigItem(
            keyName = "npcExamineColor",
            name = "NPC Examine",
            description = "Configures the text color for NPC examine messages.",
            section = eventSection,
            position = 23
    )
    default Color npcExamineColor() {
        return null;
    }

    @ConfigItem(
            keyName = "npcSayColor",
            name = "NPC Say",
            description = "Configures the text color for NPC messages.",
            section = eventSection,
            position = 24
    )
    default Color npcSayColor() {
        return null;
    }

    @ConfigItem(
            keyName = "objectExamineColor",
            name = "Object Examine",
            description = "Configures the font color of object Examine text.",
            section = eventSection,
            position = 24
    )
    default Color objectExamineColor() {
        return null;
    }

    @ConfigItem(
            keyName = "privateColor",
            name = "Private Chat",
            description = "Configures the text color for incoming private chat messages.",
            section = eventSection,
            position = 25
    )
    default Color privateColor() {
        return null;
    }

    @ConfigItem(
            keyName = "privateChatOutColor",
            name = "Private Chat Out",
            description = "Configures the text color for outgoing private chat messages.",
            section = eventSection,
            position = 26
    )
    default Color privateChatOutColor() {
        return null;
    }

    @ConfigItem(
            keyName = "publicColor",
            name = "Public Chat",
            description = "Configures the text color for public chat messages.",
            section = eventSection,
            position = 27
    )
    default Color publicColor() {
        return null;
    }

    @ConfigItem(
            keyName = "spamColor",
            name = "Spam Message",
            description = "Configures the text color for spam messages.",
            section = eventSection,
            position = 28
    )
    default Color spamColor() {
        return null;
    }

    @ConfigItem(
            keyName = "tradeColor",
            name = "Trade Message",
            description = "Configures the text color for trade messages.",
            section = eventSection,
            position = 29
    )
    default Color tradeColor() {
        return null;
    }

    @ConfigItem(
            keyName = "tradeReqColor",
            name = "Trade Request",
            description = "Configures the text color for trade requests.",
            section = eventSection,
            position = 30
    )
    default Color tradeReqColor() {
        return null;
    }

    @ConfigItem(
            keyName = "tradeSentColor",
            name = "Trade Sent Message",
            description = "Configures the text color for trade sent messages.",
            section = eventSection,
            position = 31
    )
    default Color tradeSentColor() {
        return null;
    }

    @ConfigItem(
            keyName = "unknownColor",
            name = "Unknown Message",
            description = "Configures the text color for unknown messages, spooky.",
            section = eventSection,
            position = 32
    )
    default Color unknownColor() {
        return null;
    }

    @ConfigItem(
            keyName = "welcomeColor",
            name = "Welcome Message",
            description = "Configures the text color for the welcome message.",
            section = eventSection,
            position = 33
    )
    default Color welcomeColor() {
        return null;
    }
}
package com.chatpanel;

import net.runelite.client.RuneLite;
import net.runelite.client.externalplugins.ExternalPluginManager;

public class ChatPanelPluginTest
{
	public static void main(String[] args) throws Exception
	{
		ExternalPluginManager.loadBuiltin(ChatPanelPlugin.class);
		RuneLite.main(args);
	}
}
